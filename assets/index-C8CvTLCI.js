(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=a(o);fetch(o.href,h)}})();function C0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Sf={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function Gb(){if(yy)return Il;yy=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Il.Fragment=n,Il.jsx=a,Il.jsxs=a,Il}var vy;function Qb(){return vy||(vy=1,Sf.exports=Gb()),Sf.exports}var b=Qb(),wf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function Fb(){if(_y)return Et;_y=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=j&&M[j]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Q={};function rt(M,K,et){this.props=M,this.context=K,this.refs=Q,this.updater=et||$}rt.prototype.isReactComponent={},rt.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},rt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ot(){}ot.prototype=rt.prototype;function ut(M,K,et){this.props=M,this.context=K,this.refs=Q,this.updater=et||$}var nt=ut.prototype=new ot;nt.constructor=ut,it(nt,rt.prototype),nt.isPureReactComponent=!0;var Ut=Array.isArray;function q(){}var S={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function w(M,K,et){var ct=et.ref;return{$$typeof:s,type:M,key:K,ref:ct!==void 0?ct:null,props:et}}function N(M,K){return w(M.type,K,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function O(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(et){return K[et]})}var R=/\/+/g;function Xt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):K.toString(36)}function ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(q,q):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,et,ct,vt){var W=typeof M;(W==="undefined"||W==="boolean")&&(M=null);var lt=!1;if(M===null)lt=!0;else switch(W){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(M.$$typeof){case s:case n:lt=!0;break;case A:return lt=M._init,F(lt(M._payload),K,et,ct,vt)}}if(lt)return vt=vt(M),lt=ct===""?"."+Xt(M,0):ct,Ut(vt)?(et="",lt!=null&&(et=lt.replace(R,"$&/")+"/"),F(vt,K,et,"",function(Wt){return Wt})):vt!=null&&(I(vt)&&(vt=N(vt,et+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+lt)),K.push(vt)),1;lt=0;var St=ct===""?".":ct+":";if(Ut(M))for(var Nt=0;Nt<M.length;Nt++)ct=M[Nt],W=St+Xt(ct,Nt),lt+=F(ct,K,et,W,vt);else if(Nt=G(M),typeof Nt=="function")for(M=Nt.call(M),Nt=0;!(ct=M.next()).done;)ct=ct.value,W=St+Xt(ct,Nt++),lt+=F(ct,K,et,W,vt);else if(W==="object"){if(typeof M.then=="function")return F(ie(M),K,et,ct,vt);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return lt}function st(M,K,et){if(M==null)return M;var ct=[],vt=0;return F(M,ct,"","",function(W){return K.call(et,W,vt++)}),ct}function gt(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(et){(M._status===0||M._status===-1)&&(M._status=1,M._result=et)},function(et){(M._status===0||M._status===-1)&&(M._status=2,M._result=et)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qt={map:st,forEach:function(M,K,et){st(M,function(){K.apply(this,arguments)},et)},count:function(M){var K=0;return st(M,function(){K++}),K},toArray:function(M){return st(M,function(K){return K})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=D,Et.Children=qt,Et.Component=rt,Et.Fragment=a,Et.Profiler=o,Et.PureComponent=ut,Et.StrictMode=r,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return S.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,K,et){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ct=it({},M.props),vt=M.key;if(K!=null)for(W in K.key!==void 0&&(vt=""+K.key),K)!x.call(K,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&K.ref===void 0||(ct[W]=K[W]);var W=arguments.length-2;if(W===1)ct.children=et;else if(1<W){for(var lt=Array(W),St=0;St<W;St++)lt[St]=arguments[St+2];ct.children=lt}return w(M.type,vt,ct)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Et.createElement=function(M,K,et){var ct,vt={},W=null;if(K!=null)for(ct in K.key!==void 0&&(W=""+K.key),K)x.call(K,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(vt[ct]=K[ct]);var lt=arguments.length-2;if(lt===1)vt.children=et;else if(1<lt){for(var St=Array(lt),Nt=0;Nt<lt;Nt++)St[Nt]=arguments[Nt+2];vt.children=St}if(M&&M.defaultProps)for(ct in lt=M.defaultProps,lt)vt[ct]===void 0&&(vt[ct]=lt[ct]);return w(M,W,vt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:p,render:M}},Et.isValidElement=I,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:gt}},Et.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},Et.startTransition=function(M){var K=S.T,et={};S.T=et;try{var ct=M(),vt=S.S;vt!==null&&vt(et,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(q,Lt)}catch(W){Lt(W)}finally{K!==null&&et.types!==null&&(K.types=et.types),S.T=K}},Et.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Et.use=function(M){return S.H.use(M)},Et.useActionState=function(M,K,et){return S.H.useActionState(M,K,et)},Et.useCallback=function(M,K){return S.H.useCallback(M,K)},Et.useContext=function(M){return S.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,K){return S.H.useDeferredValue(M,K)},Et.useEffect=function(M,K){return S.H.useEffect(M,K)},Et.useEffectEvent=function(M){return S.H.useEffectEvent(M)},Et.useId=function(){return S.H.useId()},Et.useImperativeHandle=function(M,K,et){return S.H.useImperativeHandle(M,K,et)},Et.useInsertionEffect=function(M,K){return S.H.useInsertionEffect(M,K)},Et.useLayoutEffect=function(M,K){return S.H.useLayoutEffect(M,K)},Et.useMemo=function(M,K){return S.H.useMemo(M,K)},Et.useOptimistic=function(M,K){return S.H.useOptimistic(M,K)},Et.useReducer=function(M,K,et){return S.H.useReducer(M,K,et)},Et.useRef=function(M){return S.H.useRef(M)},Et.useState=function(M){return S.H.useState(M)},Et.useSyncExternalStore=function(M,K,et){return S.H.useSyncExternalStore(M,K,et)},Et.useTransition=function(){return S.H.useTransition()},Et.version="19.2.4",Et}var by;function md(){return by||(by=1,wf.exports=Fb()),wf.exports}var Dt=md();const Yb=C0(Dt);var Rf={exports:{}},Vl={},Nf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function Kb(){return Ey||(Ey=1,(function(s){function n(F,st){var gt=F.length;F.push(st);t:for(;0<gt;){var Lt=gt-1>>>1,qt=F[Lt];if(0<o(qt,st))F[Lt]=st,F[gt]=qt,gt=Lt;else break t}}function a(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var st=F[0],gt=F.pop();if(gt!==st){F[0]=gt;t:for(var Lt=0,qt=F.length,M=qt>>>1;Lt<M;){var K=2*(Lt+1)-1,et=F[K],ct=K+1,vt=F[ct];if(0>o(et,gt))ct<qt&&0>o(vt,et)?(F[Lt]=vt,F[ct]=gt,Lt=ct):(F[Lt]=et,F[K]=gt,Lt=K);else if(ct<qt&&0>o(vt,gt))F[Lt]=vt,F[ct]=gt,Lt=ct;else break t}}return st}function o(F,st){var gt=F.sortIndex-st.sortIndex;return gt!==0?gt:F.id-st.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,D=null,j=3,G=!1,$=!1,it=!1,Q=!1,rt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function nt(F){for(var st=a(_);st!==null;){if(st.callback===null)r(_);else if(st.startTime<=F)r(_),st.sortIndex=st.expirationTime,n(v,st);else break;st=a(_)}}function Ut(F){if(it=!1,nt(F),!$)if(a(v)!==null)$=!0,q||(q=!0,O());else{var st=a(_);st!==null&&ie(Ut,st.startTime-F)}}var q=!1,S=-1,x=5,w=-1;function N(){return Q?!0:!(s.unstable_now()-w<x)}function I(){if(Q=!1,q){var F=s.unstable_now();w=F;var st=!0;try{t:{$=!1,it&&(it=!1,ot(S),S=-1),G=!0;var gt=j;try{e:{for(nt(F),D=a(v);D!==null&&!(D.expirationTime>F&&N());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,j=D.priorityLevel;var qt=Lt(D.expirationTime<=F);if(F=s.unstable_now(),typeof qt=="function"){D.callback=qt,nt(F),st=!0;break e}D===a(v)&&r(v),nt(F)}else r(v);D=a(v)}if(D!==null)st=!0;else{var M=a(_);M!==null&&ie(Ut,M.startTime-F),st=!1}}break t}finally{D=null,j=gt,G=!1}st=void 0}}finally{st?O():q=!1}}}var O;if(typeof ut=="function")O=function(){ut(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xt=R.port2;R.port1.onmessage=I,O=function(){Xt.postMessage(null)}}else O=function(){rt(I,0)};function ie(F,st){S=rt(function(){F(s.unstable_now())},st)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(F){switch(j){case 1:case 2:case 3:var st=3;break;default:st=j}var gt=j;j=st;try{return F()}finally{j=gt}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var gt=j;j=F;try{return st()}finally{j=gt}},s.unstable_scheduleCallback=function(F,st,gt){var Lt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Lt+gt:Lt):gt=Lt,F){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=gt+qt,F={id:A++,callback:st,priorityLevel:F,startTime:gt,expirationTime:qt,sortIndex:-1},gt>Lt?(F.sortIndex=gt,n(_,F),a(v)===null&&F===a(_)&&(it?(ot(S),S=-1):it=!0,ie(Ut,gt-Lt))):(F.sortIndex=qt,n(v,F),$||G||($=!0,q||(q=!0,O()))),F},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(F){var st=j;return function(){var gt=j;j=st;try{return F.apply(this,arguments)}finally{j=gt}}}})(Cf)),Cf}var Ty;function Xb(){return Ty||(Ty=1,Nf.exports=Kb()),Nf.exports}var Df={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function Zb(){if(xy)return $e;xy=1;var s=md();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:D==null?null:""+D,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(v,_,null,A)},$e.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},$e.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},$e.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},$e.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,D=p(A,_.crossOrigin),j=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:D,integrity:j,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:D,integrity:j,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},$e.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,D=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:D,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},$e.requestFormReset=function(v){r.d.r(v)},$e.unstable_batchedUpdates=function(v,_){return v(_)},$e.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var Ay;function Jb(){if(Ay)return Df.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Df.exports=Zb(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function $b(){if(Sy)return Vl;Sy=1;var s=Xb(),n=md(),a=Jb();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,l=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return v(c),t;if(f===l)return v(c),e;f=f.sibling}throw Error(r(188))}if(i.return!==l.return)i=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===i){g=!0,i=c,l=f;break}if(E===l){g=!0,l=c,i=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===i){g=!0,i=f,l=c;break}if(E===l){g=!0,l=f,i=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function A(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A(t),e!==null)return e;t=t.sibling}return null}var D=Object.assign,j=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),Ut=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case it:return"Fragment";case rt:return"Profiler";case Q:return"StrictMode";case Ut:return"Suspense";case q:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ut:return t.displayName||"Context";case ot:return(t._context.displayName||"Context")+".Consumer";case nt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return e=t.displayName||null,e!==null?e:Xt(t.type)||"Memo";case x:e=t._payload,t=t._init;try{return Xt(t(e))}catch{}}return null}var ie=Array.isArray,F=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Lt=[],qt=-1;function M(t){return{current:t}}function K(t){0>qt||(t.current=Lt[qt],Lt[qt]=null,qt--)}function et(t,e){qt++,Lt[qt]=t.current,t.current=e}var ct=M(null),vt=M(null),W=M(null),lt=M(null);function St(t,e){switch(et(W,e),et(vt,t),et(ct,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Bp(e),t=qp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ct),et(ct,t)}function Nt(){K(ct),K(vt),K(W)}function Wt(t){t.memoizedState!==null&&et(lt,t);var e=ct.current,i=qp(e,t.type);e!==i&&(et(vt,t),et(ct,i))}function wt(t){vt.current===t&&(K(ct),K(vt)),lt.current===t&&(K(lt),Rl._currentValue=gt)}var Yt,fe;function de(t){if(Yt===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Yt=e&&e[1]||"",fe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+t+fe}var Bi=!1;function As(t,e){if(!t||Bi)return"";Bi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(P){var B=P}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(P){B=P}t.call(Z.prototype)}}else{try{throw Error()}catch(P){B=P}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),k=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===k.length)for(l=C.length-1,c=k.length-1;1<=l&&0<=c&&C[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==k[c]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=c);break}}}finally{Bi=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?de(i):""}function Ec(t,e){switch(t.tag){case 26:case 27:case 5:return de(t.type);case 16:return de("Lazy");case 13:return t.child!==e&&e!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return de("Activity");default:return""}}function ro(t){try{var e="",i=null;do e+=Ec(t,i),i=t,t=t.return;while(t);return e}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ss=Object.prototype.hasOwnProperty,qi=s.unstable_scheduleCallback,ws=s.unstable_cancelCallback,Tc=s.unstable_shouldYield,Dr=s.unstable_requestPaint,Le=s.unstable_now,lo=s.unstable_getCurrentPriorityLevel,Ce=s.unstable_ImmediatePriority,Ve=s.unstable_UserBlockingPriority,ha=s.unstable_NormalPriority,oo=s.unstable_LowPriority,Ir=s.unstable_IdlePriority,xc=s.log,Pi=s.unstable_setDisableYieldValue,Ha=null,Ze=null;function Cn(t){if(typeof xc=="function"&&Pi(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(Ha,t)}catch{}}var nn=Math.clz32?Math.clz32:uo,Ac=Math.log,Vr=Math.LN2;function uo(t){return t>>>=0,t===0?32:31-(Ac(t)/Vr|0)|0}var Hi=256,Zn=262144,Ga=4194304;function Pn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,e,i){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Pn(l):(g&=E,g!==0?c=Pn(g):i||(i=E&~t,i!==0&&(c=Pn(i))))):(E=l&~f,E!==0?c=Pn(E):g!==0?c=Pn(g):i||(i=l&~t,i!==0&&(c=Pn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function Qa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Rs(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var t=Ga;return Ga<<=1,(Ga&62914560)===0&&(Ga=4194304),t}function fa(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Fa(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ke(t,e,i,l,c,f){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,k=t.hiddenUpdates;for(i=g&~i;0<i;){var Y=31-nn(i),Z=1<<Y;E[Y]=0,C[Y]=-1;var B=k[Y];if(B!==null)for(k[Y]=null,Y=0;Y<B.length;Y++){var P=B[Y];P!==null&&(P.lane&=-536870913)}i&=~Z}l!==0&&Or(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~e))}function Or(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-nn(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|i&261930}function Ya(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var l=31-nn(i),c=1<<l;c&e|t[l]&e&&(t[l]|=e),i&=~c}}function Ka(t,e){var i=e&-e;return i=(i&42)!==0?1:jr(i),(i&(t.suspendedLanes|e))!==0?0:i}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function da(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:cy(t.type))}function co(t,e){var i=st.p;try{return st.p=t,e()}finally{st.p=i}}var Jn=Math.random().toString(36).slice(2),me="__reactFiber$"+Jn,Be="__reactProps$"+Jn,$n="__reactContainer$"+Jn,Xa="__reactEvents$"+Jn,Wn="__reactListeners$"+Jn,ho="__reactHandles$"+Jn,Ur="__reactResources$"+Jn,ma="__reactMarker$"+Jn;function Gi(t){delete t[me],delete t[Be],delete t[Xa],delete t[Wn],delete t[ho]}function ga(t){var e=t[me];if(e)return e;for(var i=t.parentNode;i;){if(e=i[$n]||i[me]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Kp(t);t!==null;){if(i=t[me])return i;t=Kp(t)}return e}t=i,i=t.parentNode}return null}function pa(t){if(t=t[me]||t[$n]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Qi(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Hn(t){var e=t[Ur];return e||(e=t[Ur]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ve(t){t[ma]=!0}var Ns=new Set,Za={};function an(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Za[t]=e,t=0;t<e.length;t++)Ns.add(e[t])}var Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},kr={};function fo(t){return Ss.call(kr,t)?!0:Ss.call(Lr,t)?!1:Sc.test(t)?kr[t]=!0:(Lr[t]=!0,!1)}function Ja(t,e,i){if(fo(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function $a(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function In(t,e,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mo(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wc(t,e,i){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(t,e,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cs(t){if(!t._valueTracker){var e=mo(t)?"checked":"value";t._valueTracker=wc(t,e,""+t[e])}}function Br(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),l="";return t&&(l=mo(t)?t.checked?"true":"false":t.value),t=l,t!==i?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ya=/[\n"\\]/g;function ge(t){return t.replace(ya,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wa(t,e,i,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+sn(e)):t.value!==""+sn(e)&&(t.value=""+sn(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?Is(t,g,sn(e)):i!=null?Is(t,g,sn(i)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+sn(E):t.removeAttribute("name")}function Fi(t,e,i,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null)){Cs(t);return}i=i!=null?""+sn(i):"",e=e!=null?""+sn(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Cs(t)}function Is(t,e,i){e==="number"&&Ds(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Pt(t,e,i,l){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&l&&(t[i].defaultSelected=!0)}else{for(i=""+sn(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Yi(t,e,i){if(e!=null&&(e=""+sn(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+sn(i):""}function ti(t,e,i,l){if(e==null){if(l!=null){if(i!=null)throw Error(r(92));if(ie(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),e=i}i=sn(e),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l),Cs(t)}function Vn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qr(t,e,i){var l=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,i):typeof i!="number"||i===0||Rc.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function go(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in e)l=e[c],e.hasOwnProperty(c)&&i[c]!==l&&qr(t,c,l)}else for(var f in e)e.hasOwnProperty(f)&&qr(t,f,e[f])}function Pr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(t){return Cc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Me(){}var Vs=null;function Ms(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var va=null,_n=null;function po(t){var e=pa(t);if(e&&(t=e.stateNode)){var i=t[Be]||null;t:switch(t=e.stateNode,e.type){case"input":if(Wa(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ge(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var l=i[e];if(l!==t&&l.form===t.form){var c=l[Be]||null;if(!c)throw Error(r(90));Wa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)l=i[e],l.form===t.form&&Br(l)}break t;case"textarea":Yi(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Pt(t,!!i.multiple,e,!1)}}}var Hr=!1;function yo(t,e,i){if(Hr)return t(e,i);Hr=!0;try{var l=t(e);return l}finally{if(Hr=!1,(va!==null||_n!==null)&&(du(),va&&(e=va,t=_n,_n=va=null,po(e),t)))for(e=0;e<t.length;e++)po(t[e])}}function cn(t,e){var i=t.stateNode;if(i===null)return null;var l=i[Be]||null;if(l===null)return null;i=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(Gn)try{var na={};Object.defineProperty(na,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Gr=!1}var bn=null,Os=null,aa=null;function ei(){if(aa)return aa;var t,e=Os,i=e.length,l,c="value"in bn?bn.value:bn.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var g=i-t;for(l=1;l<=g&&e[i-l]===c[f-l];l++);return aa=c.slice(t,1<l?1-l:void 0)}function Ki(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function se(){return!1}function Je(t){function e(i,l,c,f,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ni:se,this.isPropagationStopped=se,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Je(_a),ai=D({},_a,{view:0,detail:0}),vo=Je(ai),ii,js,rn,Zi=D({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rn&&(rn&&t.type==="mousemove"?(ii=t.screenX-rn.screenX,js=t.screenY-rn.screenY):js=ii=0,rn=t),ii)},movementY:function(t){return"movementY"in t?t.movementY:js}}),_o=Je(Zi),Ji=D({},Zi,{dataTransfer:0}),bo=Je(Ji),Qr=D({},ai,{relatedTarget:0}),si=Je(Qr),Eo=D({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=Je(Eo),Dc=D({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),To=Je(Dc),$i=D({},_a,{data:0}),Fr=Je($i),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kr[t])?!!e[t]:!1}function ri(){return Ao}var So=D({},ai,{key:function(t){if(t.key){var e=xo[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(t){return t.type==="keypress"?Ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wo=Je(So),ba=D({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Je(ba),Ro=D({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),No=Je(Ro),Co=D({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Us=Je(Co),ln=D({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Do=Je(ln),Io=D({},_a,{newState:0,oldState:0}),li=Je(Io),u=[9,13,27,32],m=Gn&&"CompositionEvent"in window,y=null;Gn&&"documentMode"in document&&(y=document.documentMode);var T=Gn&&"TextEvent"in window&&!y,U=Gn&&(!m||y&&8<y&&11>=y),H=" ",at=!1;function Kt(t,e){switch(t){case"keyup":return u.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Te(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ct=!1;function Oe(t,e){switch(t){case"compositionend":return Te(e);case"keypress":return e.which!==32?null:(at=!0,H);case"textInput":return t=e.data,t===H&&at?null:t;default:return null}}function je(t,e){if(Ct)return t==="compositionend"||!m&&Kt(t,e)?(t=ei(),aa=Os=bn=null,Ct=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U&&e.locale!=="ko"?null:e.data;default:return null}}var oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oi[t.type]:e==="textarea"}function Wi(t,e,i,l){va?_n?_n.push(l):_n=[l]:va=l,e=bu(e,"onChange"),0<e.length&&(i=new Xi("onChange","change",null,i,l),t.push({event:i,listeners:e}))}var Ea=null,Zr=null;function y_(t){Op(t,0)}function Vo(t){var e=Qi(t);if(Br(e))return t}function Wd(t,e){if(t==="change")return e}var tm=!1;if(Gn){var Ic;if(Gn){var Vc="oninput"in document;if(!Vc){var em=document.createElement("div");em.setAttribute("oninput","return;"),Vc=typeof em.oninput=="function"}Ic=Vc}else Ic=!1;tm=Ic&&(!document.documentMode||9<document.documentMode)}function nm(){Ea&&(Ea.detachEvent("onpropertychange",am),Zr=Ea=null)}function am(t){if(t.propertyName==="value"&&Vo(Zr)){var e=[];Wi(e,Zr,t,Ms(t)),yo(y_,e)}}function v_(t,e,i){t==="focusin"?(nm(),Ea=e,Zr=i,Ea.attachEvent("onpropertychange",am)):t==="focusout"&&nm()}function __(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Zr)}function b_(t,e){if(t==="click")return Vo(e)}function E_(t,e){if(t==="input"||t==="change")return Vo(e)}function T_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:T_;function Jr(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),l=Object.keys(e);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Ss.call(e,c)||!En(t[c],e[c]))return!1}return!0}function im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,e){var i=im(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=e&&l>=e)return{node:i,offset:e-t};t=l}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=im(i)}}function rm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ds(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Mc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var x_=Gn&&"documentMode"in document&&11>=document.documentMode,Ls=null,Oc=null,$r=null,jc=!1;function om(t,e,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;jc||Ls==null||Ls!==Ds(l)||(l=Ls,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$r&&Jr($r,l)||($r=l,l=bu(Oc,"onSelect"),0<l.length&&(e=new Xi("onSelect","select",null,e,i),t.push({event:e,listeners:l}),e.target=Ls)))}function ts(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ks={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},zc={},um={};Gn&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function es(t){if(zc[t])return zc[t];if(!ks[t])return t;var e=ks[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in um)return zc[t]=e[i];return t}var cm=es("animationend"),hm=es("animationiteration"),fm=es("animationstart"),A_=es("transitionrun"),S_=es("transitionstart"),w_=es("transitioncancel"),dm=es("transitionend"),mm=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Qn(t,e){mm.set(t,e),an(e,[t])}var Mo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Bs=0,Lc=0;function Oo(){for(var t=Bs,e=Lc=Bs=0;e<t;){var i=Mn[e];Mn[e++]=null;var l=Mn[e];Mn[e++]=null;var c=Mn[e];Mn[e++]=null;var f=Mn[e];if(Mn[e++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&gm(i,c,f)}}function jo(t,e,i,l){Mn[Bs++]=t,Mn[Bs++]=e,Mn[Bs++]=i,Mn[Bs++]=l,Lc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kc(t,e,i,l){return jo(t,e,i,l),zo(t)}function ns(t,e){return jo(t,null,null,e),zo(t)}function gm(t,e,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-nn(i),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[e]:l.push(e),e.lane=i|536870912),f):null}function zo(t){if(50<bl)throw bl=0,Kh=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qs={};function R_(t,e,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,i,l){return new R_(t,e,i,l)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ta(t,e){var i=t.alternate;return i===null?(i=Tn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function pm(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Uo(t,e,i,l,c,f){var g=0;if(l=t,typeof t=="function")Bc(t)&&(g=1);else if(typeof t=="string")g=Vb(t,i,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Tn(31,i,e,c),t.elementType=w,t.lanes=f,t;case it:return as(i.children,c,f,e);case Q:g=8,c|=24;break;case rt:return t=Tn(12,i,e,c|2),t.elementType=rt,t.lanes=f,t;case Ut:return t=Tn(13,i,e,c),t.elementType=Ut,t.lanes=f,t;case q:return t=Tn(19,i,e,c),t.elementType=q,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:g=10;break t;case ot:g=9;break t;case nt:g=11;break t;case S:g=14;break t;case x:g=16,l=null;break t}g=29,i=Error(r(130,t===null?"null":typeof t,"")),l=null}return e=Tn(g,i,e,c),e.elementType=t,e.type=l,e.lanes=f,e}function as(t,e,i,l){return t=Tn(7,t,l,e),t.lanes=i,t}function qc(t,e,i){return t=Tn(6,t,null,e),t.lanes=i,t}function ym(t){var e=Tn(18,null,null,0);return e.stateNode=t,e}function Pc(t,e,i){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var vm=new WeakMap;function On(t,e){if(typeof t=="object"&&t!==null){var i=vm.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ro(e)},vm.set(t,e),e)}return{value:t,source:e,stack:ro(e)}}var Ps=[],Hs=0,Lo=null,Wr=0,jn=[],zn=0,ui=null,ia=1,sa="";function xa(t,e){Ps[Hs++]=Wr,Ps[Hs++]=Lo,Lo=t,Wr=e}function _m(t,e,i){jn[zn++]=ia,jn[zn++]=sa,jn[zn++]=ui,ui=t;var l=ia;t=sa;var c=32-nn(l)-1;l&=~(1<<c),i+=1;var f=32-nn(e)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ia=1<<32-nn(e)+c|i<<c|l,sa=f+t}else ia=1<<f|i<<c|l,sa=t}function Hc(t){t.return!==null&&(xa(t,1),_m(t,1,0))}function Gc(t){for(;t===Lo;)Lo=Ps[--Hs],Ps[Hs]=null,Wr=Ps[--Hs],Ps[Hs]=null;for(;t===ui;)ui=jn[--zn],jn[zn]=null,sa=jn[--zn],jn[zn]=null,ia=jn[--zn],jn[zn]=null}function bm(t,e){jn[zn++]=ia,jn[zn++]=sa,jn[zn++]=ui,ia=e.id,sa=e.overflow,ui=t}var qe=null,re=null,zt=!1,ci=null,Un=!1,Qc=Error(r(519));function hi(t){var e=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(On(e,t)),Qc}function Em(t){var e=t.stateNode,i=t.type,l=t.memoizedProps;switch(e[me]=t,e[Be]=l,i){case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":case"embed":Vt("load",e);break;case"video":case"audio":for(i=0;i<Tl.length;i++)Vt(Tl[i],e);break;case"source":Vt("error",e);break;case"img":case"image":case"link":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"input":Vt("invalid",e),Fi(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",e);break;case"textarea":Vt("invalid",e),ti(e,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||l.suppressHydrationWarning===!0||Lp(e.textContent,i)?(l.popover!=null&&(Vt("beforetoggle",e),Vt("toggle",e)),l.onScroll!=null&&Vt("scroll",e),l.onScrollEnd!=null&&Vt("scrollend",e),l.onClick!=null&&(e.onclick=Me),e=!0):e=!1,e||hi(t,!0)}function Tm(t){for(qe=t.return;qe;)switch(qe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qe=qe.return}}function Gs(t){if(t!==qe)return!1;if(!zt)return Tm(t),zt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||cf(t.type,t.memoizedProps)),i=!i),i&&re&&hi(t),Tm(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));re=Yp(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));re=Yp(t)}else e===27?(e=re,Si(t.type)?(t=gf,gf=null,re=t):re=e):re=qe?kn(t.stateNode.nextSibling):null;return!0}function is(){re=qe=null,zt=!1}function Fc(){var t=ci;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),ci=null),t}function tl(t){ci===null?ci=[t]:ci.push(t)}var Yc=M(null),ss=null,Aa=null;function fi(t,e,i){et(Yc,e._currentValue),e._currentValue=i}function Sa(t){t._currentValue=Yc.current,K(Yc)}function Kc(t,e,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===i)break;t=t.return}}function Xc(t,e,i,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<e.length;C++)if(E.context===e[C]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),Kc(f.return,i,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Kc(g,i,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Qs(t,e,i,l){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;En(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===lt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Xc(e,t,i,l),e.flags|=262144}function ko(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,Aa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return xm(ss,t)}function Bo(t,e){return ss===null&&rs(t),xm(t,e)}function xm(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Aa===null){if(t===null)throw Error(r(308));Aa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Aa=Aa.next=e;return i}var N_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},C_=s.unstable_scheduleCallback,D_=s.unstable_NormalPriority,xe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new N_,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&C_(D_,function(){t.controller.abort()})}var nl=null,Jc=0,Fs=0,Ys=null;function I_(t,e){if(nl===null){var i=nl=[];Jc=0,Fs=tf(),Ys={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Jc++,e.then(Am,Am),e}function Am(){if(--Jc===0&&nl!==null){Ys!==null&&(Ys.status="fulfilled");var t=nl;nl=null,Fs=0,Ys=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function V_(t,e){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var Sm=F.S;F.S=function(t,e){op=Le(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&I_(t,e),Sm!==null&&Sm(t,e)};var ls=M(null);function $c(){var t=ls.current;return t!==null?t:ae.pooledCache}function qo(t,e){e===null?et(ls,ls.current):et(ls,e.pool)}function wm(){var t=$c();return t===null?null:{parent:xe._currentValue,pool:t}}var Ks=Error(r(460)),Wc=Error(r(474)),Po=Error(r(542)),Ho={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nm(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Me,Me),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Dm(t),t;default:if(typeof e.status=="string")e.then(Me,Me);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=l}},function(l){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Dm(t),t}throw us=e,Ks}}function os(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(us=i,Ks):i}}var us=null;function Cm(){if(us===null)throw Error(r(459));var t=us;return us=null,t}function Dm(t){if(t===Ks||t===Po)throw Error(r(483))}var Xs=null,al=0;function Go(t){var e=al;return al+=1,Xs===null&&(Xs=[]),Nm(Xs,t,e)}function il(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Qo(t,e){throw e.$$typeof===j?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Im(t){function e(z,V){if(t){var L=z.deletions;L===null?(z.deletions=[V],z.flags|=16):L.push(V)}}function i(z,V){if(!t)return null;for(;V!==null;)e(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function c(z,V){return z=Ta(z,V),z.index=0,z.sibling=null,z}function f(z,V,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<V?(z.flags|=67108866,V):L):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,V,L,X){return V===null||V.tag!==6?(V=qc(L,z.mode,X),V.return=z,V):(V=c(V,L),V.return=z,V)}function C(z,V,L,X){var pt=L.type;return pt===it?Y(z,V,L.props.children,X,L.key):V!==null&&(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===x&&os(pt)===V.type)?(V=c(V,L.props),il(V,L),V.return=z,V):(V=Uo(L.type,L.key,L.props,null,z.mode,X),il(V,L),V.return=z,V)}function k(z,V,L,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Pc(L,z.mode,X),V.return=z,V):(V=c(V,L.children||[]),V.return=z,V)}function Y(z,V,L,X,pt){return V===null||V.tag!==7?(V=as(L,z.mode,X,pt),V.return=z,V):(V=c(V,L),V.return=z,V)}function Z(z,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qc(""+V,z.mode,L),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return L=Uo(V.type,V.key,V.props,null,z.mode,L),il(L,V),L.return=z,L;case $:return V=Pc(V,z.mode,L),V.return=z,V;case x:return V=os(V),Z(z,V,L)}if(ie(V)||O(V))return V=as(V,z.mode,L,null),V.return=z,V;if(typeof V.then=="function")return Z(z,Go(V),L);if(V.$$typeof===ut)return Z(z,Bo(z,V),L);Qo(z,V)}return null}function B(z,V,L,X){var pt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pt!==null?null:E(z,V,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===pt?C(z,V,L,X):null;case $:return L.key===pt?k(z,V,L,X):null;case x:return L=os(L),B(z,V,L,X)}if(ie(L)||O(L))return pt!==null?null:Y(z,V,L,X,null);if(typeof L.then=="function")return B(z,V,Go(L),X);if(L.$$typeof===ut)return B(z,V,Bo(z,L),X);Qo(z,L)}return null}function P(z,V,L,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(L)||null,E(V,z,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return z=z.get(X.key===null?L:X.key)||null,C(V,z,X,pt);case $:return z=z.get(X.key===null?L:X.key)||null,k(V,z,X,pt);case x:return X=os(X),P(z,V,L,X,pt)}if(ie(X)||O(X))return z=z.get(L)||null,Y(V,z,X,pt,null);if(typeof X.then=="function")return P(z,V,L,Go(X),pt);if(X.$$typeof===ut)return P(z,V,L,Bo(V,X),pt);Qo(V,X)}return null}function ft(z,V,L,X){for(var pt=null,Ht=null,mt=V,Rt=V=0,Ot=null;mt!==null&&Rt<L.length;Rt++){mt.index>Rt?(Ot=mt,mt=null):Ot=mt.sibling;var Gt=B(z,mt,L[Rt],X);if(Gt===null){mt===null&&(mt=Ot);break}t&&mt&&Gt.alternate===null&&e(z,mt),V=f(Gt,V,Rt),Ht===null?pt=Gt:Ht.sibling=Gt,Ht=Gt,mt=Ot}if(Rt===L.length)return i(z,mt),zt&&xa(z,Rt),pt;if(mt===null){for(;Rt<L.length;Rt++)mt=Z(z,L[Rt],X),mt!==null&&(V=f(mt,V,Rt),Ht===null?pt=mt:Ht.sibling=mt,Ht=mt);return zt&&xa(z,Rt),pt}for(mt=l(mt);Rt<L.length;Rt++)Ot=P(mt,z,Rt,L[Rt],X),Ot!==null&&(t&&Ot.alternate!==null&&mt.delete(Ot.key===null?Rt:Ot.key),V=f(Ot,V,Rt),Ht===null?pt=Ot:Ht.sibling=Ot,Ht=Ot);return t&&mt.forEach(function(Di){return e(z,Di)}),zt&&xa(z,Rt),pt}function _t(z,V,L,X){if(L==null)throw Error(r(151));for(var pt=null,Ht=null,mt=V,Rt=V=0,Ot=null,Gt=L.next();mt!==null&&!Gt.done;Rt++,Gt=L.next()){mt.index>Rt?(Ot=mt,mt=null):Ot=mt.sibling;var Di=B(z,mt,Gt.value,X);if(Di===null){mt===null&&(mt=Ot);break}t&&mt&&Di.alternate===null&&e(z,mt),V=f(Di,V,Rt),Ht===null?pt=Di:Ht.sibling=Di,Ht=Di,mt=Ot}if(Gt.done)return i(z,mt),zt&&xa(z,Rt),pt;if(mt===null){for(;!Gt.done;Rt++,Gt=L.next())Gt=Z(z,Gt.value,X),Gt!==null&&(V=f(Gt,V,Rt),Ht===null?pt=Gt:Ht.sibling=Gt,Ht=Gt);return zt&&xa(z,Rt),pt}for(mt=l(mt);!Gt.done;Rt++,Gt=L.next())Gt=P(mt,z,Rt,Gt.value,X),Gt!==null&&(t&&Gt.alternate!==null&&mt.delete(Gt.key===null?Rt:Gt.key),V=f(Gt,V,Rt),Ht===null?pt=Gt:Ht.sibling=Gt,Ht=Gt);return t&&mt.forEach(function(Hb){return e(z,Hb)}),zt&&xa(z,Rt),pt}function ne(z,V,L,X){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var pt=L.key;V!==null;){if(V.key===pt){if(pt=L.type,pt===it){if(V.tag===7){i(z,V.sibling),X=c(V,L.props.children),X.return=z,z=X;break t}}else if(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===x&&os(pt)===V.type){i(z,V.sibling),X=c(V,L.props),il(X,L),X.return=z,z=X;break t}i(z,V);break}else e(z,V);V=V.sibling}L.type===it?(X=as(L.props.children,z.mode,X,L.key),X.return=z,z=X):(X=Uo(L.type,L.key,L.props,null,z.mode,X),il(X,L),X.return=z,z=X)}return g(z);case $:t:{for(pt=L.key;V!==null;){if(V.key===pt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){i(z,V.sibling),X=c(V,L.children||[]),X.return=z,z=X;break t}else{i(z,V);break}else e(z,V);V=V.sibling}X=Pc(L,z.mode,X),X.return=z,z=X}return g(z);case x:return L=os(L),ne(z,V,L,X)}if(ie(L))return ft(z,V,L,X);if(O(L)){if(pt=O(L),typeof pt!="function")throw Error(r(150));return L=pt.call(L),_t(z,V,L,X)}if(typeof L.then=="function")return ne(z,V,Go(L),X);if(L.$$typeof===ut)return ne(z,V,Bo(z,L),X);Qo(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(i(z,V.sibling),X=c(V,L),X.return=z,z=X):(i(z,V),X=qc(L,z.mode,X),X.return=z,z=X),g(z)):i(z,V)}return function(z,V,L,X){try{al=0;var pt=ne(z,V,L,X);return Xs=null,pt}catch(mt){if(mt===Ks||mt===Po)throw mt;var Ht=Tn(29,mt,null,z.mode);return Ht.lanes=X,Ht.return=z,Ht}finally{}}}var cs=Im(!0),Vm=Im(!1),di=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gi(t,e,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),l.pending=e,e=zo(t),gm(t,null,i),e}return jo(t,l,e,i),zo(t)}function sl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,Ya(t,i)}}function nh(t,e){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var ah=!1;function rl(){if(ah){var t=Ys;if(t!==null)throw t}}function ll(t,e,i,l){ah=!1;var c=t.updateQueue;di=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,k=C.next;C.next=null,g===null?f=k:g.next=k,g=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==g&&(E===null?Y.firstBaseUpdate=k:E.next=k,Y.lastBaseUpdate=C))}if(f!==null){var Z=c.baseState;g=0,Y=k=C=null,E=f;do{var B=E.lane&-536870913,P=B!==E.lane;if(P?(Mt&B)===B:(l&B)===B){B!==0&&B===Fs&&(ah=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,_t=E;B=e;var ne=i;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){Z=ft.call(ne,Z,B);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,B=typeof ft=="function"?ft.call(ne,Z,B):ft,B==null)break t;Z=D({},Z,B);break t;case 2:di=!0}}B=E.callback,B!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[B]:P.push(B))}else P={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(k=Y=P,C=Z):Y=Y.next=P,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);Y===null&&(C=Z),c.baseState=C,c.firstBaseUpdate=k,c.lastBaseUpdate=Y,f===null&&(c.shared.lanes=0),bi|=g,t.lanes=g,t.memoizedState=Z}}function Mm(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function Om(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Mm(i[t],e)}var Zs=M(null),Fo=M(0);function jm(t,e){t=Oa,et(Fo,t),et(Zs,e),Oa=t|e.baseLanes}function ih(){et(Fo,Oa),et(Zs,Zs.current)}function sh(){Oa=Fo.current,K(Zs),K(Fo)}var xn=M(null),Ln=null;function pi(t){var e=t.alternate;et(_e,_e.current&1),et(xn,t),Ln===null&&(e===null||Zs.current!==null||e.memoizedState!==null)&&(Ln=t)}function rh(t){et(_e,_e.current),et(xn,t),Ln===null&&(Ln=t)}function zm(t){t.tag===22?(et(_e,_e.current),et(xn,t),Ln===null&&(Ln=t)):yi()}function yi(){et(_e,_e.current),et(xn,xn.current)}function An(t){K(xn),Ln===t&&(Ln=null),K(_e)}var _e=M(0);function Yo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||df(i)||mf(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wa=0,At=null,te=null,Ae=null,Ko=!1,Js=!1,hs=!1,Xo=0,ol=0,$s=null,M_=0;function pe(){throw Error(r(321))}function lh(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!En(t[i],e[i]))return!1;return!0}function oh(t,e,i,l,c,f){return wa=f,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F.H=t===null||t.memoizedState===null?_g:xh,hs=!1,f=i(l,c),hs=!1,Js&&(f=Lm(e,i,l,c)),Um(t),f}function Um(t){F.H=hl;var e=te!==null&&te.next!==null;if(wa=0,Ae=te=At=null,Ko=!1,ol=0,$s=null,e)throw Error(r(300));t===null||Se||(t=t.dependencies,t!==null&&ko(t)&&(Se=!0))}function Lm(t,e,i,l){At=t;var c=0;do{if(Js&&($s=null),ol=0,Js=!1,25<=c)throw Error(r(301));if(c+=1,Ae=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=bg,f=e(i,l)}while(Js);return f}function O_(){var t=F.H,e=t.useState()[0];return e=typeof e.then=="function"?ul(e):e,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(At.flags|=1024),e}function uh(){var t=Xo!==0;return Xo=0,t}function ch(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function hh(t){if(Ko){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ko=!1}wa=0,Ae=te=At=null,Js=!1,ol=Xo=0,$s=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function be(){if(te===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=Ae===null?At.memoizedState:Ae.next;if(e!==null)Ae=e,te=t;else{if(t===null)throw At.alternate===null?Error(r(467)):Error(r(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var e=ol;return ol+=1,$s===null&&($s=[]),t=Nm($s,t,e),e=At,(Ae===null?e.memoizedState:Ae.next)===null&&(e=e.alternate,F.H=e===null||e.memoizedState===null?_g:xh),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===ut)return Pe(t)}throw Error(r(438,String(t)))}function fh(t){var e=null,i=At.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Zo(),At.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),l=0;l<t;l++)i[l]=N;return e.index++,i}function Ra(t,e){return typeof e=="function"?e(t):e}function $o(t){var e=be();return dh(e,te,t)}function dh(t,e,i){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}e.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=g=null,C=null,k=e,Y=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(Mt&Z)===Z:(wa&Z)===Z){var B=k.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===Fs&&(Y=!0);else if((wa&B)===B){k=k.next,B===Fs&&(Y=!0);continue}else Z={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=Z,g=f):C=C.next=Z,At.lanes|=B,bi|=B;Z=k.action,hs&&i(f,Z),f=k.hasEagerState?k.eagerState:i(f,Z)}else B={lane:Z,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,At.lanes|=Z,bi|=Z;k=k.next}while(k!==null&&k!==e);if(C===null?g=f:C.next=E,!En(f,t.memoizedState)&&(Se=!0,Y&&(i=Ys,i!==null)))throw i;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var e=be(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var l=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);En(f,e.memoizedState)||(Se=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,l]}function km(t,e,i){var l=At,c=be(),f=zt;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=e();var g=!En((te||c).memoizedState,i);if(g&&(c.memoizedState=i,Se=!0),c=c.queue,yh(Pm.bind(null,l,c,t),[t]),c.getSnapshot!==e||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ws(9,{destroy:void 0},qm.bind(null,l,c,i,e),null),ae===null)throw Error(r(349));f||(wa&127)!==0||Bm(l,e,i)}return i}function Bm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=At.updateQueue,e===null?(e=Zo(),At.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function qm(t,e,i,l){e.value=i,e.getSnapshot=l,Hm(e)&&Gm(t)}function Pm(t,e,i){return i(function(){Hm(e)&&Gm(t)})}function Hm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!En(t,i)}catch{return!0}}function Gm(t){var e=ns(t,2);e!==null&&pn(e,t,2)}function gh(t){var e=on();if(typeof t=="function"){var i=t;if(t=i(),hs){Cn(!0);try{i()}finally{Cn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:t},e}function Qm(t,e,i,l){return t.baseState=i,dh(t,te,typeof l=="function"?l:Ra)}function j_(t,e,i,l,c){if(eu(t))throw Error(r(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?i(!0):f.isTransition=!1,l(f),i=e.pending,i===null?(f.next=e.pending=f,Fm(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Fm(t,e){var i=e.action,l=e.payload,c=t.state;if(e.isTransition){var f=F.T,g={};F.T=g;try{var E=i(c,l),C=F.S;C!==null&&C(g,E),Ym(t,e,E)}catch(k){ph(t,e,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=i(c,l),Ym(t,e,f)}catch(k){ph(t,e,k)}}function Ym(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Km(t,e,l)},function(l){return ph(t,e,l)}):Km(t,e,i)}function Km(t,e,i){e.status="fulfilled",e.value=i,Xm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Fm(t,i)))}function ph(t,e,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=i,Xm(e),e=e.next;while(e!==l)}t.action=null}function Xm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Zm(t,e){return e}function Jm(t,e){if(zt){var i=ae.formState;if(i!==null){t:{var l=At;if(zt){if(re){e:{for(var c=re,f=Un;c.nodeType!==8;){if(!f){c=null;break e}if(c=kn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=kn(c.nextSibling),l=c.data==="F!";break t}}hi(l)}l=!1}l&&(e=i[0])}}return i=on(),i.memoizedState=i.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:e},i.queue=l,i=pg.bind(null,At,l),l.dispatch=i,l=gh(!1),f=Th.bind(null,At,!1,l.queue),l=on(),c={state:e,dispatch:null,action:t,pending:null},l.queue=c,i=j_.bind(null,At,c,f,i),c.dispatch=i,l.memoizedState=t,[e,i,!1]}function $m(t){var e=be();return Wm(e,te,t)}function Wm(t,e,i){if(e=dh(t,e,Zm)[0],t=$o(Ra)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=ul(e)}catch(g){throw g===Ks?Po:g}else l=e;e=be();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(At.flags|=2048,Ws(9,{destroy:void 0},z_.bind(null,c,i),null)),[l,f,t]}function z_(t,e){t.action=e}function tg(t){var e=be(),i=te;if(i!==null)return Wm(e,i,t);be(),e=e.memoizedState,i=be();var l=i.queue.dispatch;return i.memoizedState=t,[e,l,!1]}function Ws(t,e,i,l){return t={tag:t,create:i,deps:l,inst:e,next:null},e=At.updateQueue,e===null&&(e=Zo(),At.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,e.lastEffect=t),t}function eg(){return be().memoizedState}function Wo(t,e,i,l){var c=on();At.flags|=t,c.memoizedState=Ws(1|e,{destroy:void 0},i,l===void 0?null:l)}function tu(t,e,i,l){var c=be();l=l===void 0?null:l;var f=c.memoizedState.inst;te!==null&&l!==null&&lh(l,te.memoizedState.deps)?c.memoizedState=Ws(e,f,i,l):(At.flags|=t,c.memoizedState=Ws(1|e,f,i,l))}function ng(t,e){Wo(8390656,8,t,e)}function yh(t,e){tu(2048,8,t,e)}function U_(t){At.flags|=4;var e=At.updateQueue;if(e===null)e=Zo(),At.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function ag(t){var e=be().memoizedState;return U_({ref:e,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(r(440));return e.impl.apply(void 0,arguments)}}function ig(t,e){return tu(4,2,t,e)}function sg(t,e){return tu(4,4,t,e)}function rg(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lg(t,e,i){i=i!=null?i.concat([t]):null,tu(4,4,rg.bind(null,e,t),i)}function vh(){}function og(t,e){var i=be();e=e===void 0?null:e;var l=i.memoizedState;return e!==null&&lh(e,l[1])?l[0]:(i.memoizedState=[t,e],t)}function ug(t,e){var i=be();e=e===void 0?null:e;var l=i.memoizedState;if(e!==null&&lh(e,l[1]))return l[0];if(l=t(),hs){Cn(!0);try{t()}finally{Cn(!1)}}return i.memoizedState=[l,e],l}function _h(t,e,i){return i===void 0||(wa&1073741824)!==0&&(Mt&261930)===0?t.memoizedState=e:(t.memoizedState=i,t=cp(),At.lanes|=t,bi|=t,i)}function cg(t,e,i,l){return En(i,e)?i:Zs.current!==null?(t=_h(t,i,l),En(t,e)||(Se=!0),t):(wa&42)===0||(wa&1073741824)!==0&&(Mt&261930)===0?(Se=!0,t.memoizedState=i):(t=cp(),At.lanes|=t,bi|=t,e)}function hg(t,e,i,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Th(t,!1,e,i);try{var C=c(),k=F.S;if(k!==null&&k(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=V_(C,l);cl(t,e,Y,Rn(t))}else cl(t,e,l,Rn(t))}catch(Z){cl(t,e,{then:function(){},status:"rejected",reason:Z},Rn())}finally{st.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function L_(){}function bh(t,e,i,l){if(t.tag!==5)throw Error(r(476));var c=fg(t).queue;hg(t,c,e,gt,i===null?L_:function(){return dg(t),i(l)})}function fg(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:gt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function dg(t){var e=fg(t);e.next===null&&(e=t.alternate.memoizedState),cl(t,e.next.queue,{},Rn())}function Eh(){return Pe(Rl)}function mg(){return be().memoizedState}function gg(){return be().memoizedState}function k_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Rn();t=mi(i);var l=gi(e,t,i);l!==null&&(pn(l,e,i),sl(l,e,i)),e={cache:Zc()},t.payload=e;return}e=e.return}}function B_(t,e,i){var l=Rn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},eu(t)?yg(e,i):(i=kc(t,e,i,l),i!==null&&(pn(i,t,l),vg(i,e,l)))}function pg(t,e,i){var l=Rn();cl(t,e,i,l)}function cl(t,e,i,l){var c={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(eu(t))yg(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var g=e.lastRenderedState,E=f(g,i);if(c.hasEagerState=!0,c.eagerState=E,En(E,g))return jo(t,e,c,0),ae===null&&Oo(),!1}catch{}finally{}if(i=kc(t,e,c,l),i!==null)return pn(i,t,l),vg(i,e,l),!0}return!1}function Th(t,e,i,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(e)throw Error(r(479))}else e=kc(t,i,l,2),e!==null&&pn(e,t,2)}function eu(t){var e=t.alternate;return t===At||e!==null&&e===At}function yg(t,e){Js=Ko=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function vg(t,e,i){if((i&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,Ya(t,i)}}var hl={readContext:Pe,use:Jo,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};hl.useEffectEvent=pe;var _g={readContext:Pe,use:Jo,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Pe,useEffect:ng,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Wo(4194308,4,rg.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Wo(4194308,4,t,e)},useInsertionEffect:function(t,e){Wo(4,2,t,e)},useMemo:function(t,e){var i=on();e=e===void 0?null:e;var l=t();if(hs){Cn(!0);try{t()}finally{Cn(!1)}}return i.memoizedState=[l,e],l},useReducer:function(t,e,i){var l=on();if(i!==void 0){var c=i(e);if(hs){Cn(!0);try{i(e)}finally{Cn(!1)}}}else c=e;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=B_.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:function(t){t=gh(t);var e=t.queue,i=pg.bind(null,At,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:vh,useDeferredValue:function(t,e){var i=on();return _h(i,t,e)},useTransition:function(){var t=gh(!1);return t=hg.bind(null,At,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var l=At,c=on();if(zt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),ae===null)throw Error(r(349));(Mt&127)!==0||Bm(l,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,ng(Pm.bind(null,l,f,t),[t]),l.flags|=2048,Ws(9,{destroy:void 0},qm.bind(null,l,f,i,e),null),i},useId:function(){var t=on(),e=ae.identifierPrefix;if(zt){var i=sa,l=ia;i=(l&~(1<<32-nn(l)-1)).toString(32)+i,e="_"+e+"R_"+i,i=Xo++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=M_++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Eh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t){var e=on();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Th.bind(null,At,!0,i),i.dispatch=e,[t,e]},useMemoCache:fh,useCacheRefresh:function(){return on().memoizedState=k_.bind(null,At)},useEffectEvent:function(t){var e=on(),i={impl:t};return e.memoizedState=i,function(){if((Ft&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},xh={readContext:Pe,use:Jo,useCallback:og,useContext:Pe,useEffect:yh,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:$o,useRef:eg,useState:function(){return $o(Ra)},useDebugValue:vh,useDeferredValue:function(t,e){var i=be();return cg(i,te.memoizedState,t,e)},useTransition:function(){var t=$o(Ra)[0],e=be().memoizedState;return[typeof t=="boolean"?t:ul(t),e]},useSyncExternalStore:km,useId:mg,useHostTransitionStatus:Eh,useFormState:$m,useActionState:$m,useOptimistic:function(t,e){var i=be();return Qm(i,te,t,e)},useMemoCache:fh,useCacheRefresh:gg};xh.useEffectEvent=ag;var bg={readContext:Pe,use:Jo,useCallback:og,useContext:Pe,useEffect:yh,useImperativeHandle:lg,useInsertionEffect:ig,useLayoutEffect:sg,useMemo:ug,useReducer:mh,useRef:eg,useState:function(){return mh(Ra)},useDebugValue:vh,useDeferredValue:function(t,e){var i=be();return te===null?_h(i,t,e):cg(i,te.memoizedState,t,e)},useTransition:function(){var t=mh(Ra)[0],e=be().memoizedState;return[typeof t=="boolean"?t:ul(t),e]},useSyncExternalStore:km,useId:mg,useHostTransitionStatus:Eh,useFormState:tg,useActionState:tg,useOptimistic:function(t,e){var i=be();return te!==null?Qm(i,te,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:fh,useCacheRefresh:gg};bg.useEffectEvent=ag;function Ah(t,e,i,l){e=t.memoizedState,i=i(l,e),i=i==null?e:D({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Sh={enqueueSetState:function(t,e,i){t=t._reactInternals;var l=Rn(),c=mi(l);c.payload=e,i!=null&&(c.callback=i),e=gi(t,c,l),e!==null&&(pn(e,t,l),sl(e,t,l))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var l=Rn(),c=mi(l);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=gi(t,c,l),e!==null&&(pn(e,t,l),sl(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Rn(),l=mi(i);l.tag=2,e!=null&&(l.callback=e),e=gi(t,l,i),e!==null&&(pn(e,t,i),sl(e,t,i))}};function Eg(t,e,i,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):e.prototype&&e.prototype.isPureReactComponent?!Jr(i,l)||!Jr(c,f):!0}function Tg(t,e,i,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,l),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function fs(t,e){var i=e;if("ref"in e){i={};for(var l in e)l!=="ref"&&(i[l]=e[l])}if(t=t.defaultProps){i===e&&(i=D({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}function xg(t){Mo(t)}function Ag(t){console.error(t)}function Sg(t){Mo(t)}function nu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function wg(t,e,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,e,i){return i=mi(i),i.tag=3,i.payload={element:null},i.callback=function(){nu(t,e)},i}function Rg(t){return t=mi(t),t.tag=3,t}function Ng(t,e,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){wg(e,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){wg(e,i,l),typeof c!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function q_(t,e,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=i.alternate,e!==null&&Qs(e,i,c,!0),i=xn.current,i!==null){switch(i.tag){case 31:case 13:return Ln===null?mu():i.alternate===null&&ye===0&&(ye=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===Ho?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([l]):e.add(l),Jh(t,l,c)),!1;case 22:return i.flags|=65536,l===Ho?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([l]):i.add(l)),Jh(t,l,c)),!1}throw Error(r(435,i.tag))}return Jh(t,l,c),mu(),!1}if(zt)return e=xn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,l!==Qc&&(t=Error(r(422),{cause:l}),tl(On(t,i)))):(l!==Qc&&(e=Error(r(423),{cause:l}),tl(On(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=On(l,i),c=wh(t.stateNode,l,c),nh(t,c),ye!==4&&(ye=2)),!1;var f=Error(r(520),{cause:l});if(f=On(f,i),_l===null?_l=[f]:_l.push(f),ye!==4&&(ye=2),e===null)return!0;l=On(l,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=wh(i.stateNode,l,t),nh(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ei===null||!Ei.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Rg(c),Ng(c,t,i,l),nh(i,c),!1}i=i.return}while(i!==null);return!1}var Rh=Error(r(461)),Se=!1;function He(t,e,i,l){e.child=t===null?Vm(e,null,i,l):cs(e,t.child,i,l)}function Cg(t,e,i,l,c){i=i.render;var f=e.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return rs(e),l=oh(t,e,i,g,f,c),E=uh(),t!==null&&!Se?(ch(t,e,c),Na(t,e,c)):(zt&&E&&Hc(e),e.flags|=1,He(t,e,l,c),e.child)}function Dg(t,e,i,l,c){if(t===null){var f=i.type;return typeof f=="function"&&!Bc(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,Ig(t,e,f,l,c)):(t=Uo(i.type,null,l,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!jh(t,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Jr,i(g,l)&&t.ref===e.ref)return Na(t,e,c)}return e.flags|=1,t=Ta(f,l),t.ref=e.ref,t.return=e,e.child=t}function Ig(t,e,i,l,c){if(t!==null){var f=t.memoizedProps;if(Jr(f,l)&&t.ref===e.ref)if(Se=!1,e.pendingProps=l=f,jh(t,c))(t.flags&131072)!==0&&(Se=!0);else return e.lanes=t.lanes,Na(t,e,c)}return Nh(t,e,i,l,c)}function Vg(t,e,i,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((e.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,t!==null){for(l=e.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,e.child=null;return Mg(t,e,f,i,l)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(e,f!==null?f.cachePool:null),f!==null?jm(e,f):ih(),zm(e);else return l=e.lanes=536870912,Mg(t,e,f!==null?f.baseLanes|i:i,i,l)}else f!==null?(qo(e,f.cachePool),jm(e,f),yi(),e.memoizedState=null):(t!==null&&qo(e,null),ih(),yi());return He(t,e,c,i),e.child}function fl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Mg(t,e,i,l,c){var f=$c();return f=f===null?null:{parent:xe._currentValue,pool:f},e.memoizedState={baseLanes:i,cachePool:f},t!==null&&qo(e,null),ih(),zm(e),t!==null&&Qs(t,e,l,!0),e.childLanes=c,null}function au(t,e){return e=su({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Og(t,e,i){return cs(e,t.child,null,i),t=au(e,e.pendingProps),t.flags|=2,An(e),e.memoizedState=null,t}function P_(t,e,i){var l=e.pendingProps,c=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(zt){if(l.mode==="hidden")return t=au(e,l),e.lanes=536870912,fl(null,t);if(rh(e),(t=re)?(t=Fp(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ui!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},i=ym(t),i.return=e,e.child=i,qe=e,re=null)):t=null,t===null)throw hi(e);return e.lanes=536870912,null}return au(e,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(rh(e),c)if(e.flags&256)e.flags&=-257,e=Og(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(r(558));else if(Se||Qs(t,e,i,!1),c=(i&t.childLanes)!==0,Se||c){if(l=ae,l!==null&&(g=Ka(l,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,ns(t,g),pn(l,t,g),Rh;mu(),e=Og(t,e,i)}else t=f.treeContext,re=kn(g.nextSibling),qe=e,zt=!0,ci=null,Un=!1,t!==null&&bm(e,t),e=au(e,l),e.flags|=4096;return e}return t=Ta(t.child,{mode:l.mode,children:l.children}),t.ref=e.ref,e.child=t,t.return=e,t}function iu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Nh(t,e,i,l,c){return rs(e),i=oh(t,e,i,l,void 0,c),l=uh(),t!==null&&!Se?(ch(t,e,c),Na(t,e,c)):(zt&&l&&Hc(e),e.flags|=1,He(t,e,i,c),e.child)}function jg(t,e,i,l,c,f){return rs(e),e.updateQueue=null,i=Lm(e,l,i,c),Um(t),l=uh(),t!==null&&!Se?(ch(t,e,f),Na(t,e,f)):(zt&&l&&Hc(e),e.flags|=1,He(t,e,i,f),e.child)}function zg(t,e,i,l,c){if(rs(e),e.stateNode===null){var f=qs,g=i.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new i(l,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=l,f.state=e.memoizedState,f.refs={},th(e),g=i.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):qs,f.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Ah(e,i,g,l),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Sh.enqueueReplaceState(f,f.state,null),ll(e,l,f,c),rl(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,C=fs(i,E);f.props=C;var k=f.context,Y=i.contextType;g=qs,typeof Y=="object"&&Y!==null&&(g=Pe(Y));var Z=i.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Tg(e,f,l,g),di=!1;var B=e.memoizedState;f.state=B,ll(e,l,f,c),rl(),k=e.memoizedState,E||B!==k||di?(typeof Z=="function"&&(Ah(e,i,Z,l),k=e.memoizedState),(C=di||Eg(e,i,C,l,B,k,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=k),f.props=l,f.state=k,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{f=e.stateNode,eh(t,e),g=e.memoizedProps,Y=fs(i,g),f.props=Y,Z=e.pendingProps,B=f.context,k=i.contextType,C=qs,typeof k=="object"&&k!==null&&(C=Pe(k)),E=i.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==C)&&Tg(e,f,l,C),di=!1,B=e.memoizedState,f.state=B,ll(e,l,f,c),rl();var P=e.memoizedState;g!==Z||B!==P||di||t!==null&&t.dependencies!==null&&ko(t.dependencies)?(typeof E=="function"&&(Ah(e,i,E,l),P=e.memoizedState),(Y=di||Eg(e,i,Y,l,B,P,C)||t!==null&&t.dependencies!==null&&ko(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,C)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=P),f.props=l,f.state=P,f.context=C,l=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),l=!1)}return f=l,iu(t,e),l=(e.flags&128)!==0,f||l?(f=e.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&l?(e.child=cs(e,t.child,null,c),e.child=cs(e,null,i,c)):He(t,e,i,c),e.memoizedState=f.state,t=e.child):t=Na(t,e,c),t}function Ug(t,e,i,l){return is(),e.flags|=256,He(t,e,i,l),e.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:wm()}}function Ih(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=wn),t}function Lg(t,e,i){var l=e.pendingProps,c=!1,f=(e.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(_e.current&2)!==0),g&&(c=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(zt){if(c?pi(e):yi(),(t=re)?(t=Fp(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ui!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},i=ym(t),i.return=e,e.child=i,qe=e,re=null)):t=null,t===null)throw hi(e);return mf(t)?e.lanes=32:e.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(yi(),c=e.mode,E=su({mode:"hidden",children:E},c),l=as(l,c,i,null),E.return=e,l.return=e,E.sibling=l,e.child=E,l=e.child,l.memoizedState=Dh(i),l.childLanes=Ih(t,g,i),e.memoizedState=Ch,fl(null,l)):(pi(e),Vh(e,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)e.flags&256?(pi(e),e.flags&=-257,e=Mh(t,e,i)):e.memoizedState!==null?(yi(),e.child=t.child,e.flags|=128,e=null):(yi(),E=l.fallback,c=e.mode,l=su({mode:"visible",children:l.children},c),E=as(E,c,i,null),E.flags|=2,l.return=e,E.return=e,l.sibling=E,e.child=l,cs(e,t.child,null,i),l=e.child,l.memoizedState=Dh(i),l.childLanes=Ih(t,g,i),e.memoizedState=Ch,e=fl(null,l));else if(pi(e),mf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(r(419)),l.stack="",l.digest=g,tl({value:l,source:null,stack:null}),e=Mh(t,e,i)}else if(Se||Qs(t,e,i,!1),g=(i&t.childLanes)!==0,Se||g){if(g=ae,g!==null&&(l=Ka(g,i),l!==0&&l!==C.retryLane))throw C.retryLane=l,ns(t,l),pn(g,t,l),Rh;df(E)||mu(),e=Mh(t,e,i)}else df(E)?(e.flags|=192,e.child=t.child,e=null):(t=C.treeContext,re=kn(E.nextSibling),qe=e,zt=!0,ci=null,Un=!1,t!==null&&bm(e,t),e=Vh(e,l.children),e.flags|=4096);return e}return c?(yi(),E=l.fallback,c=e.mode,C=t.child,k=C.sibling,l=Ta(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,k!==null?E=Ta(k,E):(E=as(E,c,i,null),E.flags|=2),E.return=e,l.return=e,l.sibling=E,e.child=l,fl(null,l),l=e.child,E=t.child.memoizedState,E===null?E=Dh(i):(c=E.cachePool,c!==null?(C=xe._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=wm(),E={baseLanes:E.baseLanes|i,cachePool:c}),l.memoizedState=E,l.childLanes=Ih(t,g,i),e.memoizedState=Ch,fl(t.child,l)):(pi(e),i=t.child,t=i.sibling,i=Ta(i,{mode:"visible",children:l.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function Vh(t,e){return e=su({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function su(t,e){return t=Tn(22,t,null,e),t.lanes=0,t}function Mh(t,e,i){return cs(e,t.child,null,i),t=Vh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kg(t,e,i){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),Kc(t.return,e,i)}function Oh(t,e,i,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function Bg(t,e,i){var l=e.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=_e.current,E=(g&2)!==0;if(E?(g=g&1|2,e.flags|=128):g&=1,et(_e,g),He(t,e,l,i),l=zt?Wr:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,i,e);else if(t.tag===19)kg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Yo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Oh(e,!1,c,i,f,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Yo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Oh(e,!0,i,null,f,l);break;case"together":Oh(e,!1,null,null,void 0,l);break;default:e.memoizedState=null}return e.child}function Na(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),bi|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(Qs(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=Ta(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ta(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function jh(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ko(t)))}function H_(t,e,i){switch(e.tag){case 3:St(e,e.stateNode.containerInfo),fi(e,xe,t.memoizedState.cache),is();break;case 27:case 5:Wt(e);break;case 4:St(e,e.stateNode.containerInfo);break;case 10:fi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,rh(e),null;break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(pi(e),e.flags|=128,null):(i&e.child.childLanes)!==0?Lg(t,e,i):(pi(e),t=Na(t,e,i),t!==null?t.sibling:null);pi(e);break;case 19:var c=(t.flags&128)!==0;if(l=(i&e.childLanes)!==0,l||(Qs(t,e,i,!1),l=(i&e.childLanes)!==0),c){if(l)return Bg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(_e,_e.current),l)break;return null;case 22:return e.lanes=0,Vg(t,e,i,e.pendingProps);case 24:fi(e,xe,t.memoizedState.cache)}return Na(t,e,i)}function qg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Se=!0;else{if(!jh(t,i)&&(e.flags&128)===0)return Se=!1,H_(t,e,i);Se=(t.flags&131072)!==0}else Se=!1,zt&&(e.flags&1048576)!==0&&_m(e,Wr,e.index);switch(e.lanes=0,e.tag){case 16:t:{var l=e.pendingProps;if(t=os(e.elementType),e.type=t,typeof t=="function")Bc(t)?(l=fs(t,l),e.tag=1,e=zg(null,e,t,l,i)):(e.tag=0,e=Nh(null,e,t,l,i));else{if(t!=null){var c=t.$$typeof;if(c===nt){e.tag=11,e=Cg(null,e,t,l,i);break t}else if(c===S){e.tag=14,e=Dg(null,e,t,l,i);break t}}throw e=Xt(t)||t,Error(r(306,e,""))}}return e;case 0:return Nh(t,e,e.type,e.pendingProps,i);case 1:return l=e.type,c=fs(l,e.pendingProps),zg(t,e,l,c,i);case 3:t:{if(St(e,e.stateNode.containerInfo),t===null)throw Error(r(387));l=e.pendingProps;var f=e.memoizedState;c=f.element,eh(t,e),ll(e,l,null,i);var g=e.memoizedState;if(l=g.cache,fi(e,xe,l),l!==f.cache&&Xc(e,[xe],i,!0),rl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=Ug(t,e,l,i);break t}else if(l!==c){c=On(Error(r(424)),e),tl(c),e=Ug(t,e,l,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=kn(t.firstChild),qe=e,zt=!0,ci=null,Un=!0,i=Vm(e,null,l,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(is(),l===c){e=Na(t,e,i);break t}He(t,e,l,i)}e=e.child}return e;case 26:return iu(t,e),t===null?(i=$p(e.type,null,e.pendingProps,null))?e.memoizedState=i:zt||(i=e.type,t=e.pendingProps,l=Eu(W.current).createElement(i),l[me]=e,l[Be]=t,Ge(l,i,t),ve(l),e.stateNode=l):e.memoizedState=$p(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Wt(e),t===null&&zt&&(l=e.stateNode=Xp(e.type,e.pendingProps,W.current),qe=e,Un=!0,c=re,Si(e.type)?(gf=c,re=kn(l.firstChild)):re=c),He(t,e,e.pendingProps.children,i),iu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&zt&&((c=l=re)&&(l=_b(l,e.type,e.pendingProps,Un),l!==null?(e.stateNode=l,qe=e,re=kn(l.firstChild),Un=!1,c=!0):c=!1),c||hi(e)),Wt(e),c=e.type,f=e.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:g!==null&&cf(c,g)&&(e.flags|=32),e.memoizedState!==null&&(c=oh(t,e,O_,null,null,i),Rl._currentValue=c),iu(t,e),He(t,e,l,i),e.child;case 6:return t===null&&zt&&((t=i=re)&&(i=bb(i,e.pendingProps,Un),i!==null?(e.stateNode=i,qe=e,re=null,t=!0):t=!1),t||hi(e)),null;case 13:return Lg(t,e,i);case 4:return St(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=cs(e,null,l,i):He(t,e,l,i),e.child;case 11:return Cg(t,e,e.type,e.pendingProps,i);case 7:return He(t,e,e.pendingProps,i),e.child;case 8:return He(t,e,e.pendingProps.children,i),e.child;case 12:return He(t,e,e.pendingProps.children,i),e.child;case 10:return l=e.pendingProps,fi(e,e.type,l.value),He(t,e,l.children,i),e.child;case 9:return c=e.type._context,l=e.pendingProps.children,rs(e),c=Pe(c),l=l(c),e.flags|=1,He(t,e,l,i),e.child;case 14:return Dg(t,e,e.type,e.pendingProps,i);case 15:return Ig(t,e,e.type,e.pendingProps,i);case 19:return Bg(t,e,i);case 31:return P_(t,e,i);case 22:return Vg(t,e,i,e.pendingProps);case 24:return rs(e),l=Pe(xe),t===null?(c=$c(),c===null&&(c=ae,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:l,cache:c},th(e),fi(e,xe,c)):((t.lanes&i)!==0&&(eh(t,e),ll(e,null,null,i),rl()),c=t.memoizedState,f=e.memoizedState,c.parent!==l?(c={parent:l,cache:l},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),fi(e,xe,l)):(l=f.cache,fi(e,xe,l),l!==c.cache&&Xc(e,[xe],i,!0))),He(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ca(t){t.flags|=4}function zh(t,e,i,l,c){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(mp())t.flags|=8192;else throw us=Ho,Wc}else t.flags&=-16777217}function Pg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ay(e))if(mp())t.flags|=8192;else throw us=Ho,Wc}function ru(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Mr():536870912,t.lanes|=e,ar|=e)}function dl(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function le(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=i,e}function G_(t,e,i){var l=e.pendingProps;switch(Gc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(e),null;case 1:return le(e),null;case 3:return i=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Sa(xe),Nt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?Ca(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Fc())),le(e),null;case 26:var c=e.type,f=e.memoizedState;return t===null?(Ca(e),f!==null?(le(e),Pg(e,f)):(le(e),zh(e,c,null,l,i))):f?f!==t.memoizedState?(Ca(e),le(e),Pg(e,f)):(le(e),e.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ca(e),le(e),zh(e,c,t,l,i)),null;case 27:if(wt(e),i=W.current,c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Ca(e);else{if(!l){if(e.stateNode===null)throw Error(r(166));return le(e),null}t=ct.current,Gs(e)?Em(e):(t=Xp(c,l,i),e.stateNode=t,Ca(e))}return le(e),null;case 5:if(wt(e),c=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Ca(e);else{if(!l){if(e.stateNode===null)throw Error(r(166));return le(e),null}if(f=ct.current,Gs(e))Em(e);else{var g=Eu(W.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[me]=e,f[Be]=l;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=f;t:switch(Ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ca(e)}}return le(e),zh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&Ca(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(r(166));if(t=W.current,Gs(e)){if(t=e.stateNode,i=e.memoizedProps,l=null,c=qe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[me]=e,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Lp(t.nodeValue,i)),t||hi(e,!0)}else t=Eu(t).createTextNode(l),t[me]=e,e.stateNode=t}return le(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(l=Gs(e),i!==null){if(t===null){if(!l)throw Error(r(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[me]=e}else is(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;le(e),t=!1}else i=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(An(e),e):(An(e),null);if((e.flags&128)!==0)throw Error(r(558))}return le(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gs(e),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[me]=e}else is(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;le(e),c=!1}else c=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(An(e),e):(An(e),null)}return An(e),(e.flags&128)!==0?(e.lanes=i,e):(i=l!==null,t=t!==null&&t.memoizedState!==null,i&&(l=e.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),ru(e,e.updateQueue),le(e),null);case 4:return Nt(),t===null&&sf(e.stateNode.containerInfo),le(e),null;case 10:return Sa(e.type),le(e),null;case 19:if(K(_e),l=e.memoizedState,l===null)return le(e),null;if(c=(e.flags&128)!==0,f=l.rendering,f===null)if(c)dl(l,!1);else{if(ye!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Yo(t),f!==null){for(e.flags|=128,dl(l,!1),t=f.updateQueue,e.updateQueue=t,ru(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)pm(i,t),i=i.sibling;return et(_e,_e.current&1|2),zt&&xa(e,l.treeForkCount),e.child}t=t.sibling}l.tail!==null&&Le()>hu&&(e.flags|=128,c=!0,dl(l,!1),e.lanes=4194304)}else{if(!c)if(t=Yo(f),t!==null){if(e.flags|=128,c=!0,t=t.updateQueue,e.updateQueue=t,ru(e,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!zt)return le(e),null}else 2*Le()-l.renderingStartTime>hu&&i!==536870912&&(e.flags|=128,c=!0,dl(l,!1),e.lanes=4194304);l.isBackwards?(f.sibling=e.child,e.child=f):(t=l.last,t!==null?t.sibling=f:e.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Le(),t.sibling=null,i=_e.current,et(_e,c?i&1|2:i&1),zt&&xa(e,l.treeForkCount),t):(le(e),null);case 22:case 23:return An(e),sh(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(i&536870912)!==0&&(e.flags&128)===0&&(le(e),e.subtreeFlags&6&&(e.flags|=8192)):le(e),i=e.updateQueue,i!==null&&ru(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==i&&(e.flags|=2048),t!==null&&K(ls),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Sa(xe),le(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Q_(t,e){switch(Gc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(xe),Nt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return wt(e),null;case 31:if(e.memoizedState!==null){if(An(e),e.alternate===null)throw Error(r(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(An(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(_e),null;case 4:return Nt(),null;case 10:return Sa(e.type),null;case 22:case 23:return An(e),sh(),t!==null&&K(ls),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Sa(xe),null;case 25:return null;default:return null}}function Hg(t,e){switch(Gc(e),e.tag){case 3:Sa(xe),Nt();break;case 26:case 27:case 5:wt(e);break;case 4:Nt();break;case 31:e.memoizedState!==null&&An(e);break;case 13:An(e);break;case 19:K(_e);break;case 10:Sa(e.type);break;case 22:case 23:An(e),sh(),t!==null&&K(ls);break;case 24:Sa(xe)}}function ml(t,e){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&t)===t){l=void 0;var f=i.create,g=i.inst;l=f(),g.destroy=l}i=i.next}while(i!==c)}}catch(E){Jt(e,e.return,E)}}function vi(t,e,i){try{var l=e.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=e;var C=i,k=E;try{k()}catch(Y){Jt(c,C,Y)}}}l=l.next}while(l!==f)}}catch(Y){Jt(e,e.return,Y)}}function Gg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{Om(e,i)}catch(l){Jt(t,t.return,l)}}}function Qg(t,e,i){i.props=fs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){Jt(t,e,l)}}function gl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(c){Jt(t,e,c)}}function ra(t,e){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){Jt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Jt(t,e,c)}else i.current=null}function Fg(t){var e=t.type,i=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break t;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){Jt(t,t.return,c)}}function Uh(t,e,i){try{var l=t.stateNode;db(l,t.type,i,e),l[Be]=e}catch(c){Jt(t,t.return,c)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Si(t.type)||t.tag===4}function Lh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Si(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Me));else if(l!==4&&(l===27&&Si(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(kh(t,e,i),t=t.sibling;t!==null;)kh(t,e,i),t=t.sibling}function lu(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(l!==4&&(l===27&&Si(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(lu(t,e,i),t=t.sibling;t!==null;)lu(t,e,i),t=t.sibling}function Kg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Ge(e,l,i),e[me]=t,e[Be]=i}catch(f){Jt(t,t.return,f)}}var Da=!1,we=!1,Bh=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function F_(t,e){if(t=t.containerInfo,of=Nu,t=lm(t),Mc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var g=0,E=-1,C=-1,k=0,Y=0,Z=t,B=null;e:for(;;){for(var P;Z!==i||c!==0&&Z.nodeType!==3||(E=g+c),Z!==f||l!==0&&Z.nodeType!==3||(C=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(P=Z.firstChild)!==null;)B=Z,Z=P;for(;;){if(Z===t)break e;if(B===i&&++k===c&&(E=g),B===f&&++Y===l&&(C=g),(P=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=P}i=E===-1||C===-1?null:{start:E,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(uf={focusedElem:t,selectionRange:i},Nu=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,f=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)c=t[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var ft=fs(i.type,c);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Jt(i,i.return,_t)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)ff(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function Zg(t,e,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Va(t,i),l&4&&ml(5,i);break;case 1:if(Va(t,i),l&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){Jt(i,i.return,g)}else{var c=fs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(i,i.return,g)}}l&64&&Gg(i),l&512&&gl(i,i.return);break;case 3:if(Va(t,i),l&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Om(t,e)}catch(g){Jt(i,i.return,g)}}break;case 27:e===null&&l&4&&Kg(i);case 26:case 5:Va(t,i),e===null&&l&4&&Fg(i),l&512&&gl(i,i.return);break;case 12:Va(t,i);break;case 31:Va(t,i),l&4&&Wg(t,i);break;case 13:Va(t,i),l&4&&tp(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=eb.bind(null,i),Eb(t,i))));break;case 22:if(l=i.memoizedState!==null||Da,!l){e=e!==null&&e.memoizedState!==null||we,c=Da;var f=we;Da=l,(we=e)&&!f?Ma(t,i,(i.subtreeFlags&8772)!==0):Va(t,i),Da=c,we=f}break;case 30:break;default:Va(t,i)}}function Jg(t){var e=t.alternate;e!==null&&(t.alternate=null,Jg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Gi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,fn=!1;function Ia(t,e,i){for(i=i.child;i!==null;)$g(t,e,i),i=i.sibling}function $g(t,e,i){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(Ha,i)}catch{}switch(i.tag){case 26:we||ra(i,e),Ia(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:we||ra(i,e);var l=ce,c=fn;Si(i.type)&&(ce=i.stateNode,fn=!1),Ia(t,e,i),Al(i.stateNode),ce=l,fn=c;break;case 5:we||ra(i,e);case 6:if(l=ce,c=fn,ce=null,Ia(t,e,i),ce=l,fn=c,ce!==null)if(fn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(i.stateNode)}catch(f){Jt(i,e,f)}else try{ce.removeChild(i.stateNode)}catch(f){Jt(i,e,f)}break;case 18:ce!==null&&(fn?(t=ce,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),hr(t)):Gp(ce,i.stateNode));break;case 4:l=ce,c=fn,ce=i.stateNode.containerInfo,fn=!0,Ia(t,e,i),ce=l,fn=c;break;case 0:case 11:case 14:case 15:vi(2,i,e),we||vi(4,i,e),Ia(t,e,i);break;case 1:we||(ra(i,e),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Qg(i,e,l)),Ia(t,e,i);break;case 21:Ia(t,e,i);break;case 22:we=(l=we)||i.memoizedState!==null,Ia(t,e,i),we=l;break;default:Ia(t,e,i)}}function Wg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hr(t)}catch(i){Jt(e,e.return,i)}}}function tp(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hr(t)}catch(i){Jt(e,e.return,i)}}function Y_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Xg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Xg),e;default:throw Error(r(435,t.tag))}}function ou(t,e){var i=Y_(t);e.forEach(function(l){if(!i.has(l)){i.add(l);var c=nb.bind(null,t,l);l.then(c,c)}})}function dn(t,e){var i=e.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],f=t,g=e,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Si(E.type)){ce=E.stateNode,fn=!1;break t}break;case 5:ce=E.stateNode,fn=!1;break t;case 3:case 4:ce=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(ce===null)throw Error(r(160));$g(f,g,c),ce=null,fn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ep(e,t),e=e.sibling}var Fn=null;function ep(t,e){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(e,t),mn(t),l&4&&(vi(3,t,t.return),ml(3,t),vi(5,t,t.return));break;case 1:dn(e,t),mn(t),l&512&&(we||i===null||ra(i,i.return)),l&64&&Da&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=Fn;if(dn(e,t),mn(t),l&512&&(we||i===null||ra(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){t:{l=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ma]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,i),f[me]=t,ve(f),l=f;break t;case"link":var g=ey("link","href",c).get(l+(i.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,i),c.head.appendChild(f);break;case"meta":if(g=ey("meta","content",c).get(l+(i.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,i),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[me]=t,ve(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uh(t,t.memoizedProps,i.memoizedProps)}break;case 27:dn(e,t),mn(t),l&512&&(we||i===null||ra(i,i.return)),i!==null&&l&4&&Uh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(dn(e,t),mn(t),l&512&&(we||i===null||ra(i,i.return)),t.flags&32){c=t.stateNode;try{Vn(c,"")}catch(ft){Jt(t,t.return,ft)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Uh(t,c,i!==null?i.memoizedProps:c)),l&1024&&(Bh=!0);break;case 6:if(dn(e,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(ft){Jt(t,t.return,ft)}}break;case 3:if(Au=null,c=Fn,Fn=Tu(e.containerInfo),dn(e,t),Fn=c,mn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{hr(e.containerInfo)}catch(ft){Jt(t,t.return,ft)}Bh&&(Bh=!1,np(t));break;case 4:l=Fn,Fn=Tu(t.stateNode.containerInfo),dn(e,t),mn(t),Fn=l;break;case 12:dn(e,t),mn(t);break;case 31:dn(e,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ou(t,l)));break;case 13:dn(e,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(cu=Le()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ou(t,l)));break;case 22:c=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,k=Da,Y=we;if(Da=k||c,we=Y||C,dn(e,t),we=Y,Da=k,mn(t),l&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||C||Da||we||ds(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){C=i=e;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ft){Jt(C,C.return,ft)}}}else if(e.tag===6){if(i===null){C=e;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ft){Jt(C,C.return,ft)}}}else if(e.tag===18){if(i===null){C=e;try{var P=C.stateNode;c?Qp(P,!0):Qp(C.stateNode,!1)}catch(ft){Jt(C,C.return,ft)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,ou(t,i))));break;case 19:dn(e,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ou(t,l)));break;case 30:break;case 21:break;default:dn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{for(var i,l=t.return;l!==null;){if(Yg(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var c=i.stateNode,f=Lh(t);lu(t,f,c);break;case 5:var g=i.stateNode;i.flags&32&&(Vn(g,""),i.flags&=-33);var E=Lh(t);lu(t,E,g);break;case 3:case 4:var C=i.stateNode.containerInfo,k=Lh(t);kh(t,k,C);break;default:throw Error(r(161))}}catch(Y){Jt(t,t.return,Y)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;np(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Va(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Zg(t,e.alternate,e),e=e.sibling}function ds(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vi(4,e,e.return),ds(e);break;case 1:ra(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Qg(e,e.return,i),ds(e);break;case 27:Al(e.stateNode);case 26:case 5:ra(e,e.return),ds(e);break;case 22:e.memoizedState===null&&ds(e);break;case 30:ds(e);break;default:ds(e)}t=t.sibling}}function Ma(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,c=t,f=e,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ma(c,f,i),ml(4,f);break;case 1:if(Ma(c,f,i),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Jt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Mm(C[c],E)}catch(k){Jt(l,l.return,k)}}i&&g&64&&Gg(f),gl(f,f.return);break;case 27:Kg(f);case 26:case 5:Ma(c,f,i),i&&l===null&&g&4&&Fg(f),gl(f,f.return);break;case 12:Ma(c,f,i);break;case 31:Ma(c,f,i),i&&g&4&&Wg(c,f);break;case 13:Ma(c,f,i),i&&g&4&&tp(c,f);break;case 22:f.memoizedState===null&&Ma(c,f,i),gl(f,f.return);break;case 30:break;default:Ma(c,f,i)}e=e.sibling}}function qh(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&el(i))}function Ph(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&el(t))}function Yn(t,e,i,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ap(t,e,i,l),e=e.sibling}function ap(t,e,i,l){var c=e.flags;switch(e.tag){case 0:case 11:case 15:Yn(t,e,i,l),c&2048&&ml(9,e);break;case 1:Yn(t,e,i,l);break;case 3:Yn(t,e,i,l),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){Yn(t,e,i,l),t=e.stateNode;try{var f=e.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Jt(e,e.return,C)}}else Yn(t,e,i,l);break;case 31:Yn(t,e,i,l);break;case 13:Yn(t,e,i,l);break;case 23:break;case 22:f=e.stateNode,g=e.alternate,e.memoizedState!==null?f._visibility&2?Yn(t,e,i,l):pl(t,e):f._visibility&2?Yn(t,e,i,l):(f._visibility|=2,tr(t,e,i,l,(e.subtreeFlags&10256)!==0||!1)),c&2048&&qh(g,e);break;case 24:Yn(t,e,i,l),c&2048&&Ph(e.alternate,e);break;default:Yn(t,e,i,l)}}function tr(t,e,i,l,c){for(c=c&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var f=t,g=e,E=i,C=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:tr(f,g,E,C,c),ml(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?tr(f,g,E,C,c):pl(f,g):(Y._visibility|=2,tr(f,g,E,C,c)),c&&k&2048&&qh(g.alternate,g);break;case 24:tr(f,g,E,C,c),c&&k&2048&&Ph(g.alternate,g);break;default:tr(f,g,E,C,c)}e=e.sibling}}function pl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,l=e,c=l.flags;switch(l.tag){case 22:pl(i,l),c&2048&&qh(l.alternate,l);break;case 24:pl(i,l),c&2048&&Ph(l.alternate,l);break;default:pl(i,l)}e=e.sibling}}var yl=8192;function er(t,e,i){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)ip(t,e,i),t=t.sibling}function ip(t,e,i){switch(t.tag){case 26:er(t,e,i),t.flags&yl&&t.memoizedState!==null&&Mb(i,Fn,t.memoizedState,t.memoizedProps);break;case 5:er(t,e,i);break;case 3:case 4:var l=Fn;Fn=Tu(t.stateNode.containerInfo),er(t,e,i),Fn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,er(t,e,i),yl=l):er(t,e,i));break;default:er(t,e,i)}}function sp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function vl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];ze=l,lp(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&vi(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,uu(t)):vl(t);break;default:vl(t)}}function uu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];ze=l,lp(l,t)}sp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vi(8,e,e.return),uu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,uu(e));break;default:uu(e)}t=t.sibling}}function lp(t,e){for(;ze!==null;){var i=ze;switch(i.tag){case 0:case 11:case 15:vi(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ze=l;else t:for(i=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Jg(l),l===i){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var K_={getCacheForType:function(t){var e=Pe(xe),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Pe(xe).controller.signal}},X_=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ae=null,It=null,Mt=0,Zt=0,Sn=null,_i=!1,nr=!1,Hh=!1,Oa=0,ye=0,bi=0,ms=0,Gh=0,wn=0,ar=0,_l=null,gn=null,Qh=!1,cu=0,op=0,hu=1/0,fu=null,Ei=null,De=0,Ti=null,ir=null,ja=0,Fh=0,Yh=null,up=null,bl=0,Kh=null;function Rn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:F.T!==null?tf():da()}function cp(){if(wn===0)if((Mt&536870912)===0||zt){var t=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),wn=t}else wn=536870912;return t=xn.current,t!==null&&(t.flags|=32),wn}function pn(t,e,i){(t===ae&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(sr(t,0),xi(t,Mt,wn,!1)),Fa(t,i),((Ft&2)===0||t!==ae)&&(t===ae&&((Ft&2)===0&&(ms|=i),ye===4&&xi(t,Mt,wn,!1)),la(t))}function hp(t,e,i){if((Ft&6)!==0)throw Error(r(327));var l=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Qa(t,e),c=l?$_(t,e):Zh(t,e,!0),f=l;do{if(c===0){nr&&!l&&xi(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Z_(i)){c=Zh(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var E=t;c=_l;var C=E.current.memoizedState.isDehydrated;if(C&&(sr(E,g).flags|=256),g=Zh(E,g,!1),g!==2){if(Hh&&!C){E.errorRecoveryDisabledLanes|=f,ms|=f,c=4;break t}f=gn,gn=c,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){sr(t,0),xi(t,e,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:xi(l,e,wn,!_i);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=cu+300-Le(),10<c)){if(xi(l,e,wn,!_i),Dn(l,0,!0)!==0)break t;ja=e,l.timeoutHandle=Pp(fp.bind(null,l,i,gn,fu,Qh,e,wn,ms,ar,_i,f,"Throttled",-0,0),c);break t}fp(l,i,gn,fu,Qh,e,wn,ms,ar,_i,f,null,-0,0)}}break}while(!0);la(t)}function fp(t,e,i,l,c,f,g,E,C,k,Y,Z,B,P){if(t.timeoutHandle=-1,Z=e.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Me},ip(e,f,Z);var ft=(f&62914560)===f?cu-Le():(f&4194048)===f?op-Le():0;if(ft=Ob(Z,ft),ft!==null){ja=f,t.cancelPendingCommit=ft(bp.bind(null,t,e,f,i,l,c,g,E,C,Y,Z,null,B,P)),xi(t,f,g,!k);return}}bp(t,e,f,i,l,c,g,E,C)}function Z_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!En(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e,i,l){e&=~Gh,e&=~ms,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var c=e;0<c;){var f=31-nn(c),g=1<<f;l[f]=-1,c&=~g}i!==0&&Or(t,i,e)}function du(){return(Ft&6)===0?(El(0),!1):!0}function Xh(){if(It!==null){if(Zt===0)var t=It.return;else t=It,Aa=ss=null,hh(t),Xs=null,al=0,t=It;for(;t!==null;)Hg(t.alternate,t),t=t.return;It=null}}function sr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,pb(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),ja=0,Xh(),ae=t,It=i=Ta(t.current,null),Mt=e,Zt=0,Sn=null,_i=!1,nr=Qa(t,e),Hh=!1,ar=wn=Gh=ms=bi=ye=0,gn=_l=null,Qh=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var c=31-nn(l),f=1<<c;e|=t[c],l&=~f}return Oa=e,Oo(),i}function dp(t,e){At=null,F.H=hl,e===Ks||e===Po?(e=Cm(),Zt=3):e===Wc?(e=Cm(),Zt=4):Zt=e===Rh?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sn=e,It===null&&(ye=1,nu(t,On(e,t.current)))}function mp(){var t=xn.current;return t===null?!0:(Mt&4194048)===Mt?Ln===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===Ln:!1}function gp(){var t=F.H;return F.H=hl,t===null?hl:t}function pp(){var t=F.A;return F.A=K_,t}function mu(){ye=4,_i||(Mt&4194048)!==Mt&&xn.current!==null||(nr=!0),(bi&134217727)===0&&(ms&134217727)===0||ae===null||xi(ae,Mt,wn,!1)}function Zh(t,e,i){var l=Ft;Ft|=2;var c=gp(),f=pp();(ae!==t||Mt!==e)&&(fu=null,sr(t,e)),e=!1;var g=ye;t:do try{if(Zt!==0&&It!==null){var E=It,C=Sn;switch(Zt){case 8:Xh(),g=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var k=Zt;if(Zt=0,Sn=null,rr(t,E,C,k),i&&nr){g=0;break t}break;default:k=Zt,Zt=0,Sn=null,rr(t,E,C,k)}}J_(),g=ye;break}catch(Y){dp(t,Y)}while(!0);return e&&t.shellSuspendCounter++,Aa=ss=null,Ft=l,F.H=c,F.A=f,It===null&&(ae=null,Mt=0,Oo()),g}function J_(){for(;It!==null;)yp(It)}function $_(t,e){var i=Ft;Ft|=2;var l=gp(),c=pp();ae!==t||Mt!==e?(fu=null,hu=Le()+500,sr(t,e)):nr=Qa(t,e);t:do try{if(Zt!==0&&It!==null){e=It;var f=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,rr(t,e,f,1);break;case 2:case 9:if(Rm(f)){Zt=0,Sn=null,vp(e);break}e=function(){Zt!==2&&Zt!==9||ae!==t||(Zt=7),la(t)},f.then(e,e);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Rm(f)?(Zt=0,Sn=null,vp(e)):(Zt=0,Sn=null,rr(t,e,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?ay(g):E.stateNode.complete){Zt=0,Sn=null;var C=E.sibling;if(C!==null)It=C;else{var k=E.return;k!==null?(It=k,gu(k)):It=null}break e}}Zt=0,Sn=null,rr(t,e,f,5);break;case 6:Zt=0,Sn=null,rr(t,e,f,6);break;case 8:Xh(),ye=6;break t;default:throw Error(r(462))}}W_();break}catch(Y){dp(t,Y)}while(!0);return Aa=ss=null,F.H=l,F.A=c,Ft=i,It!==null?0:(ae=null,Mt=0,Oo(),ye)}function W_(){for(;It!==null&&!Tc();)yp(It)}function yp(t){var e=qg(t.alternate,t,Oa);t.memoizedProps=t.pendingProps,e===null?gu(t):It=e}function vp(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=jg(i,e,e.pendingProps,e.type,void 0,Mt);break;case 11:e=jg(i,e,e.pendingProps,e.type.render,e.ref,Mt);break;case 5:hh(e);default:Hg(i,e),e=It=pm(e,Oa),e=qg(i,e,Oa)}t.memoizedProps=t.pendingProps,e===null?gu(t):It=e}function rr(t,e,i,l){Aa=ss=null,hh(e),Xs=null,al=0;var c=e.return;try{if(q_(t,c,e,i,Mt)){ye=1,nu(t,On(i,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ye=1,nu(t,On(i,t.current)),It=null;return}e.flags&32768?(zt||l===1?t=!0:nr||(Mt&536870912)!==0?t=!1:(_i=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_p(e,t)):gu(e)}function gu(t){var e=t;do{if((e.flags&32768)!==0){_p(e,_i);return}t=e.return;var i=G_(e.alternate,e,Oa);if(i!==null){It=i;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);ye===0&&(ye=5)}function _p(t,e){do{var i=Q_(t.alternate,t);if(i!==null){i.flags&=32767,It=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){It=t;return}It=t=i}while(t!==null);ye=6,It=null}function bp(t,e,i,l,c,f,g,E,C){t.cancelPendingCommit=null;do pu();while(De!==0);if((Ft&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(f=e.lanes|e.childLanes,f|=Lc,ke(t,i,f,g,E,C),t===ae&&(It=ae=null,Mt=0),ir=e,Ti=t,ja=i,Fh=f,Yh=c,up=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ab(ha,function(){return Sp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=st.p,st.p=2,g=Ft,Ft|=4;try{F_(t,e,i)}finally{Ft=g,st.p=c,F.T=l}}De=1,Ep(),Tp(),xp()}}function Ep(){if(De===1){De=0;var t=Ti,e=ir,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=F.T,F.T=null;var l=st.p;st.p=2;var c=Ft;Ft|=4;try{ep(e,t);var f=uf,g=lm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(C!==null&&Mc(E)){var k=C.start,Y=C.end;if(Y===void 0&&(Y=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var P=B.getSelection(),ft=E.textContent.length,_t=Math.min(C.start,ft),ne=C.end===void 0?_t:Math.min(C.end,ft);!P.extend&&_t>ne&&(g=ne,ne=_t,_t=g);var z=sm(E,_t),V=sm(E,ne);if(z&&V&&(P.rangeCount!==1||P.anchorNode!==z.node||P.anchorOffset!==z.offset||P.focusNode!==V.node||P.focusOffset!==V.offset)){var L=Z.createRange();L.setStart(z.node,z.offset),P.removeAllRanges(),_t>ne?(P.addRange(L),P.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),P.addRange(L))}}}}for(Z=[],P=E;P=P.parentNode;)P.nodeType===1&&Z.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Nu=!!of,uf=of=null}finally{Ft=c,st.p=l,F.T=i}}t.current=e,De=2}}function Tp(){if(De===2){De=0;var t=Ti,e=ir,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=F.T,F.T=null;var l=st.p;st.p=2;var c=Ft;Ft|=4;try{Zg(t,e.alternate,e)}finally{Ft=c,st.p=l,F.T=i}}De=3}}function xp(){if(De===4||De===3){De=0,Dr();var t=Ti,e=ir,i=ja,l=up;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?De=5:(De=0,ir=Ti=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ei=null),zr(i),e=e.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(Ha,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=F.T,c=st.p,st.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=e,st.p=c}}(ja&3)!==0&&pu(),la(t),c=t.pendingLanes,(i&261930)!==0&&(c&42)!==0?t===Kh?bl++:(bl=0,Kh=t):bl=0,El(0)}}function Ap(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,el(e)))}function pu(){return Ep(),Tp(),xp(),Sp()}function Sp(){if(De!==5)return!1;var t=Ti,e=Fh;Fh=0;var i=zr(ja),l=F.T,c=st.p;try{st.p=32>i?32:i,F.T=null,i=Yh,Yh=null;var f=Ti,g=ja;if(De=0,ir=Ti=null,ja=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,rp(f.current),ap(f,f.current,g,i),Ft=E,El(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(Ha,f)}catch{}return!0}finally{st.p=c,F.T=l,Ap(t,e)}}function wp(t,e,i){e=On(i,e),e=wh(t.stateNode,e,2),t=gi(t,e,2),t!==null&&(Fa(t,2),la(t))}function Jt(t,e,i){if(t.tag===3)wp(t,t,i);else for(;e!==null;){if(e.tag===3){wp(e,t,i);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ei===null||!Ei.has(l))){t=On(i,t),i=Rg(2),l=gi(e,i,2),l!==null&&(Ng(i,l,e,t),Fa(l,2),la(l));break}}e=e.return}}function Jh(t,e,i){var l=t.pingCache;if(l===null){l=t.pingCache=new X_;var c=new Set;l.set(e,c)}else c=l.get(e),c===void 0&&(c=new Set,l.set(e,c));c.has(i)||(Hh=!0,c.add(i),t=tb.bind(null,t,e,i),e.then(t,t))}function tb(t,e,i){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ae===t&&(Mt&i)===i&&(ye===4||ye===3&&(Mt&62914560)===Mt&&300>Le()-cu?(Ft&2)===0&&sr(t,0):Gh|=i,ar===Mt&&(ar=0)),la(t)}function Rp(t,e){e===0&&(e=Mr()),t=ns(t,e),t!==null&&(Fa(t,e),la(t))}function eb(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),Rp(t,i)}function nb(t,e){var i=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(e),Rp(t,i)}function ab(t,e){return qi(t,e)}var yu=null,lr=null,$h=!1,vu=!1,Wh=!1,Ai=0;function la(t){t!==lr&&t.next===null&&(lr===null?yu=lr=t:lr=lr.next=t),vu=!0,$h||($h=!0,sb())}function El(t,e){if(!Wh&&vu){Wh=!0;do for(var i=!1,l=yu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-nn(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Ip(l,f))}else f=Mt,f=Dn(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qa(l,f)||(i=!0,Ip(l,f));l=l.next}while(i);Wh=!1}}function ib(){Np()}function Np(){vu=$h=!1;var t=0;Ai!==0&&gb()&&(t=Ai);for(var e=Le(),i=null,l=yu;l!==null;){var c=l.next,f=Cp(l,e);f===0?(l.next=null,i===null?yu=c:i.next=c,c===null&&(lr=i)):(i=l,(t!==0||(f&3)!==0)&&(vu=!0)),l=c}De!==0&&De!==5||El(t),Ai!==0&&(Ai=0)}function Cp(t,e){for(var i=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-nn(f),E=1<<g,C=c[g];C===-1?((E&i)===0||(E&l)!==0)&&(c[g]=Rs(E,e)):C<=e&&(t.expiredLanes|=E),f&=~E}if(e=ae,i=Mt,i=Dn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===e&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ws(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Qa(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(l!==null&&ws(l),zr(i)){case 2:case 8:i=Ve;break;case 32:i=ha;break;case 268435456:i=Ir;break;default:i=ha}return l=Dp.bind(null,t),i=qi(i,l),t.callbackPriority=e,t.callbackNode=i,e}return l!==null&&l!==null&&ws(l),t.callbackPriority=2,t.callbackNode=null,2}function Dp(t,e){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(pu()&&t.callbackNode!==i)return null;var l=Mt;return l=Dn(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hp(t,l,e),Cp(t,Le()),t.callbackNode!=null&&t.callbackNode===i?Dp.bind(null,t):null)}function Ip(t,e){if(pu())return null;hp(t,e,!0)}function sb(){yb(function(){(Ft&6)!==0?qi(Ce,ib):Np()})}function tf(){if(Ai===0){var t=Fs;t===0&&(t=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Ai=t}return Ai}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ea(""+t)}function Mp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function rb(t,e,i,l,c){if(e==="submit"&&i&&i.stateNode===c){var f=Vp((c[Be]||null).action),g=l.submitter;g&&(e=(e=g[Be]||null)?Vp(e.formAction):g.getAttribute("formAction"),e!==null&&(f=e,g=null));var E=new Xi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ai!==0){var C=g?Mp(c,g):new FormData(c);bh(i,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Mp(c,g):new FormData(c),bh(i,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var ef=0;ef<Uc.length;ef++){var nf=Uc[ef],lb=nf.toLowerCase(),ob=nf[0].toUpperCase()+nf.slice(1);Qn(lb,"on"+ob)}Qn(cm,"onAnimationEnd"),Qn(hm,"onAnimationIteration"),Qn(fm,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(A_,"onTransitionRun"),Qn(S_,"onTransitionStart"),Qn(w_,"onTransitionCancel"),Qn(dm,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Op(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],c=l.event;l=l.listeners;t:{var f=void 0;if(e)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,k=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Y){Mo(Y)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,k=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Y){Mo(Y)}c.currentTarget=null,f=C}}}}function Vt(t,e){var i=e[Xa];i===void 0&&(i=e[Xa]=new Set);var l=t+"__bubble";i.has(l)||(jp(e,t,2,!1),i.add(l))}function af(t,e,i){var l=0;e&&(l|=4),jp(i,t,l,e)}var _u="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[_u]){t[_u]=!0,Ns.forEach(function(i){i!=="selectionchange"&&(ub.has(i)||af(i,!1,t),af(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_u]||(e[_u]=!0,af("selectionchange",!1,e))}}function jp(t,e,i,l){switch(cy(e)){case 2:var c=Ub;break;case 8:c=Lb;break;default:c=bf}i=c.bind(null,e,i,t),c=void 0,!Gr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function rf(t,e,i,l,c){var f=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ga(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}yo(function(){var k=f,Y=Ms(i),Z=[];t:{var B=mm.get(t);if(B!==void 0){var P=Xi,ft=t;switch(t){case"keypress":if(Ki(i)===0)break t;case"keydown":case"keyup":P=wo;break;case"focusin":ft="focus",P=si;break;case"focusout":ft="blur",P=si;break;case"beforeblur":case"afterblur":P=si;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=No;break;case cm:case hm:case fm:P=zs;break;case dm:P=Us;break;case"scroll":case"scrollend":P=vo;break;case"wheel":P=Do;break;case"copy":case"cut":case"paste":P=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Xr;break;case"toggle":case"beforetoggle":P=li}var _t=(e&4)!==0,ne=!_t&&(t==="scroll"||t==="scrollend"),z=_t?B!==null?B+"Capture":null:B;_t=[];for(var V=k,L;V!==null;){var X=V;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||z===null||(X=cn(V,z),X!=null&&_t.push(xl(V,X,L))),ne)break;V=V.return}0<_t.length&&(B=new P(B,ft,null,i,Y),Z.push({event:B,listeners:_t}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",B&&i!==Vs&&(ft=i.relatedTarget||i.fromElement)&&(ga(ft)||ft[$n]))break t;if((P||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,P?(ft=i.relatedTarget||i.toElement,P=k,ft=ft?ga(ft):null,ft!==null&&(ne=h(ft),_t=ft.tag,ft!==ne||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(P=null,ft=k),P!==ft)){if(_t=_o,X="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Xr,X="onPointerLeave",z="onPointerEnter",V="pointer"),ne=P==null?B:Qi(P),L=ft==null?B:Qi(ft),B=new _t(X,V+"leave",P,i,Y),B.target=ne,B.relatedTarget=L,X=null,ga(Y)===k&&(_t=new _t(z,V+"enter",ft,i,Y),_t.target=L,_t.relatedTarget=ne,X=_t),ne=X,P&&ft)e:{for(_t=cb,z=P,V=ft,L=0,X=z;X;X=_t(X))L++;X=0;for(var pt=V;pt;pt=_t(pt))X++;for(;0<L-X;)z=_t(z),L--;for(;0<X-L;)V=_t(V),X--;for(;L--;){if(z===V||V!==null&&z===V.alternate){_t=z;break e}z=_t(z),V=_t(V)}_t=null}else _t=null;P!==null&&zp(Z,B,P,_t,!1),ft!==null&&ne!==null&&zp(Z,ne,ft,_t,!0)}}t:{if(B=k?Qi(k):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var Ht=Wd;else if(hn(B))if(tm)Ht=E_;else{Ht=__;var mt=v_}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&Pr(k.elementType)&&(Ht=Wd):Ht=b_;if(Ht&&(Ht=Ht(t,k))){Wi(Z,Ht,i,Y);break t}mt&&mt(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&Is(B,"number",B.value)}switch(mt=k?Qi(k):window,t){case"focusin":(hn(mt)||mt.contentEditable==="true")&&(Ls=mt,Oc=k,$r=null);break;case"focusout":$r=Oc=Ls=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,om(Z,i,Y);break;case"selectionchange":if(x_)break;case"keydown":case"keyup":om(Z,i,Y)}var Rt;if(m)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Ct?Kt(t,i)&&(Ot="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ot="onCompositionStart");Ot&&(U&&i.locale!=="ko"&&(Ct||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Ct&&(Rt=ei()):(bn=Y,Os="value"in bn?bn.value:bn.textContent,Ct=!0)),mt=bu(k,Ot),0<mt.length&&(Ot=new Fr(Ot,t,null,i,Y),Z.push({event:Ot,listeners:mt}),Rt?Ot.data=Rt:(Rt=Te(i),Rt!==null&&(Ot.data=Rt)))),(Rt=T?Oe(t,i):je(t,i))&&(Ot=bu(k,"onBeforeInput"),0<Ot.length&&(mt=new Fr("onBeforeInput","beforeinput",null,i,Y),Z.push({event:mt,listeners:Ot}),mt.data=Rt)),rb(Z,t,k,i,Y)}Op(Z,e)})}function xl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function bu(t,e){for(var i=e+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=cn(t,i),c!=null&&l.unshift(xl(t,c,f)),c=cn(t,e),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function cb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,e,i,l,c){for(var f=e._reactName,g=[];i!==null&&i!==l;){var E=i,C=E.alternate,k=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||k===null||(C=k,c?(k=cn(i,f),k!=null&&g.unshift(xl(i,k,C))):c||(k=cn(i,f),k!=null&&g.push(xl(i,k,C)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(hb,`
`).replace(fb,"")}function Lp(t,e){return e=Up(e),Up(t)===e}function ee(t,e,i,l,c,f){switch(i){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&Vn(t,""+l);break;case"className":$a(t,"class",l);break;case"tabIndex":$a(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$a(t,i,l);break;case"style":go(t,l,f);break;case"data":if(e!=="object"){$a(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=ea(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&ee(t,e,"name",c.name,c,null),ee(t,e,"formEncType",c.formEncType,c,null),ee(t,e,"formMethod",c.formMethod,c,null),ee(t,e,"formTarget",c.formTarget,c,null)):(ee(t,e,"encType",c.encType,c,null),ee(t,e,"method",c.method,c,null),ee(t,e,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=ea(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=Me);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Ja(t,"popover",l);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ja(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Nc.get(i)||i,Ja(t,i,l))}}function lf(t,e,i,l,c,f){switch(i){case"style":go(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Me);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Za.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[Be]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,l,c);break t}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Ja(t,i,l)}}}function Ge(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ee(t,e,f,g,i,null)}}c&&ee(t,e,"srcSet",i.srcSet,i,null),l&&ee(t,e,"src",i.src,i,null);return;case"input":Vt("invalid",t);var E=f=g=c=null,C=null,k=null;for(l in i)if(i.hasOwnProperty(l)){var Y=i[l];if(Y!=null)switch(l){case"name":c=Y;break;case"type":g=Y;break;case"checked":C=Y;break;case"defaultChecked":k=Y;break;case"value":f=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,e));break;default:ee(t,e,l,Y,i,null)}}Fi(t,f,E,C,k,g,c,!1);return;case"select":Vt("invalid",t),l=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ee(t,e,c,E,i,null)}e=f,i=g,t.multiple=!!l,e!=null?Pt(t,!!l,e,!1):i!=null&&Pt(t,!!l,i,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(g in i)if(i.hasOwnProperty(g)&&(E=i[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ee(t,e,g,E,i,null)}ti(t,l,c,f);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(l=i[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(t,e,C,l,i,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in i)if(i.hasOwnProperty(k)&&(l=i[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ee(t,e,k,l,i,null)}return;default:if(Pr(e)){for(Y in i)i.hasOwnProperty(Y)&&(l=i[Y],l!==void 0&&lf(t,e,Y,l,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(l=i[E],l!=null&&ee(t,e,E,l,i,null))}function db(t,e,i,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,k=null,Y=null;for(P in i){var Z=i[P];if(i.hasOwnProperty(P)&&Z!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(P)||ee(t,e,P,null,l,Z)}}for(var B in l){var P=l[B];if(Z=i[B],l.hasOwnProperty(B)&&(P!=null||Z!=null))switch(B){case"type":f=P;break;case"name":c=P;break;case"checked":k=P;break;case"defaultChecked":Y=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,e));break;default:P!==Z&&ee(t,e,B,P,l,Z)}}Wa(t,g,E,C,k,Y,f,c);return;case"select":P=g=E=B=null;for(f in i)if(C=i[f],i.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":P=C;default:l.hasOwnProperty(f)||ee(t,e,f,null,l,C)}for(c in l)if(f=l[c],C=i[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ee(t,e,c,f,l,C)}e=E,i=g,l=P,B!=null?Pt(t,!!i,B,!1):!!l!=!!i&&(e!=null?Pt(t,!!i,e,!0):Pt(t,!!i,i?[]:"",!1));return;case"textarea":P=B=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(t,e,E,null,l,c)}for(g in l)if(c=l[g],f=i[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&ee(t,e,g,c,l,f)}Yi(t,B,P);return;case"option":for(var ft in i)if(B=i[ft],i.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:ee(t,e,ft,null,l,B)}for(C in l)if(B=l[C],P=i[C],l.hasOwnProperty(C)&&B!==P&&(B!=null||P!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(t,e,C,B,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in i)B=i[_t],i.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&ee(t,e,_t,null,l,B);for(k in l)if(B=l[k],P=i[k],l.hasOwnProperty(k)&&B!==P&&(B!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,e));break;default:ee(t,e,k,B,l,P)}return;default:if(Pr(e)){for(var ne in i)B=i[ne],i.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&lf(t,e,ne,void 0,l,B);for(Y in l)B=l[Y],P=i[Y],!l.hasOwnProperty(Y)||B===P||B===void 0&&P===void 0||lf(t,e,Y,B,l,P);return}}for(var z in i)B=i[z],i.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&ee(t,e,z,null,l,B);for(Z in l)B=l[Z],P=i[Z],!l.hasOwnProperty(Z)||B===P||B==null&&P==null||ee(t,e,Z,B,l,P)}function kp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var c=i[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&kp(g)){for(g=0,E=c.responseEnd,l+=1;l<i.length;l++){var C=i[l],k=C.startTime;if(k>E)break;var Y=C.transferSize,Z=C.initiatorType;Y&&kp(Z)&&(C=C.responseEnd,g+=Y*(C<E?1:(E-k)/(C-k)))}if(--l,e+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var of=null,uf=null;function Eu(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hf=null;function gb(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var Pp=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(vb)}:Pp;function vb(t){setTimeout(function(){throw t})}function Si(t){return t==="head"}function Gp(t,e){var i=e,l=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(l===0){t.removeChild(c),hr(e);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")Al(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Al(i);for(var f=i.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ma]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&Al(t.ownerDocument.body);i=c}while(i);hr(e)}function Qp(t,e){var i=t;t=0;do{var l=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=l}while(i)}function ff(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ff(i),Gi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function _b(t,e,i,l){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ma])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function bb(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Fp(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=kn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$?"||t.data==="$~"}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Eb(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var l=function(){e(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var gf=null;function Yp(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return kn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function Kp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Xp(t,e,i){switch(e=Eu(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Al(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Gi(t)}var Bn=new Map,Zp=new Set;function Tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var za=st.d;st.d={f:Tb,r:xb,D:Ab,C:Sb,L:wb,m:Rb,X:Cb,S:Nb,M:Db};function Tb(){var t=za.f(),e=du();return t||e}function xb(t){var e=pa(t);e!==null&&e.tag===5&&e.type==="form"?dg(e):za.r(t)}var or=typeof document>"u"?null:document;function Jp(t,e,i){var l=or;if(l&&typeof e=="string"&&e){var c=ge(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:i,href:e},l.querySelector(c)===null&&(e=l.createElement("link"),Ge(e,"link",t),ve(e),l.head.appendChild(e)))}}function Ab(t){za.D(t),Jp("dns-prefetch",t,null)}function Sb(t,e){za.C(t,e),Jp("preconnect",t,e)}function wb(t,e,i){za.L(t,e,i);var l=or;if(l&&t&&e){var c='link[rel="preload"][as="'+ge(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+ge(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+ge(i.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(e){case"style":f=ur(t);break;case"script":f=cr(t)}Bn.has(f)||(t=D({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Bn.set(f,t),l.querySelector(c)!==null||e==="style"&&l.querySelector(Sl(f))||e==="script"&&l.querySelector(wl(f))||(e=l.createElement("link"),Ge(e,"link",t),ve(e),l.head.appendChild(e)))}}function Rb(t,e){za.m(t,e);var i=or;if(i&&t){var l=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cr(t)}if(!Bn.has(f)&&(t=D({rel:"modulepreload",href:t},e),Bn.set(f,t),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(wl(f)))return}l=i.createElement("link"),Ge(l,"link",t),ve(l),i.head.appendChild(l)}}}function Nb(t,e,i){za.S(t,e,i);var l=or;if(l&&t){var c=Hn(l).hoistableStyles,f=ur(t);e=e||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Sl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Bn.get(f))&&pf(t,i);var C=g=l.createElement("link");ve(C),Ge(C,"link",t),C._p=new Promise(function(k,Y){C.onload=k,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xu(g,e,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function Cb(t,e){za.X(t,e);var i=or;if(i&&t){var l=Hn(i).hoistableScripts,c=cr(t),f=l.get(c);f||(f=i.querySelector(wl(c)),f||(t=D({src:t,async:!0},e),(e=Bn.get(c))&&yf(t,e),f=i.createElement("script"),ve(f),Ge(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Db(t,e){za.M(t,e);var i=or;if(i&&t){var l=Hn(i).hoistableScripts,c=cr(t),f=l.get(c);f||(f=i.querySelector(wl(c)),f||(t=D({src:t,async:!0,type:"module"},e),(e=Bn.get(c))&&yf(t,e),f=i.createElement("script"),ve(f),Ge(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $p(t,e,i,l){var c=(c=W.current)?Tu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=ur(i.href),i=Hn(c).hoistableStyles,l=i.get(e),l||(l={type:"style",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ur(i.href);var f=Hn(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Sl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bn.set(t,i),f||Ib(c,t,i,g.state))),e&&l===null)throw Error(r(528,""));return g}if(e&&l!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=cr(i),i=Hn(c).hoistableScripts,l=i.get(e),l||(l={type:"script",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ur(t){return'href="'+ge(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function Ib(t,e,i,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),Ge(e,"link",i),ve(e),t.head.appendChild(e))}function cr(t){return'[src="'+ge(t)+'"]'}function wl(t){return"script[async]"+t}function ty(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+ge(i.href)+'"]');if(l)return e.instance=l,ve(l),l;var c=D({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),Ge(l,"style",c),xu(l,i.precedence,t),e.instance=l;case"stylesheet":c=ur(i.href);var f=t.querySelector(Sl(c));if(f)return e.state.loading|=4,e.instance=f,ve(f),f;l=Wp(i),(c=Bn.get(c))&&pf(l,c),f=(t.ownerDocument||t).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ge(f,"link",l),e.state.loading|=4,xu(f,i.precedence,t),e.instance=f;case"script":return f=cr(i.src),(c=t.querySelector(wl(f)))?(e.instance=c,ve(c),c):(l=i,(c=Bn.get(f))&&(l=D({},i),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ve(c),Ge(c,"link",l),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,xu(l,i.precedence,t));return e.instance}function xu(t,e,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function pf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function yf(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Au=null;function ey(t,e,i){if(Au===null){var l=new Map,c=Au=new Map;c.set(i,l)}else c=Au,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[ma]||f[me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(e)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ny(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Vb(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ay(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mb(t,e,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=ur(l.href),f=e.querySelector(Sl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Su.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=f,ve(f);return}f=e.ownerDocument||e,l=Wp(l),(c=Bn.get(c))&&pf(l,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ge(f,"link",l),i.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Su.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var vf=0;function Ob(t,e){return t.stylesheets&&t.count===0&&Ru(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var l=setTimeout(function(){if(t.stylesheets&&Ru(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+e);0<t.imgBytes&&vf===0&&(vf=62500*mb());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ru(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>vf?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Su(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ru(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function Ru(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,e.forEach(jb,t),wu=null,Su.call(t))}function jb(t,e){if(!(e.state.loading&4)){var i=wu.get(t);if(i)var l=i.get(null);else{i=new Map,wu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}c=e.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||l,f===l&&i.set(null,c),i.set(g,c),this.count++,l=Su.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Rl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function zb(t,e,i,l,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iy(t,e,i,l,c,f,g,E,C,k,Y,Z){return t=new zb(t,e,i,g,C,k,Y,Z,E),e=1,f===!0&&(e|=24),f=Tn(3,null,null,e),t.current=f,f.stateNode=t,e=Zc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:e},th(f),t}function sy(t){return t?(t=qs,t):qs}function ry(t,e,i,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=mi(e),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=gi(t,l,e),i!==null&&(pn(i,t,e),sl(i,t,e))}function ly(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function _f(t,e){ly(t,e),(t=t.alternate)&&ly(t,e)}function oy(t){if(t.tag===13||t.tag===31){var e=ns(t,67108864);e!==null&&pn(e,t,67108864),_f(t,67108864)}}function uy(t){if(t.tag===13||t.tag===31){var e=Rn();e=jr(e);var i=ns(t,e);i!==null&&pn(i,t,e),_f(t,e)}}var Nu=!0;function Ub(t,e,i,l){var c=F.T;F.T=null;var f=st.p;try{st.p=2,bf(t,e,i,l)}finally{st.p=f,F.T=c}}function Lb(t,e,i,l){var c=F.T;F.T=null;var f=st.p;try{st.p=8,bf(t,e,i,l)}finally{st.p=f,F.T=c}}function bf(t,e,i,l){if(Nu){var c=Ef(l);if(c===null)rf(t,e,l,Cu,i),hy(t,l);else if(Bb(c,t,e,i,l))l.stopPropagation();else if(hy(t,l),e&4&&-1<kb.indexOf(t)){for(;c!==null;){var f=pa(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Pn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-nn(g);E.entanglements[1]|=C,g&=~C}la(f),(Ft&6)===0&&(hu=Le()+500,El(0))}}break;case 31:case 13:E=ns(f,2),E!==null&&pn(E,f,2),du(),_f(f,2)}if(f=Ef(l),f===null&&rf(t,e,l,Cu,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else rf(t,e,l,null,i)}}function Ef(t){return t=Ms(t),Tf(t)}var Cu=null;function Tf(t){if(Cu=null,t=ga(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===31){if(t=p(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Cu=t,null}function cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lo()){case Ce:return 2;case Ve:return 8;case ha:case oo:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var xf=!1,wi=null,Ri=null,Ni=null,Nl=new Map,Cl=new Map,Ci=[],kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Dl(t,e,i,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},e!==null&&(e=pa(e),e!==null&&oy(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function Bb(t,e,i,l,c){switch(e){case"focusin":return wi=Dl(wi,t,e,i,l,c),!0;case"dragenter":return Ri=Dl(Ri,t,e,i,l,c),!0;case"mouseover":return Ni=Dl(Ni,t,e,i,l,c),!0;case"pointerover":var f=c.pointerId;return Nl.set(f,Dl(Nl.get(f)||null,t,e,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Dl(Cl.get(f)||null,t,e,i,l,c)),!0}return!1}function fy(t){var e=ga(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,co(t.priority,function(){uy(i)});return}}else if(e===31){if(e=p(i),e!==null){t.blockedOn=e,co(t.priority,function(){uy(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ef(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Vs=l,i.target.dispatchEvent(l),Vs=null}else return e=pa(i),e!==null&&oy(e),t.blockedOn=i,!1;e.shift()}return!0}function dy(t,e,i){Du(t)&&i.delete(e)}function qb(){xf=!1,wi!==null&&Du(wi)&&(wi=null),Ri!==null&&Du(Ri)&&(Ri=null),Ni!==null&&Du(Ni)&&(Ni=null),Nl.forEach(dy),Cl.forEach(dy)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,xf||(xf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qb)))}var Vu=null;function my(t){Vu!==t&&(Vu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vu===t&&(Vu=null);for(var e=0;e<t.length;e+=3){var i=t[e],l=t[e+1],c=t[e+2];if(typeof l!="function"){if(Tf(l||i)===null)continue;break}var f=pa(i);f!==null&&(t.splice(e,3),e-=3,bh(f,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function hr(t){function e(C){return Iu(C,t)}wi!==null&&Iu(wi,t),Ri!==null&&Iu(Ri,t),Ni!==null&&Iu(Ni,t),Nl.forEach(e),Cl.forEach(e);for(var i=0;i<Ci.length;i++){var l=Ci[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ci.length&&(i=Ci[0],i.blockedOn===null);)fy(i),i.blockedOn===null&&Ci.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],f=i[l+1],g=c[Be]||null;if(typeof f=="function")g||my(i);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Be]||null)E=g.formAction;else if(Tf(c)!==null)continue}else E=g.action;typeof E=="function"?i[l+1]=E:(i.splice(l,3),l-=3),my(i)}}}function gy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function e(){c!==null&&(c(),c=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),c!==null&&(c(),c=null)}}}function Af(t){this._internalRoot=t}Mu.prototype.render=Af.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,l=Rn();ry(i,l,t,e,null,null)},Mu.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ry(t.current,2,null,t,null,null),du(),e[$n]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=da();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ci.length&&e!==0&&e<Ci[i].priority;i++);Ci.splice(i,0,t),i===0&&fy(t)}};var py=n.version;if(py!=="19.2.4")throw Error(r(527,py,"19.2.4"));st.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(e),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var Pb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Ha=Ou.inject(Pb),Ze=Ou}catch{}}return Vl.createRoot=function(t,e){if(!o(t))throw Error(r(299));var i=!1,l="",c=xg,f=Ag,g=Sg;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=iy(t,1,!1,null,null,i,l,null,c,f,g,gy),t[$n]=e.current,sf(t),new Af(e)},Vl.hydrateRoot=function(t,e,i){if(!o(t))throw Error(r(299));var l=!1,c="",f=xg,g=Ag,E=Sg,C=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),e=iy(t,1,!0,e,i??null,l,c,C,f,g,E,gy),e.context=sy(null),i=e.current,l=Rn(),l=jr(l),c=mi(l),c.callback=null,gi(i,c,l),i=l,e.current.lanes=i,Fa(e,i),la(e),t[$n]=e.current,sf(t),new Mu(e)},Vl.version="19.2.4",Vl}var wy;function Wb(){if(wy)return Rf.exports;wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Rf.exports=$b(),Rf.exports}var t1=Wb();const e1=C0(t1);var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=function(s){const n=[];let a=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},n1=function(s){const n=[];let a=0,r=0;for(;a<s.length;){const o=s[a++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[a++];n[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[a++],d=s[a++],p=s[a++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(v>>10)),n[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[a++],d=s[a++];n[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return n.join("")},I0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,D=(h&3)<<4|p>>4;let j=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(j=64)),r.push(a[A],a[D],a[j],a[G])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(D0(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):n1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=a[s.charAt(o++)],p=o<s.length?a[s.charAt(o)]:0;++o;const _=o<s.length?a[s.charAt(o)]:64;++o;const D=o<s.length?a[s.charAt(o)]:64;if(++o,h==null||p==null||_==null||D==null)throw new a1;const j=h<<2|p>>4;if(r.push(j),_!==64){const G=p<<4&240|_>>2;if(r.push(G),D!==64){const $=_<<6&192|D;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class a1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(s){const n=D0(s);return I0.encodeByteArray(n,!0)},Yu=function(s){return i1(s).replace(/\./g,"")},s1=function(s){try{return I0.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>r1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof Ry>"u")return;const s=Ry.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},u1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&s1(s[1]);return n&&JSON.parse(n)},gd=()=>{try{return l1()||o1()||u1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},c1=s=>{var n,a;return(a=(n=gd())===null||n===void 0?void 0:n.emulatorHosts)===null||a===void 0?void 0:a[s]},h1=s=>{const n=c1(s);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),r]:[n.substring(0,a),r]},V0=()=>{var s;return(s=gd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,r)=>{a?this.reject(a):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},r=n||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Yu(JSON.stringify(a)),Yu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g1(){var s;const n=(s=gd())===null||s===void 0?void 0:s.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return!g1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((s,n)=>{try{let a=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var h;n(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(a){n(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="FirebaseError";class wr extends Error{constructor(n,a,r){super(a),this.code=n,this.customData=r,this.name=_1,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M0.prototype.create)}}class M0{constructor(n,a,r){this.service=n,this.serviceName=a,this.errors=r}create(n,...a){const r=a[0]||{},o=`${this.service}/${n}`,h=this.errors[n],d=h?b1(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new wr(o,p,r)}}function b1(s,n){return s.replace(E1,(a,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const E1=/\{\$([^}]+)}/g;function Pf(s,n){if(s===n)return!0;const a=Object.keys(s),r=Object.keys(n);for(const o of a){if(!r.includes(o))return!1;const h=s[o],d=n[o];if(Ny(h)&&Ny(d)){if(!Pf(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!a.includes(o))return!1;return!0}function Ny(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(s){return s&&s._delegate?s._delegate:s}class Pl{constructor(n,a,r){this.name=n,this.instanceFactory=a,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const r=new f1;if(this.instancesDeferred.set(a,r),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){var a;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),o=(a=n==null?void 0:n.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(A1(n))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[a,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(n=gs){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=gs){return this.instances.has(n)}getOptions(n=gs){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:a});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(n,a){var r;const o=this.normalizeInstanceIdentifier(a),h=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;h.add(n),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&n(d,o),()=>{h.delete(n)}}invokeOnInitCallbacks(n,a){const r=this.onInitCallbacks.get(a);if(r)for(const o of r)try{o(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x1(n),options:a}),this.instances.set(n,r),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=gs){return this.component?this.component.multipleInstances?n:gs:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x1(s){return s===gs?void 0:s}function A1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new T1(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const w1={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},R1=Bt.INFO,N1={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},C1=(s,n,...a)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),o=N1[n];if(o)console[o](`[${r}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class O0{constructor(n){this.name=n,this._logLevel=R1,this._logHandler=C1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Bt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?w1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...n),this._logHandler(this,Bt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...n),this._logHandler(this,Bt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...n),this._logHandler(this,Bt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...n),this._logHandler(this,Bt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...n),this._logHandler(this,Bt.ERROR,...n)}}const D1=(s,n)=>n.some(a=>s instanceof a);let Cy,Dy;function I1(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V1(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,Hf=new WeakMap,z0=new WeakMap,If=new WeakMap,pd=new WeakMap;function M1(s){const n=new Promise((a,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{a(Vi(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&j0.set(a,s)}).catch(()=>{}),pd.set(n,s),n}function O1(s){if(Hf.has(s))return;const n=new Promise((a,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{a(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Hf.set(s,n)}let Gf={get(s,n,a){if(s instanceof IDBTransaction){if(n==="done")return Hf.get(s);if(n==="objectStoreNames")return s.objectStoreNames||z0.get(s);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Vi(s[n])},set(s,n,a){return s[n]=a,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function j1(s){Gf=s(Gf)}function z1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const r=s.call(Vf(this),n,...a);return z0.set(r,n.sort?n.sort():[n]),Vi(r)}:V1().includes(s)?function(...n){return s.apply(Vf(this),n),Vi(j0.get(this))}:function(...n){return Vi(s.apply(Vf(this),n))}}function U1(s){return typeof s=="function"?z1(s):(s instanceof IDBTransaction&&O1(s),D1(s,I1())?new Proxy(s,Gf):s)}function Vi(s){if(s instanceof IDBRequest)return M1(s);if(If.has(s))return If.get(s);const n=U1(s);return n!==s&&(If.set(s,n),pd.set(n,s)),n}const Vf=s=>pd.get(s);function L1(s,n,{blocked:a,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,n),p=Vi(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Vi(d.result),v.oldVersion,v.newVersion,Vi(d.transaction),v)}),a&&d.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const k1=["get","getKey","getAll","getAllKeys","count"],B1=["put","add","delete","clear"],Mf=new Map;function Iy(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Mf.get(n))return Mf.get(n);const a=n.replace(/FromIndex$/,""),r=n!==a,o=B1.includes(a);if(!(a in(r?IDBIndex:IDBObjectStore).prototype)||!(o||k1.includes(a)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[a](...p),o&&v.done]))[0]};return Mf.set(n,h),h}j1(s=>({...s,get:(n,a,r)=>Iy(n,a)||s.get(n,a,r),has:(n,a)=>!!Iy(n,a)||s.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(P1(a)){const r=a.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(a=>a).join(" ")}}function P1(s){const n=s.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Qf="@firebase/app",Vy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new O0("@firebase/app"),H1="@firebase/app-compat",G1="@firebase/analytics-compat",Q1="@firebase/analytics",F1="@firebase/app-check-compat",Y1="@firebase/app-check",K1="@firebase/auth",X1="@firebase/auth-compat",Z1="@firebase/database",J1="@firebase/data-connect",$1="@firebase/database-compat",W1="@firebase/functions",tE="@firebase/functions-compat",eE="@firebase/installations",nE="@firebase/installations-compat",aE="@firebase/messaging",iE="@firebase/messaging-compat",sE="@firebase/performance",rE="@firebase/performance-compat",lE="@firebase/remote-config",oE="@firebase/remote-config-compat",uE="@firebase/storage",cE="@firebase/storage-compat",hE="@firebase/firestore",fE="@firebase/vertexai-preview",dE="@firebase/firestore-compat",mE="firebase",gE="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",pE={[Qf]:"fire-core",[H1]:"fire-core-compat",[Q1]:"fire-analytics",[G1]:"fire-analytics-compat",[Y1]:"fire-app-check",[F1]:"fire-app-check-compat",[K1]:"fire-auth",[X1]:"fire-auth-compat",[Z1]:"fire-rtdb",[J1]:"fire-data-connect",[$1]:"fire-rtdb-compat",[W1]:"fire-fn",[tE]:"fire-fn-compat",[eE]:"fire-iid",[nE]:"fire-iid-compat",[aE]:"fire-fcm",[iE]:"fire-fcm-compat",[sE]:"fire-perf",[rE]:"fire-perf-compat",[lE]:"fire-rc",[oE]:"fire-rc-compat",[uE]:"fire-gcs",[cE]:"fire-gcs-compat",[hE]:"fire-fst",[dE]:"fire-fst-compat",[fE]:"fire-vertex","fire-js":"fire-js",[mE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,yE=new Map,Yf=new Map;function My(s,n){try{s.container.addComponent(n)}catch(a){Ba.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,a)}}function Xu(s){const n=s.name;if(Yf.has(n))return Ba.debug(`There were multiple attempts to register component ${n}.`),!1;Yf.set(n,s);for(const a of Ku.values())My(a,s);for(const a of yE.values())My(a,s);return!0}function vE(s,n){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new M0("app","Firebase",_E);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(n,a,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=gE;function U0(s,n={}){let a=s;typeof n!="object"&&(n={name:n});const r=Object.assign({name:Ff,automaticDataCollectionEnabled:!1},n),o=r.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(a||(a=V0()),!a)throw Mi.create("no-options");const h=Ku.get(o);if(h){if(Pf(a,h.options)&&Pf(r,h.config))return h;throw Mi.create("duplicate-app",{appName:o})}const d=new S1(o);for(const v of Yf.values())d.addComponent(v);const p=new bE(a,r,d);return Ku.set(o,p),p}function TE(s=Ff){const n=Ku.get(s);if(!n&&s===Ff&&V0())return U0();if(!n)throw Mi.create("no-app",{appName:s});return n}function gr(s,n,a){var r;let o=(r=pE[s])!==null&&r!==void 0?r:s;a&&(o+=`-${a}`);const h=o.match(/\s|\//),d=n.match(/\s|\//);if(h||d){const p=[`Unable to register library "${o}" with version "${n}":`];h&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ba.warn(p.join(" "));return}Xu(new Pl(`${o}-version`,()=>({library:o,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebase-heartbeat-database",AE=1,Hl="firebase-heartbeat-store";let Of=null;function L0(){return Of||(Of=L1(xE,AE,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Hl)}catch(a){console.warn(a)}}}}).catch(s=>{throw Mi.create("idb-open",{originalErrorMessage:s.message})})),Of}async function SE(s){try{const a=(await L0()).transaction(Hl),r=await a.objectStore(Hl).get(k0(s));return await a.done,r}catch(n){if(n instanceof wr)Ba.warn(n.message);else{const a=Mi.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Ba.warn(a.message)}}}async function Oy(s,n){try{const r=(await L0()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(n,k0(s)),await r.done}catch(a){if(a instanceof wr)Ba.warn(a.message);else{const r=Mi.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});Ba.warn(r.message)}}}function k0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=1024,RE=720*60*60*1e3;class NE{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new DE(a),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=jy();return((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h)?void 0:(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=RE}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ba.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=jy(),{heartbeatsToSend:r,unsentEntries:o}=CE(this._heartbeatsCache.heartbeats),h=Yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(a){return Ba.warn(a),""}}}function jy(){return new Date().toISOString().substring(0,10)}function CE(s,n=wE){const a=[];let r=s.slice();for(const o of s){const h=a.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),zy(a)>n){h.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),zy(a)>n){a.pop();break}r=r.slice(1)}return{heartbeatsToSend:a,unsentEntries:r}}class DE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await SE(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(a=n.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}else return}}function zy(s){return Yu(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(s){Xu(new Pl("platform-logger",n=>new q1(n),"PRIVATE")),Xu(new Pl("heartbeat",n=>new NE(n),"PRIVATE")),gr(Qf,Vy,s),gr(Qf,Vy,"esm2017"),gr("fire-js","")}IE("");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,B0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(S,x){function w(){}w.prototype=x.prototype,S.D=x.prototype,S.prototype=new w,S.prototype.constructor=S,S.C=function(N,I,O){for(var R=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)R[Xt-2]=arguments[Xt];return x.prototype[I].apply(N,R)}}function a(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(r,a),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,x,w){w||(w=0);var N=Array(16);if(typeof x=="string")for(var I=0;16>I;++I)N[I]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(I=0;16>I;++I)N[I]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=S.g[0],w=S.g[1],I=S.g[2];var O=S.g[3],R=x+(O^w&(I^O))+N[0]+3614090360&4294967295;x=w+(R<<7&4294967295|R>>>25),R=O+(I^x&(w^I))+N[1]+3905402710&4294967295,O=x+(R<<12&4294967295|R>>>20),R=I+(w^O&(x^w))+N[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=w+(x^I&(O^x))+N[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(O^w&(I^O))+N[4]+4118548399&4294967295,x=w+(R<<7&4294967295|R>>>25),R=O+(I^x&(w^I))+N[5]+1200080426&4294967295,O=x+(R<<12&4294967295|R>>>20),R=I+(w^O&(x^w))+N[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=w+(x^I&(O^x))+N[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(O^w&(I^O))+N[8]+1770035416&4294967295,x=w+(R<<7&4294967295|R>>>25),R=O+(I^x&(w^I))+N[9]+2336552879&4294967295,O=x+(R<<12&4294967295|R>>>20),R=I+(w^O&(x^w))+N[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=w+(x^I&(O^x))+N[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(O^w&(I^O))+N[12]+1804603682&4294967295,x=w+(R<<7&4294967295|R>>>25),R=O+(I^x&(w^I))+N[13]+4254626195&4294967295,O=x+(R<<12&4294967295|R>>>20),R=I+(w^O&(x^w))+N[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=w+(x^I&(O^x))+N[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(I^O&(w^I))+N[1]+4129170786&4294967295,x=w+(R<<5&4294967295|R>>>27),R=O+(w^I&(x^w))+N[6]+3225465664&4294967295,O=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(O^x))+N[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=w+(O^x&(I^O))+N[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(I^O&(w^I))+N[5]+3593408605&4294967295,x=w+(R<<5&4294967295|R>>>27),R=O+(w^I&(x^w))+N[10]+38016083&4294967295,O=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(O^x))+N[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=w+(O^x&(I^O))+N[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(I^O&(w^I))+N[9]+568446438&4294967295,x=w+(R<<5&4294967295|R>>>27),R=O+(w^I&(x^w))+N[14]+3275163606&4294967295,O=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(O^x))+N[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=w+(O^x&(I^O))+N[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(I^O&(w^I))+N[13]+2850285829&4294967295,x=w+(R<<5&4294967295|R>>>27),R=O+(w^I&(x^w))+N[2]+4243563512&4294967295,O=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(O^x))+N[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=w+(O^x&(I^O))+N[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(w^I^O)+N[5]+4294588738&4294967295,x=w+(R<<4&4294967295|R>>>28),R=O+(x^w^I)+N[8]+2272392833&4294967295,O=x+(R<<11&4294967295|R>>>21),R=I+(O^x^w)+N[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=w+(I^O^x)+N[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(w^I^O)+N[1]+2763975236&4294967295,x=w+(R<<4&4294967295|R>>>28),R=O+(x^w^I)+N[4]+1272893353&4294967295,O=x+(R<<11&4294967295|R>>>21),R=I+(O^x^w)+N[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=w+(I^O^x)+N[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(w^I^O)+N[13]+681279174&4294967295,x=w+(R<<4&4294967295|R>>>28),R=O+(x^w^I)+N[0]+3936430074&4294967295,O=x+(R<<11&4294967295|R>>>21),R=I+(O^x^w)+N[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=w+(I^O^x)+N[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(w^I^O)+N[9]+3654602809&4294967295,x=w+(R<<4&4294967295|R>>>28),R=O+(x^w^I)+N[12]+3873151461&4294967295,O=x+(R<<11&4294967295|R>>>21),R=I+(O^x^w)+N[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=w+(I^O^x)+N[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(I^(w|~O))+N[0]+4096336452&4294967295,x=w+(R<<6&4294967295|R>>>26),R=O+(w^(x|~I))+N[7]+1126891415&4294967295,O=x+(R<<10&4294967295|R>>>22),R=I+(x^(O|~w))+N[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=w+(O^(I|~x))+N[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=x+(I^(w|~O))+N[12]+1700485571&4294967295,x=w+(R<<6&4294967295|R>>>26),R=O+(w^(x|~I))+N[3]+2399980690&4294967295,O=x+(R<<10&4294967295|R>>>22),R=I+(x^(O|~w))+N[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=w+(O^(I|~x))+N[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=x+(I^(w|~O))+N[8]+1873313359&4294967295,x=w+(R<<6&4294967295|R>>>26),R=O+(w^(x|~I))+N[15]+4264355552&4294967295,O=x+(R<<10&4294967295|R>>>22),R=I+(x^(O|~w))+N[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=w+(O^(I|~x))+N[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=x+(I^(w|~O))+N[4]+4149444226&4294967295,x=w+(R<<6&4294967295|R>>>26),R=O+(w^(x|~I))+N[11]+3174756917&4294967295,O=x+(R<<10&4294967295|R>>>22),R=I+(x^(O|~w))+N[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=w+(O^(I|~x))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var w=x-this.blockSize,N=this.B,I=this.h,O=0;O<x;){if(I==0)for(;O<=w;)o(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<x;)if(N[I++]=S.charCodeAt(O++),I==this.blockSize){o(this,N),I=0;break}}else for(;O<x;)if(N[I++]=S[O++],I==this.blockSize){o(this,N),I=0;break}}this.h=I,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var w=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=w&255,w/=256;for(this.u(S),S=Array(16),x=w=0;4>x;++x)for(var N=0;32>N;N+=8)S[w++]=this.g[x]>>>N&255;return S};function h(S,x){var w=p;return Object.prototype.hasOwnProperty.call(w,S)?w[S]:w[S]=x(S)}function d(S,x){this.h=x;for(var w=[],N=!0,I=S.length-1;0<=I;I--){var O=S[I]|0;N&&O==x||(w[I]=O,N=!1)}this.g=w}var p={};function v(S){return-128<=S&&128>S?h(S,function(x){return new d([x|0],0>x?-1:0)}):new d([S|0],0>S?-1:0)}function _(S){if(isNaN(S)||!isFinite(S))return D;if(0>S)return Q(_(-S));for(var x=[],w=1,N=0;S>=w;N++)x[N]=S/w|0,w*=4294967296;return new d(x,0)}function A(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return Q(A(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(x,8)),N=D,I=0;I<S.length;I+=8){var O=Math.min(8,S.length-I),R=parseInt(S.substring(I,I+O),x);8>O?(O=_(Math.pow(x,O)),N=N.j(O).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var D=v(0),j=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(it(this))return-Q(this).m();for(var S=0,x=1,w=0;w<this.g.length;w++){var N=this.i(w);S+=(0<=N?N:4294967296+N)*x,x*=4294967296}return S},s.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if($(this))return"0";if(it(this))return"-"+Q(this).toString(S);for(var x=_(Math.pow(S,6)),w=this,N="";;){var I=nt(w,x).g;w=rt(w,I.j(x));var O=((0<w.g.length?w.g[0]:w.h)>>>0).toString(S);if(w=I,$(w))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},s.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function $(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function it(S){return S.h==-1}s.l=function(S){return S=rt(this,S),it(S)?-1:$(S)?0:1};function Q(S){for(var x=S.g.length,w=[],N=0;N<x;N++)w[N]=~S.g[N];return new d(w,~S.h).add(j)}s.abs=function(){return it(this)?Q(this):this},s.add=function(S){for(var x=Math.max(this.g.length,S.g.length),w=[],N=0,I=0;I<=x;I++){var O=N+(this.i(I)&65535)+(S.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);N=R>>>16,O&=65535,R&=65535,w[I]=R<<16|O}return new d(w,w[w.length-1]&-2147483648?-1:0)};function rt(S,x){return S.add(Q(x))}s.j=function(S){if($(this)||$(S))return D;if(it(this))return it(S)?Q(this).j(Q(S)):Q(Q(this).j(S));if(it(S))return Q(this.j(Q(S)));if(0>this.l(G)&&0>S.l(G))return _(this.m()*S.m());for(var x=this.g.length+S.g.length,w=[],N=0;N<2*x;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var I=0;I<S.g.length;I++){var O=this.i(N)>>>16,R=this.i(N)&65535,Xt=S.i(I)>>>16,ie=S.i(I)&65535;w[2*N+2*I]+=R*ie,ot(w,2*N+2*I),w[2*N+2*I+1]+=O*ie,ot(w,2*N+2*I+1),w[2*N+2*I+1]+=R*Xt,ot(w,2*N+2*I+1),w[2*N+2*I+2]+=O*Xt,ot(w,2*N+2*I+2)}for(N=0;N<x;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=x;N<2*x;N++)w[N]=0;return new d(w,0)};function ot(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function ut(S,x){this.g=S,this.h=x}function nt(S,x){if($(x))throw Error("division by zero");if($(S))return new ut(D,D);if(it(S))return x=nt(Q(S),x),new ut(Q(x.g),Q(x.h));if(it(x))return x=nt(S,Q(x)),new ut(Q(x.g),x.h);if(30<S.g.length){if(it(S)||it(x))throw Error("slowDivide_ only works with positive integers.");for(var w=j,N=x;0>=N.l(S);)w=Ut(w),N=Ut(N);var I=q(w,1),O=q(N,1);for(N=q(N,2),w=q(w,2);!$(N);){var R=O.add(N);0>=R.l(S)&&(I=I.add(w),O=R),N=q(N,1),w=q(w,1)}return x=rt(S,I.j(x)),new ut(I,x)}for(I=D;0<=S.l(x);){for(w=Math.max(1,Math.floor(S.m()/x.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=_(w),R=O.j(x);it(R)||0<R.l(S);)w-=N,O=_(w),R=O.j(x);$(O)&&(O=j),I=I.add(O),S=rt(S,R)}return new ut(I,S)}s.A=function(S){return nt(this,S).h},s.and=function(S){for(var x=Math.max(this.g.length,S.g.length),w=[],N=0;N<x;N++)w[N]=this.i(N)&S.i(N);return new d(w,this.h&S.h)},s.or=function(S){for(var x=Math.max(this.g.length,S.g.length),w=[],N=0;N<x;N++)w[N]=this.i(N)|S.i(N);return new d(w,this.h|S.h)},s.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),w=[],N=0;N<x;N++)w[N]=this.i(N)^S.i(N);return new d(w,this.h^S.h)};function Ut(S){for(var x=S.g.length+1,w=[],N=0;N<x;N++)w[N]=S.i(N)<<1|S.i(N-1)>>>31;return new d(w,S.h)}function q(S,x){var w=x>>5;x%=32;for(var N=S.g.length-w,I=[],O=0;O<N;O++)I[O]=0<x?S.i(O+w)>>>x|S.i(O+w+1)<<32-x:S.i(O+w);return new d(I,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ys=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,Ol,P0,qu,Kf,H0,G0,Q0;(function(){var s,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function a(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=a(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&n(y,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function D(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function j(u,m,y){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,j.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,H){for(var at=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)at[Kt-2]=arguments[Kt];return m.prototype[U].apply(T,at)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Q(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(v(T)){const U=u.length||0,H=T.length||0;u.length=U+H;for(let at=0;at<H;at++)u[U+at]=T[at]}else u.push(T)}}class rt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function nt(u){return nt[" "](u),u}nt[" "]=function(){};var Ut=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function q(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function S(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function x(u){const m={};for(const y in u)m[y]=u[y];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let H=0;H<w.length;H++)y=w[H],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function I(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function O(u){p.setTimeout(()=>{throw u},0)}function R(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Xt{constructor(){this.h=this.g=null}add(m,y){const T=ie.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new rt(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,Lt=new Xt,qt=()=>{const u=p.Promise.resolve(void 0);st=()=>{u.then(M)}};var M=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){O(y)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}gt=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};p.addEventListener("test",y,m),p.removeEventListener("test",y,m)}catch{}return u})();function vt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ut){t:{try{nt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:W[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&vt.aa.h.call(this)}}$(vt,et);var W={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),St=0;function Nt(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++St,this.da=this.fa=!1}function Wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wt(u){this.src=u,this.g={},this.h=0}wt.prototype.add=function(u,m,y,T,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var at=fe(u,m,T,U);return-1<at?(m=u[at],y||(m.fa=!1)):(m=new Nt(m,this.src,H,!!T,U),m.fa=y,u.push(m)),m};function Yt(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(T,U,1),H&&(Wt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function fe(u,m,y,T){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==T)return U}return-1}var de="closure_lm_"+(1e6*Math.random()|0),Bi={};function As(u,m,y,T,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)As(u,m[H],y,T,U);return null}return y=lo(y),u&&u[lt]?u.K(m,y,_(T)?!!T.capture:!1,U):Ec(u,m,y,!1,T,U)}function Ec(u,m,y,T,U,H){if(!m)throw Error("Invalid event type");var at=_(U)?!!U.capture:!!U,Kt=Dr(u);if(Kt||(u[de]=Kt=new wt(u)),y=Kt.add(m,y,T,at,H),y.proxy)return y;if(T=ro(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ct||(U=at),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ws(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ro(){function u(y){return m.call(u.src,u.listener,y)}const m=Tc;return u}function Ss(u,m,y,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ss(u,m[H],y,T,U);else T=_(T)?!!T.capture:!!T,y=lo(y),u&&u[lt]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=fe(H,y,T,U),-1<y&&(Wt(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Dr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fe(m,y,T,U)),(y=-1<u?m[u]:null)&&qi(y))}function qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[lt])Yt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(ws(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Dr(m))?(Yt(y,u),y.h==0&&(y.src=null,m[de]=null)):Wt(u)}}}function ws(u){return u in Bi?Bi[u]:Bi[u]="on"+u}function Tc(u,m){if(u.da)u=!0;else{m=new vt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&qi(u),u=y.call(T,m)}return u}function Dr(u){return u=u[de],u instanceof wt?u:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(u){return typeof u=="function"?u:(u[Le]||(u[Le]=function(m){return u.handleEvent(m)}),u[Le])}function Ce(){K.call(this),this.i=new wt(this),this.M=this,this.F=null}$(Ce,K),Ce.prototype[lt]=!0,Ce.prototype.removeEventListener=function(u,m,y,T){Ss(this,u,m,y,T)};function Ve(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var U=m;m=new et(T,u),N(m,U)}if(U=!0,y)for(var H=y.length-1;0<=H;H--){var at=m.g=y[H];U=ha(at,T,!0,m)&&U}if(at=m.g=u,U=ha(at,T,!0,m)&&U,U=ha(at,T,!1,m)&&U,y)for(H=0;H<y.length;H++)at=m.g=y[H],U=ha(at,T,!1,m)&&U}Ce.prototype.N=function(){if(Ce.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Wt(y[T]);delete u.g[m],u.h--}}this.F=null},Ce.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},Ce.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ha(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var at=m[H];if(at&&!at.da&&at.capture==y){var Kt=at.listener,Te=at.ha||at.src;at.fa&&Yt(u.i,at),U=Kt.call(Te,T)!==!1&&U}}return U&&!T.defaultPrevented}function oo(u,m,y){if(typeof u=="function")y&&(u=j(u,y));else if(u&&typeof u.handleEvent=="function")u=j(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Ir(u){u.g=oo(()=>{u.g=null,u.i&&(u.i=!1,Ir(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class xc extends K{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ir(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){K.call(this),this.h=u,this.g={}}$(Pi,K);var Ha=[];function Ze(u){q(u.g,function(m,y){this.g.hasOwnProperty(y)&&qi(m)},u),u.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),Ze(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=p.JSON.stringify,nn=p.JSON.parse,Ac=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Vr(){}Vr.prototype.h=null;function uo(u){return u.h||(u.h=u.i())}function Hi(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ga(){et.call(this,"d")}$(Ga,et);function Pn(){et.call(this,"c")}$(Pn,et);var Dn={},Qa=null;function Rs(){return Qa=Qa||new Ce}Dn.La="serverreachability";function Mr(u){et.call(this,Dn.La,u)}$(Mr,et);function fa(u){const m=Rs();Ve(m,new Mr(m))}Dn.STAT_EVENT="statevent";function Fa(u,m){et.call(this,Dn.STAT_EVENT,u),this.stat=m}$(Fa,et);function ke(u){const m=Rs();Ve(m,new Fa(m,u))}Dn.Ma="timingevent";function Or(u,m){et.call(this,Dn.Ma,u),this.size=m}$(Or,et);function Ya(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Ka(){this.g=!0}Ka.prototype.xa=function(){this.g=!1};function jr(u,m,y,T,U,H){u.info(function(){if(u.g)if(H)for(var at="",Kt=H.split("&"),Te=0;Te<Kt.length;Te++){var Ct=Kt[Te].split("=");if(1<Ct.length){var Oe=Ct[0];Ct=Ct[1];var je=Oe.split("_");at=2<=je.length&&je[1]=="type"?at+(Oe+"="+Ct+"&"):at+(Oe+"=redacted&")}}else at=null;else at=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+at})}function zr(u,m,y,T,U,H,at){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+at})}function da(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jn(u,y)+(T?" "+T:"")})}function co(u,m){u.info(function(){return"TIMEOUT: "+m})}Ka.prototype.info=function(){};function Jn(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return Cn(y)}catch{return m}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Xa(){}$(Xa,Vr),Xa.prototype.g=function(){return new XMLHttpRequest},Xa.prototype.i=function(){return{}},$n=new Xa;function Wn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ho}function ho(){this.i=null,this.g="",this.h=!1}var Ur={},ma={};function Gi(u,m,y){u.L=1,u.v=Yi(ge(m)),u.m=y,u.P=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Hn(u),u.A=ge(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),va(y.i,"t",T),u.C=0,y=u.j.J,u.h=new ho,u.g=No(u.j,y?m:null,!u.m),0<u.O&&(u.M=new xc(j(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ha[0]=U.toString()),U=Ha);for(var H=0;H<U.length;H++){var at=As(y,U[H],T||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),fa(),jr(u.i,u.u,u.A,u.l,u.R,u.m)}Wn.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const je=rn(this.g);var m=this.g.Ba();const oi=this.g.Z();if(!(3>je)&&(je!=3||this.g&&(this.h.h||this.g.oa()||Zi(this.g)))){this.J||je!=4||m==7||(m==8||0>=oi?fa(3):fa(2)),Ns(this);var y=this.g.Z();this.X=y;e:if(pa(this)){var T=Zi(this.g);u="";var U=T.length,H=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Za(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=y==200,zr(this.i,this.u,this.A,this.l,this.R,je,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,Te=this.g;if((Kt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Kt)){var Ct=Kt;break e}}Ct=null}if(y=Ct)da(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,y);else{this.o=!1,this.s=3,ke(12),an(this),Za(this);break t}}if(this.P){y=!0;let hn;for(;!this.J&&this.C<at.length;)if(hn=Qi(this,at),hn==ma){je==4&&(this.s=4,ke(14),y=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Ur){this.s=4,ke(15),da(this.i,this.l,at,"[Invalid Chunk]"),y=!1;break}else da(this.i,this.l,hn,null),ta(this,hn);if(pa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||at.length!=0||this.h.h||(this.s=1,ke(16),y=!1),this.o=this.o&&y,!y)da(this.i,this.l,at,"[Invalid Chunked Response]"),an(this),Za(this);else if(0<at.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Kr(Oe),Oe.M=!0,ke(11))}}else da(this.i,this.l,at,null),ta(this,at);je==4&&an(this),this.o&&!this.J&&(je==4?So(this.j,this):(this.o=!1,Hn(this)))}else _o(this.g),y==400&&0<at.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),an(this),Za(this)}}}catch{}finally{}};function pa(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qi(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?ma:(y=Number(m.substring(y,T)),isNaN(y)?Ur:(T+=1,T+y>m.length?ma:(m=m.slice(T,T+y),u.C=T+y,m)))}Wn.prototype.cancel=function(){this.J=!0,an(this)};function Hn(u){u.S=Date.now()+u.I,ve(u,u.I)}function ve(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ya(j(u.ba,u),m)}function Ns(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(co(this.i,this.A),this.L!=2&&(fa(),ke(17)),an(this),this.s=2,Za(this)):ve(this,this.S-u)};function Za(u){u.j.G==0||u.J||So(u.j,u)}function an(u){Ns(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ze(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ta(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Ja(y.h,u))){if(!u.K&&Ja(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)ri(y),si(y);else break t;Yr(y),ke(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ya(j(y.Za,y),6e3));if(1>=fo(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ba(y,11)}else if((u.K||y.g==u)&&ri(y),!ot(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Ct=U[m];if(y.T=Ct[0],Ct=Ct[1],y.G==2)if(Ct[0]=="c"){y.K=Ct[1],y.ia=Ct[2];const Oe=Ct[3];Oe!=null&&(y.la=Oe,y.j.info("VER="+y.la));const je=Ct[4];je!=null&&(y.Aa=je,y.j.info("SVER="+y.Aa));const oi=Ct[5];oi!=null&&typeof oi=="number"&&0<oi&&(T=1.5*oi,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const hn=u.g;if(hn){const Wi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var H=T.h;H.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&($a(H,H.h),H.h=null))}if(T.D){const Ea=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.ya=Ea,Pt(T.I,T.D,Ea))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var at=u;if(T.qa=Ro(T,T.J?T.ia:null,T.W),at.K){In(T.h,at);var Kt=at,Te=T.L;Te&&(Kt.I=Te),Kt.B&&(Ns(Kt),Hn(Kt)),T.g=at}else xo(T);0<y.i.length&&zs(y)}else Ct[0]!="stop"&&Ct[0]!="close"||ba(y,7);else y.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?ba(y,7):Qr(y):Ct[0]!="noop"&&y.l&&y.l.ta(Ct),y.v=0)}}fa(4)}catch{}}var Sc=class{constructor(u,m){this.g=u,this.map=m}};function Lr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fo(u){return u.h?1:u.g?u.g.size:0}function Ja(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $a(u,m){u.g?u.g.add(m):u.h=m}function In(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Lr.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function wc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function Cs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=wc(u),T=mo(u),U=T.length,H=0;H<U;H++)m.call(void 0,T[H],y&&y[H],u)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var H=u[y].substring(0,T);U=u[y].substring(T+1)}else H=u[y];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ya(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ya){this.h=u.h,Wa(this,u.j),this.o=u.o,this.g=u.g,Fi(this,u.s),this.l=u.l;var m=u.i,y=new ea;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Is(this,y),this.m=u.m}else u&&(m=String(u).match(Br))?(this.h=!1,Wa(this,m[1]||"",!0),this.o=ti(m[2]||""),this.g=ti(m[3]||"",!0),Fi(this,m[4]),this.l=ti(m[5]||"",!0),Is(this,m[6]||"",!0),this.m=ti(m[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}ya.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Vn(m,qr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vn(m,qr,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Vn(y,y.charAt(0)=="/"?Pr:go,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Vn(y,Cc)),u.join("")};function ge(u){return new ya(u)}function Wa(u,m,y){u.j=y?ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Is(u,m,y){m instanceof ea?(u.i=m,po(u.i,u.h)):(y||(m=Vn(m,Nc)),u.i=new ea(m,u.h))}function Pt(u,m,y){u.i.set(m,y)}function Yi(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vn(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Rc),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qr=/[#\/\?@]/g,go=/[#\?:]/g,Pr=/[#\?]/g,Nc=/[#\?@]/g,Cc=/#/g;function ea(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Me(u){u.g||(u.g=new Map,u.h=0,u.i&&Ds(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ea.prototype,s.add=function(u,m){Me(this),this.i=null,u=_n(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Vs(u,m){Me(u),m=_n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ms(u,m){return Me(u),m=_n(u,m),u.g.has(m)}s.forEach=function(u,m){Me(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){Me(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let H=0;H<U.length;H++)y.push(m[T])}return y},s.V=function(u){Me(this);let m=[];if(typeof u=="string")Ms(this,u)&&(m=m.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},s.set=function(u,m){return Me(this),this.i=null,u=_n(this,u),Ms(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function va(u,m,y){Vs(u,m),0<y.length&&(u.i=null,u.g.set(_n(u,m),it(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const H=encodeURIComponent(String(T)),at=this.V(T);for(T=0;T<at.length;T++){var U=H;at[T]!==""&&(U+="="+encodeURIComponent(String(at[T]))),u.push(U)}}return this.i=u.join("&")};function _n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function po(u,m){m&&!u.j&&(Me(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(Vs(this,T),va(this,U,y))},u)),u.j=m}function Hr(u,m){const y=new Ka;if(p.Image){const T=new Image;T.onload=G(cn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=G(cn,y,"TestLoadImage: error",!1,m,T),T.onabort=G(cn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(cn,y,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function yo(u,m){const y=new Ka,T=new AbortController,U=setTimeout(()=>{T.abort(),cn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?cn(y,"TestPingServer: ok",!0,m):cn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),cn(y,"TestPingServer: error",!1,m)})}function cn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function Gn(){this.g=new Ac}function Gr(u,m,y){const T=y||"";try{Cs(u,function(U,H){let at=U;_(U)&&(at=Cn(U)),m.push(T+H+"="+encodeURIComponent(at))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function na(u){this.l=u.Ub||null,this.j=u.eb||!1}$(na,Vr),na.prototype.g=function(){return new bn(this.l,this.j)},na.prototype.i=(function(u){return function(){return u}})({});function bn(u,m){Ce.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(bn,Ce),s=bn.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Os(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Os(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?aa(this):ei(this),this.readyState==3&&Os(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,aa(this))},s.Qa=function(u){this.g&&(this.response=u,aa(this))},s.ga=function(){this.g&&aa(this)};function aa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ei(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ki(u){let m="";return q(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function ni(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Ki(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Pt(u,m,y))}function se(u){Ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(se,Ce);var Je=/^https?$/i,_a=["POST","PUT"];s=se.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?uo(this.o):uo($n),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Xi(this,H);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(_a,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of y)this.g.setRequestHeader(H,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Xi(this,H)}};function Xi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ai(u),ii(u)}function ai(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ve(this,"complete"),Ve(this,"abort"),ii(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),se.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},s.bb=function(){vo(this)};function vo(u){if(u.h&&typeof d<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)oo(u.Ea,0,u);else if(Ve(u,"readystatechange"),rn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=at===0){var U=String(u.D).match(Br)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),T=!Je.test(U?U.toLowerCase():"")}y=T}if(y)Ve(u,"complete"),Ve(u,"success");else{u.m=6;try{var H=2<rn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",ai(u)}}finally{ii(u)}}}}function ii(u,m){if(u.g){js(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ve(u,"ready");try{y.onreadystatechange=T}catch{}}}function js(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),nn(m)}};function Zi(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ot(u[T]))continue;var y=I(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}S(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function bo(u){this.Aa=0,this.i=[],this.j=new Ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,u),this.cb=Ji("retryDelaySeedMs",1e4,u),this.Wa=Ji("forwardChannelMaxRetries",2,u),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(u&&u.concurrentRequestLimit),this.Da=new Gn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=bo.prototype,s.la=8,s.G=1,s.connect=function(u,m,y,T){ke(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Ro(this,null,this.W),zs(this)};function Qr(u){if(Eo(u),u.G==3){var m=u.U++,y=ge(u.I);if(Pt(y,"SID",u.K),Pt(y,"RID",m),Pt(y,"TYPE","terminate"),$i(u,y),m=new Wn(u,u.j,m),m.L=2,m.v=Yi(ge(y)),y=!1,p.navigator&&p.navigator.sendBeacon)try{y=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&p.Image&&(new Image().src=m.v,y=!0),y||(m.g=No(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hn(m)}Xr(u)}function si(u){u.g&&(Kr(u),u.g.cancel(),u.g=null)}function Eo(u){si(u),u.u&&(p.clearTimeout(u.u),u.u=null),ri(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function zs(u){if(!kr(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||qt(),gt||(st(),gt=!0),Lt.add(m,u),u.B=0}}function Dc(u,m){return fo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ya(j(u.Ga,u,m),wo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Wn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=x(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Fr(this,U,m),y=ge(this.I),Pt(y,"RID",u),Pt(y,"CVER",22),this.D&&Pt(y,"X-HTTP-Session-Id",this.D),$i(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(Ki(H)))+"&"+m:this.m&&ni(y,this.m,H)),$a(this.h,U),this.Ua&&Pt(y,"TYPE","init"),this.P?(Pt(y,"$req",m),Pt(y,"SID","null"),U.T=!0,Gi(U,y,null)):Gi(U,y,m),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||kr(this.h)||To(this))};function To(u,m){var y;m?y=m.l:y=u.U++;const T=ge(u.I);Pt(T,"SID",u.K),Pt(T,"RID",y),Pt(T,"AID",u.T),$i(u,T),u.m&&u.o&&ni(T,u.m,u.o),y=new Wn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Fr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$a(u.h,y),Gi(y,T,m)}function $i(u,m){u.H&&q(u.H,function(y,T){Pt(m,T,y)}),u.l&&Cs({},function(y,T){Pt(m,T,y)})}function Fr(u,m,y){y=Math.min(u.i.length,y);var T=u.l?j(u.l.Na,u.l,u):null;t:{var U=u.i;let H=-1;for(;;){const at=["count="+y];H==-1?0<y?(H=U[0].g,at.push("ofs="+H)):H=0:at.push("ofs="+H);let Kt=!0;for(let Te=0;Te<y;Te++){let Ct=U[Te].g;const Oe=U[Te].map;if(Ct-=H,0>Ct)H=Math.max(0,U[Te].g-100),Kt=!1;else try{Gr(Oe,at,"req"+Ct+"_")}catch{T&&T(Oe)}}if(Kt){T=at.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function xo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||qt(),gt||(st(),gt=!0),Lt.add(m,u),u.v=0}}function Yr(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ya(j(u.Fa,u),wo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ya(j(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),si(this),Ao(this))};function Kr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ge(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),$i(u,m),u.m&&u.o&&ni(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Yi(ge(m)),y.m=null,y.P=!0,ga(y,u)}s.Za=function(){this.C!=null&&(this.C=null,si(this),Yr(this),ke(19))};function ri(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function So(u,m){var y=null;if(u.g==m){ri(u),Kr(u),u.g=null;var T=2}else if(Ja(u.h,m))y=m.D,In(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Rs(),Ve(T,new Or(T,y)),zs(u)}else xo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Dc(u,m)||T==2&&Yr(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:ba(u,5);break;case 4:ba(u,10);break;case 3:ba(u,6);break;default:ba(u,2)}}}function wo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function ba(u,m){if(u.j.info("Error code "+m),m==2){var y=j(u.fb,u),T=u.Xa;const U=!T;T=new ya(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Wa(T,"https"),Yi(T),U?Hr(T.toString(),y):yo(T.toString(),y)}else ke(2);u.G=0,u.l&&u.l.sa(m),Xr(u),Eo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Xr(u){if(u.G=0,u.ka=[],u.l){const m=sn(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ka,m),Q(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function Ro(u,m,y){var T=y instanceof ya?ge(y):new ya(y);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.s);else{var U=p.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new ya(null);T&&Wa(H,T),m&&(H.g=m),U&&Fi(H,U),y&&(H.l=y),T=H}return y=u.D,m=u.ya,y&&m&&Pt(T,y,m),Pt(T,"VER",u.la),$i(u,T),T}function No(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new se(new na({eb:y})):new se(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}s=Co.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Us(){}Us.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){Ce.call(this),this.g=new bo(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new li(this)}$(ln,Ce),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Qr(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Cn(u),u=y);m.i.push(new Sc(m.Ya++,u)),m.G==3&&zs(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Qr(this.g),delete this.g,ln.aa.N.call(this)};function Do(u){Ga.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Do,Ga);function Io(){Pn.call(this),this.status=1}$(Io,Pn);function li(u){this.g=u}$(li,Co),li.prototype.ua=function(){Ve(this.g,"a")},li.prototype.ta=function(u){Ve(this.g,new Do(u))},li.prototype.sa=function(u){Ve(this.g,new Io)},li.prototype.ra=function(){Ve(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Q0=function(){return new Us},G0=function(){return Rs()},H0=Dn,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,qu=me,Be.COMPLETE="complete",P0=Be,Hi.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ce.prototype.listen=Ce.prototype.K,Ol=Hi,se.prototype.listenOnce=se.prototype.L,se.prototype.getLastError=se.prototype.Ka,se.prototype.getLastErrorCode=se.prototype.Ba,se.prototype.getStatus=se.prototype.Z,se.prototype.getResponseJson=se.prototype.Oa,se.prototype.getResponseText=se.prototype.oa,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Ha,q0=se}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new O0("@firebase/firestore");function Ml(){return vs.logLevel}function dt(s,...n){if(vs.logLevel<=Bt.DEBUG){const a=n.map(yd);vs.debug(`Firestore (${Rr}): ${s}`,...a)}}function qa(s,...n){if(vs.logLevel<=Bt.ERROR){const a=n.map(yd);vs.error(`Firestore (${Rr}): ${s}`,...a)}}function yr(s,...n){if(vs.logLevel<=Bt.WARN){const a=n.map(yd);vs.warn(`Firestore (${Rr}): ${s}`,...a)}}function yd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(s="Unexpected state"){const n=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+s;throw qa(n),new Error(n)}function $t(s,n){s||bt()}function xt(s,n){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends wr{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class VE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(tn.UNAUTHENTICATED)))}shutdown(){}}class ME{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class OE{constructor(n){this.t=n,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){$t(this.o===void 0);let r=this.i;const o=v=>this.i!==r?(r=this.i,a(v)):Promise.resolve();let h=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Oi,n.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;n.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Oi)}}),0),d()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((r=>this.i!==n?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new F0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return $t(n===null||typeof n=="string"),new tn(n)}}class jE{constructor(n,a,r){this.l=n,this.h=a,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zE{constructor(n,a,r){this.l=n,this.h=a,this.P=r}getToken(){return Promise.resolve(new jE(this.l,this.h,this.P))}start(n,a){n.enqueueRetryable((()=>a(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UE{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LE{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,a){$t(this.o===void 0);const r=h=>{h.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,dt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>r(h)))};const o=h=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?($t(typeof a.token=="string"),this.R=a.token,new UE(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(s){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let r=0;r<s;r++)a[r]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/n.length)*n.length;let r="";for(;r.length<20;){const o=kE(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<a&&(r+=n.charAt(o[h]%n.length))}return r}}function Qt(s,n){return s<n?-1:s>n?1:0}function vr(s,n,a){return s.length===n.length&&s.every(((r,o)=>a(r,n[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<-62135596800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Ie.fromMillis(Date.now())}static fromDate(n){return Ie.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),r=Math.floor(1e6*(n-1e3*a));return new Ie(a,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Qt(this.nanoseconds,n.nanoseconds):Qt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const n=this.seconds- -62135596800;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Tt(n)}static min(){return new Tt(new Ie(0,0))}static max(){return new Tt(new Ie(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(n,a,r){a===void 0?a=0:a>n.length&&bt(),r===void 0?r=n.length-a:r>n.length-a&&bt(),this.segments=n,this.offset=a,this.len=r}get length(){return this.len}isEqual(n){return Gl.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Gl?n.forEach((r=>{a.push(r)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,r=this.limit();a<r;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const r=Math.min(n.length,a.length);for(let o=0;o<r;o++){const h=n.get(o),d=a.get(o);if(h<d)return-1;if(h>d)return 1}return n.length<a.length?-1:n.length>a.length?1:0}}class oe extends Gl{construct(n,a,r){return new oe(n,a,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const r of n){if(r.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);a.push(...r.split("/").filter((o=>o.length>0)))}return new oe(a)}static emptyPath(){return new oe([])}}const BE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Gl{construct(n,a,r){return new Ye(n,a,r)}static isValidIdentifier(n){return BE.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ye(["__name__"])}static fromServerFormat(n){const a=[];let r="",o=0;const h=()=>{if(r.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(r),r=""};let d=!1;for(;o<n.length;){const p=n[o];if(p==="\\"){if(o+1===n.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ye(a)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(n){this.path=n}static fromPath(n){return new yt(oe.fromString(n))}static fromName(n){return new yt(oe.fromString(n).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&oe.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return oe.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new yt(new oe(n.slice()))}}function qE(s,n){const a=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new Ie(a+1,0):new Ie(a,r));return new zi(o,yt.empty(),n)}function PE(s){return new zi(s.readTime,s.key,-1)}class zi{constructor(n,a,r){this.readTime=n,this.documentKey=a,this.largestBatchId=r}static min(){return new zi(Tt.min(),yt.empty(),-1)}static max(){return new zi(Tt.max(),yt.empty(),-1)}}function HE(s,n){let a=s.readTime.compareTo(n.readTime);return a!==0?a:(a=yt.comparator(s.documentKey,n.documentKey),a!==0?a:Qt(s.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==GE)throw s;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new tt(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(a,h).next(r,o)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof tt?a:tt.resolve(a)}catch(a){return tt.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):tt.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):tt.reject(a)}static resolve(n){return new tt(((a,r)=>{a(n)}))}static reject(n){return new tt(((a,r)=>{r(n)}))}static waitFor(n){return new tt(((a,r)=>{let o=0,h=0,d=!1;n.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&a()}),(v=>r(v)))})),d=!0,h===o&&a()}))}static or(n){let a=tt.resolve(!1);for(const r of n)a=a.next((o=>o?tt.resolve(o):r()));return a}static forEach(n,a){const r=[];return n.forEach(((o,h)=>{r.push(a.call(this,o,h))})),this.waitFor(r)}static mapArray(n,a){return new tt(((r,o)=>{const h=n.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;a(n[_]).next((A=>{d[_]=A,++p,p===h&&r(d)}),(A=>o(A)))}}))}static doWhile(n,a){return new tt(((r,o)=>{const h=()=>{n()===!0?a().next((()=>{h()}),o):r()};h()}))}}function FE(s){const n=s.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function Wl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=r=>this.ie(r),this.se=r=>a.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}vd.oe=-1;function rc(s){return s==null}function Zu(s){return s===0&&1/s==-1/0}function YE(s){return typeof s=="number"&&Number.isInteger(s)&&!Zu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s){let n=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n++;return n}function Es(s,n){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n(a,s[a])}function K0(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(n,a){this.comparator=n,this.root=a||Fe.EMPTY}insert(n,a){return new he(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(n){return new he(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const r=this.comparator(n,a.key);if(r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}indexOf(n){let a=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(n,r.key);if(o===0)return a+r.left.size;o<0?r=r.left:(a+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,r)=>(n(a,r),!1)))}toString(){const n=[];return this.inorderTraversal(((a,r)=>(n.push(`${a}:${r}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new zu(this.root,n,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new zu(this.root,n,this.comparator,!0)}}class zu{constructor(n,a,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=a?r(n.key,a):1,a&&o&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Fe{constructor(n,a,r,o,h){this.key=n,this.value=a,this.color=r??Fe.RED,this.left=o??Fe.EMPTY,this.right=h??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,r,o,h){return new Fe(n??this.key,a??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,r){let o=this;const h=r(n,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(n,a,r),null):h===0?o.copy(null,a,null,null,null):o.copy(null,null,null,null,o.right.insert(n,a,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let r,o=this;if(a(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,a),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),a(n,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,a))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const n=this.left.check();if(n!==this.right.check())throw bt();return n+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,a,r,o,h){return this}insert(n,a,r){return new Fe(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(n){this.comparator=n,this.data=new he(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,r)=>(n(a),!1)))}forEachInRange(n,a){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,n[1])>=0)return;a(o.key)}}forEachWhile(n,a){let r;for(r=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new By(this.data.getIterator())}getIteratorFrom(n){return new By(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((r=>{a=a.add(r)})),a}isEqual(n){if(!(n instanceof Ke)||this.size!==n.size)return!1;const a=this.data.getIterator(),r=n.data.getIterator();for(;a.hasNext();){const o=a.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new Ke(this.comparator);return a.data=n,a}}class By{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(n){this.fields=n,n.sort(Ye.comparator)}static empty(){return new Nn([])}unionWith(n){let a=new Ke(Ye.comparator);for(const r of this.fields)a=a.add(r);for(const r of n)a=a.add(r);return new Nn(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return vr(this.fields,n.fields,((a,r)=>a.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new X0("Invalid base64 string: "+h):h}})(n);return new Xe(a)}static fromUint8Array(n){const a=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(n);return new Xe(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const r=new Uint8Array(a.length);for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Qt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const KE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(s){if($t(!!s),typeof s=="string"){let n=0;const a=KE.exec(s);if($t(!!a),a[1]){let o=a[1];o=(o+"000000000").substr(0,9),n=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _s(s){return typeof s=="string"?Xe.fromBase64String(s):Xe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(s){var n,a;return((a=(((n=s==null?void 0:s.mapValue)===null||n===void 0?void 0:n.fields)||{}).__type__)===null||a===void 0?void 0:a.stringValue)==="server_timestamp"}function bd(s){const n=s.mapValue.fields.__previous_value__;return _d(n)?bd(n):n}function Ql(s){const n=Ui(s.mapValue.fields.__local_write_time__.timestampValue);return new Ie(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(n,a,r,o,h,d,p,v,_){this.databaseId=n,this.appId=a,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_}}class Fl{constructor(n,a){this.projectId=n,this.database=a||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(n){return n instanceof Fl&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{}};function bs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_d(s)?4:JE(s)?9007199254740991:ZE(s)?10:11:bt()}function ca(s,n){if(s===n)return!0;const a=bs(s);if(a!==bs(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return Ql(s).isEqual(Ql(n));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ui(o.timestampValue),p=Ui(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,n);case 5:return s.stringValue===n.stringValue;case 6:return(function(o,h){return _s(o.bytesValue).isEqual(_s(h.bytesValue))})(s,n);case 7:return s.referenceValue===n.referenceValue;case 8:return(function(o,h){return Ee(o.geoPointValue.latitude)===Ee(h.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(h.geoPointValue.longitude)})(s,n);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ee(o.integerValue)===Ee(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ee(o.doubleValue),p=Ee(h.doubleValue);return d===p?Zu(d)===Zu(p):isNaN(d)&&isNaN(p)}return!1})(s,n);case 9:return vr(s.arrayValue.values||[],n.arrayValue.values||[],ca);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(ky(d)!==ky(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ca(d[v],p[v])))return!1;return!0})(s,n);default:return bt()}}function Yl(s,n){return(s.values||[]).find((a=>ca(a,n)))!==void 0}function _r(s,n){if(s===n)return 0;const a=bs(s),r=bs(n);if(a!==r)return Qt(a,r);switch(a){case 0:case 9007199254740991:return 0;case 1:return Qt(s.booleanValue,n.booleanValue);case 2:return(function(h,d){const p=Ee(h.integerValue||h.doubleValue),v=Ee(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,n);case 3:return qy(s.timestampValue,n.timestampValue);case 4:return qy(Ql(s),Ql(n));case 5:return Qt(s.stringValue,n.stringValue);case 6:return(function(h,d){const p=_s(h),v=_s(d);return p.compareTo(v)})(s.bytesValue,n.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Qt(p[_],v[_]);if(A!==0)return A}return Qt(p.length,v.length)})(s.referenceValue,n.referenceValue);case 8:return(function(h,d){const p=Qt(Ee(h.latitude),Ee(d.latitude));return p!==0?p:Qt(Ee(h.longitude),Ee(d.longitude))})(s.geoPointValue,n.geoPointValue);case 9:return Py(s.arrayValue,n.arrayValue);case 10:return(function(h,d){var p,v,_,A;const D=h.fields||{},j=d.fields||{},G=(p=D.value)===null||p===void 0?void 0:p.arrayValue,$=(v=j.value)===null||v===void 0?void 0:v.arrayValue,it=Qt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Py(G,$)})(s.mapValue,n.mapValue);case 11:return(function(h,d){if(h===Uu.mapValue&&d===Uu.mapValue)return 0;if(h===Uu.mapValue)return 1;if(d===Uu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let D=0;D<v.length&&D<A.length;++D){const j=Qt(v[D],A[D]);if(j!==0)return j;const G=_r(p[v[D]],_[A[D]]);if(G!==0)return G}return Qt(v.length,A.length)})(s.mapValue,n.mapValue);default:throw bt()}}function qy(s,n){if(typeof s=="string"&&typeof n=="string"&&s.length===n.length)return Qt(s,n);const a=Ui(s),r=Ui(n),o=Qt(a.seconds,r.seconds);return o!==0?o:Qt(a.nanos,r.nanos)}function Py(s,n){const a=s.values||[],r=n.values||[];for(let o=0;o<a.length&&o<r.length;++o){const h=_r(a[o],r[o]);if(h)return h}return Qt(a.length,r.length)}function br(s){return Xf(s)}function Xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(a){const r=Ui(a);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(a){return _s(a).toBase64()})(s.bytesValue):"referenceValue"in s?(function(a){return yt.fromName(a).toString()})(s.referenceValue):"geoPointValue"in s?(function(a){return`geo(${a.latitude},${a.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(a){let r="[",o=!0;for(const h of a.values||[])o?o=!1:r+=",",r+=Xf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(a){const r=Object.keys(a.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Xf(a.fields[d])}`;return o+"}"})(s.mapValue):bt()}function Hy(s,n){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`}}function Zf(s){return!!s&&"integerValue"in s}function Ed(s){return!!s&&"arrayValue"in s}function Gy(s){return!!s&&"nullValue"in s}function Qy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pu(s){return!!s&&"mapValue"in s}function ZE(s){var n,a;return((a=(((n=s==null?void 0:s.mapValue)===null||n===void 0?void 0:n.fields)||{}).__type__)===null||a===void 0?void 0:a.stringValue)==="__vector__"}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const n={mapValue:{fields:{}}};return Es(s.mapValue.fields,((a,r)=>n.mapValue.fields[a]=Ll(r))),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Ll(s.arrayValue.values[a]);return n}return Object.assign({},s)}function JE(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(n){this.value=n}static empty(){return new yn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let r=0;r<n.length-1;++r)if(a=(a.mapValue.fields||{})[n.get(r)],!Pu(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Ll(a)}setAll(n){let a=Ye.emptyPath(),r={},o=[];n.forEach(((d,p)=>{if(!a.isImmediateParentOf(p)){const v=this.getFieldsMap(a);this.applyChanges(v,r,o),r={},o=[],a=p.popLast()}d?r[p.lastSegment()]=Ll(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(a);this.applyChanges(h,r,o)}delete(n){const a=this.field(n.popLast());Pu(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return ca(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let r=0;r<n.length;++r){let o=a.mapValue.fields[n.get(r)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},a.mapValue.fields[n.get(r)]=o),a=o}return a.mapValue.fields}applyChanges(n,a,r){Es(a,((o,h)=>n[o]=h));for(const o of r)delete n[o]}clone(){return new yn(Ll(this.value))}}function Z0(s){const n=[];return Es(s.fields,((a,r)=>{const o=new Ye([a]);if(Pu(r)){const h=Z0(r.mapValue).fields;if(h.length===0)n.push(o);else for(const d of h)n.push(o.child(d))}else n.push(o)})),new Nn(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(n,a,r,o,h,d,p){this.key=n,this.documentType=a,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(n){return new en(n,0,Tt.min(),Tt.min(),Tt.min(),yn.empty(),0)}static newFoundDocument(n,a,r,o){return new en(n,1,a,Tt.min(),r,o,0)}static newNoDocument(n,a){return new en(n,2,a,Tt.min(),Tt.min(),yn.empty(),0)}static newUnknownDocument(n,a){return new en(n,3,a,Tt.min(),Tt.min(),yn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof en&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(n,a){this.position=n,this.inclusive=a}}function Fy(s,n,a){let r=0;for(let o=0;o<s.position.length;o++){const h=n[o],d=s.position[o];if(h.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),a.key):r=_r(d,a.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yy(s,n){if(s===null)return n===null;if(n===null||s.inclusive!==n.inclusive||s.position.length!==n.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!ca(s.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(n,a="asc"){this.field=n,this.dir=a}}function $E(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{}class Ne extends J0{constructor(n,a,r){super(),this.field=n,this.op=a,this.value=r}static create(n,a,r){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,r):new tT(n,a,r):a==="array-contains"?new aT(n,r):a==="in"?new iT(n,r):a==="not-in"?new sT(n,r):a==="array-contains-any"?new rT(n,r):new Ne(n,a,r)}static createKeyFieldInFilter(n,a,r){return a==="in"?new eT(n,r):new nT(n,r)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&this.matchesComparison(_r(a,this.value)):a!==null&&bs(this.value)===bs(a)&&this.matchesComparison(_r(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends J0{constructor(n,a){super(),this.filters=n,this.op=a,this.ae=null}static create(n,a){return new Xn(n,a)}matches(n){return $0(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $0(s){return s.op==="and"}function W0(s){return WE(s)&&$0(s)}function WE(s){for(const n of s.filters)if(n instanceof Xn)return!1;return!0}function Jf(s){if(s instanceof Ne)return s.field.canonicalString()+s.op.toString()+br(s.value);if(W0(s))return s.filters.map((n=>Jf(n))).join(",");{const n=s.filters.map((a=>Jf(a))).join(",");return`${s.op}(${n})`}}function tv(s,n){return s instanceof Ne?(function(r,o){return o instanceof Ne&&r.op===o.op&&r.field.isEqual(o.field)&&ca(r.value,o.value)})(s,n):s instanceof Xn?(function(r,o){return o instanceof Xn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&tv(d,o.filters[p])),!0):!1})(s,n):void bt()}function ev(s){return s instanceof Ne?(function(a){return`${a.field.canonicalString()} ${a.op} ${br(a.value)}`})(s):s instanceof Xn?(function(a){return a.op.toString()+" {"+a.getFilters().map(ev).join(" ,")+"}"})(s):"Filter"}class tT extends Ne{constructor(n,a,r){super(n,a,r),this.key=yt.fromName(r.referenceValue)}matches(n){const a=yt.comparator(n.key,this.key);return this.matchesComparison(a)}}class eT extends Ne{constructor(n,a){super(n,"in",a),this.keys=nv("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class nT extends Ne{constructor(n,a){super(n,"not-in",a),this.keys=nv("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function nv(s,n){var a;return(((a=n.arrayValue)===null||a===void 0?void 0:a.values)||[]).map((r=>yt.fromName(r.referenceValue)))}class aT extends Ne{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return Ed(a)&&Yl(a.arrayValue,this.value)}}class iT extends Ne{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Yl(this.value.arrayValue,a)}}class sT extends Ne{constructor(n,a){super(n,"not-in",a)}matches(n){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&!Yl(this.value.arrayValue,a)}}class rT extends Ne{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!Ed(a)||!a.arrayValue.values)&&a.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(n,a=null,r=[],o=[],h=null,d=null,p=null){this.path=n,this.collectionGroup=a,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.ue=null}}function Ky(s,n=null,a=[],r=[],o=null,h=null,d=null){return new lT(s,n,a,r,o,h,d)}function Td(s){const n=xt(s);if(n.ue===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((r=>Jf(r))).join(","),a+="|ob:",a+=n.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),rc(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((r=>br(r))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((r=>br(r))).join(",")),n.ue=a}return n.ue}function xd(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!$E(s.orderBy[a],n.orderBy[a]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if(!tv(s.filters[a],n.filters[a]))return!1;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!Yy(s.startAt,n.startAt)&&Yy(s.endAt,n.endAt)}function $f(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(n,a=null,r=[],o=[],h=null,d="F",p=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oT(s,n,a,r,o,h,d,p){return new to(s,n,a,r,o,h,d,p)}function Ad(s){return new to(s)}function Xy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function av(s){return s.collectionGroup!==null}function kl(s){const n=xt(s);if(n.ce===null){n.ce=[];const a=new Set;for(const h of n.explicitOrderBy)n.ce.push(h),a.add(h.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ke(Ye.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(n).forEach((h=>{a.has(h.canonicalString())||h.isKeyField()||n.ce.push(new $u(h,r))})),a.has(Ye.keyField().canonicalString())||n.ce.push(new $u(Ye.keyField(),r))}return n.ce}function oa(s){const n=xt(s);return n.le||(n.le=uT(n,kl(s))),n.le}function uT(s,n){if(s.limitType==="F")return Ky(s.path,s.collectionGroup,n,s.filters,s.limit,s.startAt,s.endAt);{n=n.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new $u(o.field,h)}));const a=s.endAt?new Ju(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ju(s.startAt.position,s.startAt.inclusive):null;return Ky(s.path,s.collectionGroup,n,s.filters,s.limit,a,r)}}function Wf(s,n){const a=s.filters.concat([n]);return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),a,s.limit,s.limitType,s.startAt,s.endAt)}function td(s,n,a){return new to(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,a,s.startAt,s.endAt)}function lc(s,n){return xd(oa(s),oa(n))&&s.limitType===n.limitType}function iv(s){return`${Td(oa(s))}|lt:${s.limitType}`}function fr(s){return`Query(target=${(function(a){let r=a.path.canonicalString();return a.collectionGroup!==null&&(r+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(r+=`, filters: [${a.filters.map((o=>ev(o))).join(", ")}]`),rc(a.limit)||(r+=", limit: "+a.limit),a.orderBy.length>0&&(r+=`, orderBy: [${a.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),a.startAt&&(r+=", startAt: ",r+=a.startAt.inclusive?"b:":"a:",r+=a.startAt.position.map((o=>br(o))).join(",")),a.endAt&&(r+=", endAt: ",r+=a.endAt.inclusive?"a:":"b:",r+=a.endAt.position.map((o=>br(o))).join(",")),`Target(${r})`})(oa(s))}; limitType=${s.limitType})`}function oc(s,n){return n.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):yt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,n)&&(function(r,o){for(const h of kl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,n)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,n)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=Fy(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,kl(r),o)||r.endAt&&!(function(d,p,v){const _=Fy(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,kl(r),o))})(s,n)}function cT(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function sv(s){return(n,a)=>{let r=!1;for(const o of kl(s)){const h=hT(o,n,a);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function hT(s,n,a){const r=s.field.isKeyField()?yt.comparator(n.key,a.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?_r(v,_):bt()})(s.field,n,a);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,n))return h}}has(n){return this.get(n)!==void 0}set(n,a){const r=this.mapKeyFn(n),o=this.inner[r];if(o===void 0)return this.inner[r]=[[n,a]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],n))return void(o[h]=[n,a]);o.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),r=this.inner[a];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],n))return r.length===1?delete this.inner[a]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(n){Es(this.inner,((a,r)=>{for(const[o,h]of r)n(o,h)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new he(yt.comparator);function Pa(){return fT}const rv=new he(yt.comparator);function jl(...s){let n=rv;for(const a of s)n=n.insert(a.key,a);return n}function lv(s){let n=rv;return s.forEach(((a,r)=>n=n.insert(a,r.overlayedDocument))),n}function ps(){return Bl()}function ov(){return Bl()}function Bl(){return new Nr((s=>s.toString()),((s,n)=>s.isEqual(n)))}const dT=new he(yt.comparator),mT=new Ke(yt.comparator);function jt(...s){let n=mT;for(const a of s)n=n.add(a);return n}const gT=new Ke(Qt);function pT(){return gT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(s,n){if(s.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(n)?"-0":n}}function uv(s){return{integerValue:""+s}}function yT(s,n){return YE(n)?uv(n):Sd(s,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this._=void 0}}function vT(s,n,a){return s instanceof Wu?(function(o,h){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&_d(h)&&(h=bd(h)),h&&(d.fields.__previous_value__=h),{mapValue:d}})(a,n):s instanceof Kl?hv(s,n):s instanceof Xl?fv(s,n):(function(o,h){const d=cv(o,h),p=Zy(d)+Zy(o.Pe);return Zf(d)&&Zf(o.Pe)?uv(p):Sd(o.serializer,p)})(s,n)}function _T(s,n,a){return s instanceof Kl?hv(s,n):s instanceof Xl?fv(s,n):a}function cv(s,n){return s instanceof tc?(function(r){return Zf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(n)?n:{integerValue:0}:null}class Wu extends uc{}class Kl extends uc{constructor(n){super(),this.elements=n}}function hv(s,n){const a=dv(n);for(const r of s.elements)a.some((o=>ca(o,r)))||a.push(r);return{arrayValue:{values:a}}}class Xl extends uc{constructor(n){super(),this.elements=n}}function fv(s,n){let a=dv(n);for(const r of s.elements)a=a.filter((o=>!ca(o,r)));return{arrayValue:{values:a}}}class tc extends uc{constructor(n,a){super(),this.serializer=n,this.Pe=a}}function Zy(s){return Ee(s.integerValue||s.doubleValue)}function dv(s){return Ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function bT(s,n){return s.field.isEqual(n.field)&&(function(r,o){return r instanceof Kl&&o instanceof Kl||r instanceof Xl&&o instanceof Xl?vr(r.elements,o.elements,ca):r instanceof tc&&o instanceof tc?ca(r.Pe,o.Pe):r instanceof Wu&&o instanceof Wu})(s.transform,n.transform)}class ET{constructor(n,a){this.version=n,this.transformResults=a}}class qn{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new qn}static exists(n){return new qn(void 0,n)}static updateTime(n){return new qn(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Hu(s,n){return s.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(s.updateTime):s.exists===void 0||s.exists===n.isFoundDocument()}class cc{}function mv(s,n){if(!s.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return s.isNoDocument()?new wd(s.key,qn.none()):new eo(s.key,s.data,qn.none());{const a=s.data,r=yn.empty();let o=new Ke(Ye.comparator);for(let h of n.fields)if(!o.has(h)){let d=a.field(h);d===null&&h.length>1&&(h=h.popLast(),d=a.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new ki(s.key,r,new Nn(o.toArray()),qn.none())}}function TT(s,n,a){s instanceof eo?(function(o,h,d){const p=o.value.clone(),v=$y(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,n,a):s instanceof ki?(function(o,h,d){if(!Hu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=$y(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(gv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,n,a):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,a)}function ql(s,n,a,r){return s instanceof eo?(function(h,d,p,v){if(!Hu(h.precondition,d))return p;const _=h.value.clone(),A=Wy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,n,a,r):s instanceof ki?(function(h,d,p,v){if(!Hu(h.precondition,d))return p;const _=Wy(h.fieldTransforms,v,d),A=d.data;return A.setAll(gv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(s,n,a,r):(function(h,d,p){return Hu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,n,a)}function xT(s,n){let a=null;for(const r of s.fieldTransforms){const o=n.data.field(r.field),h=cv(r.transform,o||null);h!=null&&(a===null&&(a=yn.empty()),a.set(r.field,h))}return a||null}function Jy(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&vr(r,o,((h,d)=>bT(h,d)))})(s.fieldTransforms,n.fieldTransforms)&&(s.type===0?s.value.isEqual(n.value):s.type!==1||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask))}class eo extends cc{constructor(n,a,r,o=[]){super(),this.key=n,this.value=a,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ki extends cc{constructor(n,a,r,o,h=[]){super(),this.key=n,this.data=a,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function gv(s){const n=new Map;return s.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const r=s.data.field(a);n.set(a,r)}})),n}function $y(s,n,a){const r=new Map;$t(s.length===a.length);for(let o=0;o<a.length;o++){const h=s[o],d=h.transform,p=n.data.field(h.field);r.set(h.field,_T(d,p,a[o]))}return r}function Wy(s,n,a){const r=new Map;for(const o of s){const h=o.transform,d=a.data.field(o.field);r.set(o.field,vT(h,d,n))}return r}class wd extends cc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AT extends cc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(n,a,r,o){this.batchId=n,this.localWriteTime=a,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(n,a){const r=a.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(n.key)&&TT(h,n,r[o])}}applyToLocalView(n,a){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(a=ql(r,n,a,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(a=ql(r,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const r=ov();return this.mutations.forEach((o=>{const h=n.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=a.has(o.key)?null:p;const v=mv(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),jt())}isEqual(n){return this.batchId===n.batchId&&vr(this.mutations,n.mutations,((a,r)=>Jy(a,r)))&&vr(this.baseMutations,n.baseMutations,((a,r)=>Jy(a,r)))}}class Rd{constructor(n,a,r,o){this.batch=n,this.commitVersion=a,this.mutationResults=r,this.docVersions=o}static from(n,a,r){$t(n.mutations.length===r.length);let o=(function(){return dT})();const h=n.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Rd(n,a,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(n,a){this.count=n,this.unchangedNames=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,kt;function NT(s){switch(s){default:return bt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function pv(s){if(s===void 0)return qa("GRPC error has no .code"),J.UNKNOWN;switch(s){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return bt()}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new ys([4294967295,4294967295],0);function t0(s){const n=CT().encode(s),a=new B0;return a.update(n),new Uint8Array(a.digest())}function e0(s){const n=new DataView(s.buffer),a=n.getUint32(0,!0),r=n.getUint32(4,!0),o=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new ys([a,r],0),new ys([o,h],0)]}class Nd{constructor(n,a,r){if(this.bitmap=n,this.padding=a,this.hashCount=r,a<0||a>=8)throw new zl(`Invalid padding: ${a}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(n.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(n.length===0&&a!==0)throw new zl(`Invalid padding when bitmap length is 0: ${a}`);this.Ie=8*n.length-a,this.Te=ys.fromNumber(this.Ie)}Ee(n,a,r){let o=n.add(a.multiply(ys.fromNumber(r)));return o.compare(DT)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(n){return(this.bitmap[Math.floor(n/8)]&1<<n%8)!=0}mightContain(n){if(this.Ie===0)return!1;const a=t0(n),[r,o]=e0(a);for(let h=0;h<this.hashCount;h++){const d=this.Ee(r,o,h);if(!this.de(d))return!1}return!0}static create(n,a,r){const o=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),d=new Nd(h,o,a);return r.forEach((p=>d.insert(p))),d}insert(n){if(this.Ie===0)return;const a=t0(n),[r,o]=e0(a);for(let h=0;h<this.hashCount;h++){const d=this.Ee(r,o,h);this.Ae(d)}}Ae(n){const a=Math.floor(n/8),r=n%8;this.bitmap[a]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(n,a,r,o,h){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,a,r){const o=new Map;return o.set(n,no.createSynthesizedTargetChangeForCurrentChange(n,a,r)),new hc(Tt.min(),o,new he(Qt),Pa(),jt())}}class no{constructor(n,a,r,o,h){this.resumeToken=n,this.current=a,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,a,r){return new no(r,a,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(n,a,r,o){this.Re=n,this.removedTargetIds=a,this.key=r,this.Ve=o}}class yv{constructor(n,a){this.targetId=n,this.me=a}}class vv{constructor(n,a,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=a,this.resumeToken=r,this.cause=o}}class n0{constructor(){this.fe=0,this.ge=i0(),this.pe=Xe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=jt(),a=jt(),r=jt();return this.ge.forEach(((o,h)=>{switch(h){case 0:n=n.add(o);break;case 2:a=a.add(o);break;case 1:r=r.add(o);break;default:bt()}})),new no(this.pe,this.ye,n,a,r)}Ce(){this.we=!1,this.ge=i0()}Fe(n,a){this.we=!0,this.ge=this.ge.insert(n,a)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IT{constructor(n){this.Le=n,this.Be=new Map,this.ke=Pa(),this.qe=a0(),this.Qe=new he(Qt)}Ke(n){for(const a of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(a,n.Ve):this.Ue(a,n.key,n.Ve);for(const a of n.removedTargetIds)this.Ue(a,n.key,n.Ve)}We(n){this.forEachTarget(n,(a=>{const r=this.Ge(a);switch(n.state){case 0:this.ze(a)&&r.De(n.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(n.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(a);break;case 3:this.ze(a)&&(r.Ne(),r.De(n.resumeToken));break;case 4:this.ze(a)&&(this.je(a),r.De(n.resumeToken));break;default:bt()}}))}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.Be.forEach(((r,o)=>{this.ze(o)&&a(o)}))}He(n){const a=n.targetId,r=n.me.count,o=this.Je(a);if(o){const h=o.target;if($f(h))if(r===0){const d=new yt(h.path);this.Ue(a,d,en.newNoDocument(d,Tt.min()))}else $t(r===1);else{const d=this.Ye(a);if(d!==r){const p=this.Ze(n),v=p?this.Xe(p,n,d):1;if(v!==0){this.je(a);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(a,_)}}}}}Ze(n){const a=n.me.unchangedNames;if(!a||!a.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=a;let d,p;try{d=_s(r).toUint8Array()}catch(v){if(v instanceof X0)return yr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Nd(d,o,h)}catch(v){return yr(v instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.Ie===0?null:p}Xe(n,a,r){return a.me.count===r-this.nt(n,a.targetId)?0:2}nt(n,a){const r=this.Le.getRemoteKeysForTarget(a);let o=0;return r.forEach((h=>{const d=this.Le.tt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;n.mightContain(p)||(this.Ue(a,h,null),o++)})),o}rt(n){const a=new Map;this.Be.forEach(((h,d)=>{const p=this.Je(d);if(p){if(h.current&&$f(p.target)){const v=new yt(p.target.path);this.ke.get(v)!==null||this.it(d,v)||this.Ue(d,v,en.newNoDocument(v,n))}h.be&&(a.set(d,h.ve()),h.Ce())}}));let r=jt();this.qe.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.Je(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.ke.forEach(((h,d)=>d.setReadTime(n)));const o=new hc(n,a,this.Qe,this.ke,r);return this.ke=Pa(),this.qe=a0(),this.Qe=new he(Qt),o}$e(n,a){if(!this.ze(n))return;const r=this.it(n,a.key)?2:0;this.Ge(n).Fe(a.key,r),this.ke=this.ke.insert(a.key,a),this.qe=this.qe.insert(a.key,this.st(a.key).add(n))}Ue(n,a,r){if(!this.ze(n))return;const o=this.Ge(n);this.it(n,a)?o.Fe(a,1):o.Me(a),this.qe=this.qe.insert(a,this.st(a).delete(n)),r&&(this.ke=this.ke.insert(a,r))}removeTarget(n){this.Be.delete(n)}Ye(n){const a=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let a=this.Be.get(n);return a||(a=new n0,this.Be.set(n,a)),a}st(n){let a=this.qe.get(n);return a||(a=new Ke(Qt),this.qe=this.qe.insert(n,a)),a}ze(n){const a=this.Je(n)!==null;return a||dt("WatchChangeAggregator","Detected inactive target",n),a}Je(n){const a=this.Be.get(n);return a&&a.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new n0),this.Le.getRemoteKeysForTarget(n).forEach((a=>{this.Ue(n,a,null)}))}it(n,a){return this.Le.getRemoteKeysForTarget(n).has(a)}}function a0(){return new he(yt.comparator)}function i0(){return new he(yt.comparator)}const VT={asc:"ASCENDING",desc:"DESCENDING"},MT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OT={and:"AND",or:"OR"};class jT{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function ed(s,n){return s.useProto3Json||rc(n)?n:{value:n}}function ec(s,n){return s.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function _v(s,n){return s.useProto3Json?n.toBase64():n.toUint8Array()}function zT(s,n){return ec(s,n.toTimestamp())}function ua(s){return $t(!!s),Tt.fromTimestamp((function(a){const r=Ui(a);return new Ie(r.seconds,r.nanos)})(s))}function Cd(s,n){return nd(s,n).canonicalString()}function nd(s,n){const a=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(s).child("documents");return n===void 0?a:a.child(n)}function bv(s){const n=oe.fromString(s);return $t(Sv(n)),n}function ad(s,n){return Cd(s.databaseId,n.path)}function jf(s,n){const a=bv(n);if(a.get(1)!==s.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+s.databaseId.projectId);if(a.get(3)!==s.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+s.databaseId.database);return new yt(Tv(a))}function Ev(s,n){return Cd(s.databaseId,n)}function UT(s){const n=bv(s);return n.length===4?oe.emptyPath():Tv(n)}function id(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Tv(s){return $t(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function s0(s,n,a){return{name:ad(s,n),fields:a.value.mapValue.fields}}function LT(s,n){let a;if("targetChange"in n){n.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt()})(n.targetChange.targetChangeType||"NO_CHANGE"),o=n.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?($t(A===void 0||typeof A=="string"),Xe.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Xe.fromUint8Array(A||new Uint8Array))})(s,n.targetChange.resumeToken),d=n.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:pv(_.code);return new ht(A,_.message||"")})(d);a=new vv(r,o,h,p||null)}else if("documentChange"in n){n.documentChange;const r=n.documentChange;r.document,r.document.name,r.document.updateTime;const o=jf(s,r.document.name),h=ua(r.document.updateTime),d=r.document.createTime?ua(r.document.createTime):Tt.min(),p=new yn({mapValue:{fields:r.document.fields}}),v=en.newFoundDocument(o,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];a=new Gu(_,A,v.key,v)}else if("documentDelete"in n){n.documentDelete;const r=n.documentDelete;r.document;const o=jf(s,r.document),h=r.readTime?ua(r.readTime):Tt.min(),d=en.newNoDocument(o,h),p=r.removedTargetIds||[];a=new Gu([],p,d.key,d)}else if("documentRemove"in n){n.documentRemove;const r=n.documentRemove;r.document;const o=jf(s,r.document),h=r.removedTargetIds||[];a=new Gu([],h,o,null)}else{if(!("filter"in n))return bt();{n.filter;const r=n.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new RT(o,h),p=r.targetId;a=new yv(p,d)}}return a}function kT(s,n){let a;if(n instanceof eo)a={update:s0(s,n.key,n.value)};else if(n instanceof wd)a={delete:ad(s,n.key)};else if(n instanceof ki)a={update:s0(s,n.key,n.data),updateMask:KT(n.fieldMask)};else{if(!(n instanceof AT))return bt();a={verify:ad(s,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof Wu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof tc)return{fieldPath:d.field.canonicalString(),increment:p.Pe};throw bt()})(0,r)))),n.precondition.isNone||(a.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:zT(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt()})(s,n.precondition)),a}function BT(s,n){return s&&s.length>0?($t(n!==void 0),s.map((a=>(function(o,h){let d=o.updateTime?ua(o.updateTime):ua(h);return d.isEqual(Tt.min())&&(d=ua(h)),new ET(d,o.transformResults||[])})(a,n)))):[]}function qT(s,n){return{documents:[Ev(s,n.path)]}}function PT(s,n){const a={structuredQuery:{}},r=n.path;let o;n.collectionGroup!==null?(o=r,a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o=r.popLast(),a.structuredQuery.from=[{collectionId:r.lastSegment()}]),a.parent=Ev(s,o);const h=(function(_){if(_.length!==0)return Av(Xn.create(_,"and"))})(n.filters);h&&(a.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(j){return{field:dr(j.field),direction:QT(j.dir)}})(A)))})(n.orderBy);d&&(a.structuredQuery.orderBy=d);const p=ed(s,n.limit);return p!==null&&(a.structuredQuery.limit=p),n.startAt&&(a.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(n.startAt)),n.endAt&&(a.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(n.endAt)),{_t:a,parent:o}}function HT(s){let n=UT(s.parent);const a=s.structuredQuery,r=a.from?a.from.length:0;let o=null;if(r>0){$t(r===1);const A=a.from[0];A.allDescendants?o=A.collectionId:n=n.child(A.collectionId)}let h=[];a.where&&(h=(function(D){const j=xv(D);return j instanceof Xn&&W0(j)?j.getFilters():[j]})(a.where));let d=[];a.orderBy&&(d=(function(D){return D.map((j=>(function($){return new $u(mr($.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(j)))})(a.orderBy));let p=null;a.limit&&(p=(function(D){let j;return j=typeof D=="object"?D.value:D,rc(j)?null:j})(a.limit));let v=null;a.startAt&&(v=(function(D){const j=!!D.before,G=D.values||[];return new Ju(G,j)})(a.startAt));let _=null;return a.endAt&&(_=(function(D){const j=!D.before,G=D.values||[];return new Ju(G,j)})(a.endAt)),oT(n,o,d,h,p,"F",v,_)}function GT(s,n){const a=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}})(n.purpose);return a==null?null:{"goog-listen-tags":a}}function xv(s){return s.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const r=mr(a.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mr(a.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=mr(a.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mr(a.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});default:return bt()}})(s):s.fieldFilter!==void 0?(function(a){return Ne.create(mr(a.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}})(a.fieldFilter.op),a.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(a){return Xn.create(a.compositeFilter.filters.map((r=>xv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt()}})(a.compositeFilter.op))})(s):bt()}function QT(s){return VT[s]}function FT(s){return MT[s]}function YT(s){return OT[s]}function dr(s){return{fieldPath:s.canonicalString()}}function mr(s){return Ye.fromServerFormat(s.fieldPath)}function Av(s){return s instanceof Ne?(function(a){if(a.op==="=="){if(Qy(a.value))return{unaryFilter:{field:dr(a.field),op:"IS_NAN"}};if(Gy(a.value))return{unaryFilter:{field:dr(a.field),op:"IS_NULL"}}}else if(a.op==="!="){if(Qy(a.value))return{unaryFilter:{field:dr(a.field),op:"IS_NOT_NAN"}};if(Gy(a.value))return{unaryFilter:{field:dr(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(a.field),op:FT(a.op),value:a.value}}})(s):s instanceof Xn?(function(a){const r=a.getFilters().map((o=>Av(o)));return r.length===1?r[0]:{compositeFilter:{op:YT(a.op),filters:r}}})(s):bt()}function KT(s){const n=[];return s.fields.forEach((a=>n.push(a.canonicalString()))),{fieldPaths:n}}function Sv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(n,a,r,o,h=Tt.min(),d=Tt.min(),p=Xe.EMPTY_BYTE_STRING,v=null){this.target=n,this.targetId=a,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(n){return new Ii(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,a){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(n){this.ct=n}}function ZT(s){const n=HT({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?td(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.un=new $T}addToCollectionParentIndex(n,a){return this.un.add(a),tt.resolve()}getCollectionParents(n,a){return tt.resolve(this.un.getEntries(a))}addFieldIndex(n,a){return tt.resolve()}deleteFieldIndex(n,a){return tt.resolve()}deleteAllFieldIndexes(n){return tt.resolve()}createTargetIndexes(n,a){return tt.resolve()}getDocumentsMatchingTarget(n,a){return tt.resolve(null)}getIndexType(n,a){return tt.resolve(0)}getFieldIndexes(n,a){return tt.resolve([])}getNextCollectionGroupToUpdate(n){return tt.resolve(null)}getMinOffset(n,a){return tt.resolve(zi.min())}getMinOffsetFromCollectionGroup(n,a){return tt.resolve(zi.min())}updateCollectionGroup(n,a,r){return tt.resolve()}updateIndexEntries(n,a){return tt.resolve()}}class $T{constructor(){this.index={}}add(n){const a=n.lastSegment(),r=n.popLast(),o=this.index[a]||new Ke(oe.comparator),h=!o.has(r);return this.index[a]=o.add(r),h}has(n){const a=n.lastSegment(),r=n.popLast(),o=this.index[a];return o&&o.has(r)}getEntries(n){return(this.index[n]||new Ke(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Er(0)}static kn(){return new Er(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.changes=new Nr((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,en.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const r=this.changes.get(a);return r!==void 0?tt.resolve(r):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(n,a,r,o){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=r,this.indexManager=o}getDocument(n,a){let r=null;return this.documentOverlayCache.getOverlay(n,a).next((o=>(r=o,this.remoteDocumentCache.getEntry(n,a)))).next((o=>(r!==null&&ql(r.mutation,o,Nn.empty(),Ie.now()),o)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((r=>this.getLocalViewOfDocuments(n,r,jt()).next((()=>r))))}getLocalViewOfDocuments(n,a,r=jt()){const o=ps();return this.populateOverlays(n,o,a).next((()=>this.computeViews(n,a,o,r).next((h=>{let d=jl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(n,a){const r=ps();return this.populateOverlays(n,r,a).next((()=>this.computeViews(n,a,r,jt())))}populateOverlays(n,a,r){const o=[];return r.forEach((h=>{a.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(n,o).next((h=>{h.forEach(((d,p)=>{a.set(d,p)}))}))}computeViews(n,a,r,o){let h=Pa();const d=Bl(),p=(function(){return Bl()})();return a.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ki)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ql(A.mutation,_,A.mutation.getFieldMask(),Ie.now())):d.set(_.key,Nn.empty())})),this.recalculateAndSaveOverlays(n,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),a.forEach(((_,A)=>{var D;return p.set(_,new t2(A,(D=d.get(_))!==null&&D!==void 0?D:null))})),p)))}recalculateAndSaveOverlays(n,a){const r=Bl();let o=new he(((d,p)=>d-p)),h=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let A=r.get(v)||Nn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const D=(o.get(p.batchId)||jt()).add(v);o=o.insert(p.batchId,D)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,D=ov();A.forEach((j=>{if(!h.has(j)){const G=mv(a.get(j),r.get(j));G!==null&&D.set(j,G),h=h.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(n,_,D))}return tt.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((r=>this.recalculateAndSaveOverlays(n,r)))}getDocumentsMatchingQuery(n,a,r,o){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):av(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,r,o):this.getDocumentsMatchingCollectionQuery(n,a,r,o)}getNextDocuments(n,a,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,r.largestBatchId,o-h.size):tt.resolve(ps());let p=-1,v=h;return d.next((_=>tt.forEach(_,((A,D)=>(p<D.largestBatchId&&(p=D.largestBatchId),h.get(A)?tt.resolve():this.remoteDocumentCache.getEntry(n,A).next((j=>{v=v.insert(A,j)}))))).next((()=>this.populateOverlays(n,_,h))).next((()=>this.computeViews(n,v,_,jt()))).next((A=>({batchId:p,changes:lv(A)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new yt(a)).next((r=>{let o=jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(n,a,r,o){const h=a.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(n,h).next((p=>tt.forEach(p,(v=>{const _=(function(D,j){return new to(j,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(a,v.child(h));return this.getDocumentsMatchingCollectionQuery(n,_,r,o).next((A=>{A.forEach(((D,j)=>{d=d.insert(D,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,a,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let p=jl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&ql(A.mutation,_,Nn.empty(),Ie.now()),oc(a,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,a){return tt.resolve(this.hr.get(a))}saveBundleMetadata(n,a){return this.hr.set(a.id,(function(o){return{id:o.id,version:o.version,createTime:ua(o.createTime)}})(a)),tt.resolve()}getNamedQuery(n,a){return tt.resolve(this.Pr.get(a))}saveNamedQuery(n,a){return this.Pr.set(a.name,(function(o){return{name:o.name,query:ZT(o.bundledQuery),readTime:ua(o.readTime)}})(a)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.overlays=new he(yt.comparator),this.Ir=new Map}getOverlay(n,a){return tt.resolve(this.overlays.get(a))}getOverlays(n,a){const r=ps();return tt.forEach(a,(o=>this.getOverlay(n,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(n,a,r){return r.forEach(((o,h)=>{this.ht(n,a,h)})),tt.resolve()}removeOverlaysForBatchId(n,a,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Ir.delete(r)),tt.resolve()}getOverlaysForCollection(n,a,r){const o=ps(),h=a.length+1,d=new yt(a.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return tt.resolve(o)}getOverlaysForCollectionGroup(n,a,r,o){let h=new he(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=ps(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ps(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return tt.resolve(p)}ht(n,a,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new wT(a,r));let h=this.Ir.get(a);h===void 0&&(h=jt(),this.Ir.set(a,h)),this.Ir.set(a,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(n){return tt.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.Tr=new Ke(Ue.Er),this.dr=new Ke(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,a){const r=new Ue(n,a);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(n,a){n.forEach((r=>this.addReference(r,a)))}removeReference(n,a){this.Vr(new Ue(n,a))}mr(n,a){n.forEach((r=>this.removeReference(r,a)))}gr(n){const a=new yt(new oe([])),r=new Ue(a,n),o=new Ue(a,n+1),h=[];return this.dr.forEachInRange([r,o],(d=>{this.Vr(d),h.push(d.key)})),h}pr(){this.Tr.forEach((n=>this.Vr(n)))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const a=new yt(new oe([])),r=new Ue(a,n),o=new Ue(a,n+1);let h=jt();return this.dr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(n){const a=new Ue(n,0),r=this.Tr.firstAfterOrEqual(a);return r!==null&&n.isEqual(r.key)}}class Ue{constructor(n,a){this.key=n,this.wr=a}static Er(n,a){return yt.comparator(n.key,a.key)||Qt(n.wr,a.wr)}static Ar(n,a){return Qt(n.wr,a.wr)||yt.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.Sr=1,this.br=new Ke(Ue.Er)}checkEmpty(n){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,r,o){const h=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ST(h,a,r,o);this.mutationQueue.push(d);for(const p of o)this.br=this.br.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(n,p.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(n,a){return tt.resolve(this.Dr(a))}getNextMutationBatchAfterBatchId(n,a){const r=a+1,o=this.vr(r),h=o<0?0:o;return tt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(n){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const r=new Ue(a,0),o=new Ue(a,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([r,o],(d=>{const p=this.Dr(d.wr);h.push(p)})),tt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,a){let r=new Ke(Qt);return a.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,d],(p=>{r=r.add(p.wr)}))})),tt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(n,a){const r=a.path,o=r.length+1;let h=r;yt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new yt(h),0);let p=new Ke(Qt);return this.br.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.wr)),!0)}),d),tt.resolve(this.Cr(p))}Cr(n){const a=[];return n.forEach((r=>{const o=this.Dr(r);o!==null&&a.push(o)})),a}removeMutationBatch(n,a){$t(this.Fr(a.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return tt.forEach(a.mutations,(o=>{const h=new Ue(o.key,a.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)})).next((()=>{this.br=r}))}On(n){}containsKey(n,a){const r=new Ue(a,0),o=this.br.firstAfterOrEqual(r);return tt.resolve(a.isEqual(o&&o.key))}performConsistencyCheck(n){return this.mutationQueue.length,tt.resolve()}Fr(n,a){return this.vr(n)}vr(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Dr(n){const a=this.vr(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(n){this.Mr=n,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const r=a.key,o=this.docs.get(r),h=o?o.size:0,d=this.Mr(a);return this.docs=this.docs.insert(r,{document:a.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const r=this.docs.get(a);return tt.resolve(r?r.document.mutableCopy():en.newInvalidDocument(a))}getEntries(n,a){let r=Pa();return a.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():en.newInvalidDocument(o))})),tt.resolve(r)}getDocumentsMatchingQuery(n,a,r,o){let h=Pa();const d=a.path,p=new yt(d.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||HE(PE(A),r)<=0||(o.has(A.key)||oc(a,A))&&(h=h.insert(A.key,A.mutableCopy()))}return tt.resolve(h)}getAllFromCollectionGroup(n,a,r,o){bt()}Or(n,a){return tt.forEach(this.docs,(r=>a(r)))}newChangeBuffer(n){return new l2(this)}getSize(n){return tt.resolve(this.size)}}class l2 extends WT{constructor(n){super(),this.cr=n}applyChanges(n){const a=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?a.push(this.cr.addEntry(n,o)):this.cr.removeEntry(r)})),tt.waitFor(a)}getFromCache(n,a){return this.cr.getEntry(n,a)}getAllFromCache(n,a){return this.cr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(n){this.persistence=n,this.Nr=new Nr((a=>Td(a)),xd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Dd,this.targetCount=0,this.kr=Er.Bn()}forEachTarget(n,a){return this.Nr.forEach(((r,o)=>a(o))),tt.resolve()}getLastRemoteSnapshotVersion(n){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return tt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(n,a,r){return r&&(this.lastRemoteSnapshotVersion=r),a>this.Lr&&(this.Lr=a),tt.resolve()}Kn(n){this.Nr.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.kr=new Er(a),this.highestTargetId=a),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,a){return this.Kn(a),this.targetCount+=1,tt.resolve()}updateTargetData(n,a){return this.Kn(a),tt.resolve()}removeTargetData(n,a){return this.Nr.delete(a.target),this.Br.gr(a.targetId),this.targetCount-=1,tt.resolve()}removeTargets(n,a,r){let o=0;const h=[];return this.Nr.forEach(((d,p)=>{p.sequenceNumber<=a&&r.get(p.targetId)===null&&(this.Nr.delete(d),h.push(this.removeMatchingKeysForTargetId(n,p.targetId)),o++)})),tt.waitFor(h).next((()=>o))}getTargetCount(n){return tt.resolve(this.targetCount)}getTargetData(n,a){const r=this.Nr.get(a)||null;return tt.resolve(r)}addMatchingKeys(n,a,r){return this.Br.Rr(a,r),tt.resolve()}removeMatchingKeys(n,a,r){this.Br.mr(a,r);const o=this.persistence.referenceDelegate,h=[];return o&&a.forEach((d=>{h.push(o.markPotentiallyOrphaned(n,d))})),tt.waitFor(h)}removeMatchingKeysForTargetId(n,a){return this.Br.gr(a),tt.resolve()}getMatchingKeysForTargetId(n,a){const r=this.Br.yr(a);return tt.resolve(r)}containsKey(n,a){return tt.resolve(this.Br.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(n,a){this.qr={},this.overlays={},this.Qr=new vd(0),this.Kr=!1,this.Kr=!0,this.$r=new i2,this.referenceDelegate=n(this),this.Ur=new o2(this),this.indexManager=new JT,this.remoteDocumentCache=(function(o){return new r2(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new XT(a),this.Gr=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new a2,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let r=this.qr[n.toKey()];return r||(r=new s2(a,this.referenceDelegate),this.qr[n.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,a,r){dt("MemoryPersistence","Starting transaction:",n);const o=new c2(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((h=>this.referenceDelegate.jr(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Hr(n,a){return tt.or(Object.values(this.qr).map((r=>()=>r.containsKey(n,a))))}}class c2 extends QE{constructor(n){super(),this.currentSequenceNumber=n}}class Id{constructor(n){this.persistence=n,this.Jr=new Dd,this.Yr=null}static Zr(n){return new Id(n)}get Xr(){if(this.Yr)return this.Yr;throw bt()}addReference(n,a,r){return this.Jr.addReference(r,a),this.Xr.delete(r.toString()),tt.resolve()}removeReference(n,a,r){return this.Jr.removeReference(r,a),this.Xr.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(n,a){return this.Xr.add(a.toString()),tt.resolve()}removeTarget(n,a){this.Jr.gr(a.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,a.targetId).next((o=>{o.forEach((h=>this.Xr.add(h.toString())))})).next((()=>r.removeTargetData(n,a)))}zr(){this.Yr=new Set}jr(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Xr,(r=>{const o=yt.fromPath(r);return this.ei(n,o).next((h=>{h||a.removeEntry(o,Tt.min())}))})).next((()=>(this.Yr=null,a.apply(n))))}updateLimboDocument(n,a){return this.ei(n,a).next((r=>{r?this.Xr.delete(a.toString()):this.Xr.add(a.toString())}))}Wr(n){return 0}ei(n,a){return tt.or([()=>tt.resolve(this.Jr.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Hr(n,a)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(n,a,r,o){this.targetId=n,this.fromCache=a,this.$i=r,this.Ui=o}static Wi(n,a){let r=jt(),o=jt();for(const h of a.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Vd(n,a.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return p1()?8:FE(m1())>0?6:4})()}initialize(n,a){this.Ji=n,this.indexManager=a,this.Gi=!0}getDocumentsMatchingQuery(n,a,r,o){const h={result:null};return this.Yi(n,a).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.Zi(n,a,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new h2;return this.Xi(n,a,d).next((p=>{if(h.result=p,this.zi)return this.es(n,a,d,p.size)}))})).next((()=>h.result))}es(n,a,r,o){return r.documentReadCount<this.ji?(Ml()<=Bt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",fr(a),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tt.resolve()):(Ml()<=Bt.DEBUG&&dt("QueryEngine","Query:",fr(a),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Ml()<=Bt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",fr(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,oa(a))):tt.resolve())}Yi(n,a){if(Xy(a))return tt.resolve(null);let r=oa(a);return this.indexManager.getIndexType(n,r).next((o=>o===0?null:(a.limit!==null&&o===1&&(a=td(a,null,"F"),r=oa(a)),this.indexManager.getDocumentsMatchingTarget(n,r).next((h=>{const d=jt(...h);return this.Ji.getDocuments(n,d).next((p=>this.indexManager.getMinOffset(n,r).next((v=>{const _=this.ts(a,p);return this.ns(a,_,d,v.readTime)?this.Yi(n,td(a,null,"F")):this.rs(n,_,a,v)}))))})))))}Zi(n,a,r,o){return Xy(a)||o.isEqual(Tt.min())?tt.resolve(null):this.Ji.getDocuments(n,r).next((h=>{const d=this.ts(a,h);return this.ns(a,d,r,o)?tt.resolve(null):(Ml()<=Bt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fr(a)),this.rs(n,d,a,qE(o,-1)).next((p=>p)))}))}ts(n,a){let r=new Ke(sv(n));return a.forEach(((o,h)=>{oc(n,h)&&(r=r.add(h))})),r}ns(n,a,r,o){if(n.limit===null)return!1;if(r.size!==a.size)return!0;const h=n.limitType==="F"?a.last():a.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Xi(n,a,r){return Ml()<=Bt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",fr(a)),this.Ji.getDocumentsMatchingQuery(n,a,zi.min(),r)}rs(n,a,r,o){return this.Ji.getDocumentsMatchingQuery(n,r,o).next((h=>(a.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(n,a,r,o){this.persistence=n,this.ss=a,this.serializer=o,this.os=new he(Qt),this._s=new Nr((h=>Td(h)),xd),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(r)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new e2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.os)))}}function m2(s,n,a,r){return new d2(s,n,a,r)}async function wv(s,n){const a=xt(s);return await a.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return a.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,a.ls(n),a.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=jt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return a.localDocuments.getDocuments(r,v).next((_=>({hs:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function g2(s,n){const a=xt(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=n.batch.keys(),h=a.cs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const D=_.batch,j=D.keys();let G=tt.resolve();return j.forEach(($=>{G=G.next((()=>A.getEntry(v,$))).next((it=>{const Q=_.docVersions.get($);$t(Q!==null),it.version.compareTo(Q)<0&&(D.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,D)))})(a,r,n,h).next((()=>h.apply(r))).next((()=>a.mutationQueue.performConsistencyCheck(r))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(r,o,n.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=jt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(n)))).next((()=>a.localDocuments.getDocuments(r,o)))}))}function Rv(s){const n=xt(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Ur.getLastRemoteSnapshotVersion(a)))}function p2(s,n){const a=xt(s),r=n.snapshotVersion;let o=a.os;return a.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=a.cs.newChangeBuffer({trackRemovals:!0});o=a.os;const p=[];n.targetChanges.forEach(((A,D)=>{const j=o.get(D);if(!j)return;p.push(a.Ur.removeMatchingKeys(h,A.removedDocuments,D).next((()=>a.Ur.addMatchingKeys(h,A.addedDocuments,D))));let G=j.withSequenceNumber(h.currentSequenceNumber);n.targetMismatches.get(D)!==null?G=G.withResumeToken(Xe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(D,G),(function(it,Q,rt){return it.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=3e8?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(j,G,A)&&p.push(a.Ur.updateTargetData(h,G))}));let v=Pa(),_=jt();if(n.documentUpdates.forEach((A=>{n.resolvedLimboDocuments.has(A)&&p.push(a.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(y2(h,d,n.documentUpdates).next((A=>{v=A.Ps,_=A.Is}))),!r.isEqual(Tt.min())){const A=a.Ur.getLastRemoteSnapshotVersion(h).next((D=>a.Ur.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(A)}return tt.waitFor(p).next((()=>d.apply(h))).next((()=>a.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(a.os=o,h)))}function y2(s,n,a){let r=jt(),o=jt();return a.forEach((h=>r=r.add(h))),n.getEntries(s,r).next((h=>{let d=Pa();return a.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(n.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(n.addEntry(v),d=d.insert(p,v)):dt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Ps:d,Is:o}}))}function v2(s,n){const a=xt(s);return a.persistence.runTransaction("Get next mutation batch","readonly",(r=>(n===void 0&&(n=-1),a.mutationQueue.getNextMutationBatchAfterBatchId(r,n))))}function _2(s,n){const a=xt(s);return a.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return a.Ur.getTargetData(r,n).next((h=>h?(o=h,tt.resolve(o)):a.Ur.allocateTargetId(r).next((d=>(o=new Ii(n,d,"TargetPurposeListen",r.currentSequenceNumber),a.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=a.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(a.os=a.os.insert(r.targetId,r),a._s.set(n,r.targetId)),r}))}async function sd(s,n,a){const r=xt(s),o=r.os.get(n),h=a?"readwrite":"readwrite-primary";try{a||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Wl(d))throw d;dt("LocalStore",`Failed to update sequence numbers for target ${n}: ${d}`)}r.os=r.os.remove(n),r._s.delete(o.target)}function r0(s,n,a){const r=xt(s);let o=Tt.min(),h=jt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const D=xt(v),j=D._s.get(A);return j!==void 0?tt.resolve(D.os.get(j)):D.Ur.getTargetData(_,A)})(r,d,oa(n)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.ss.getDocumentsMatchingQuery(d,n,a?o:Tt.min(),a?h:jt()))).next((p=>(b2(r,cT(n),p),{documents:p,Ts:h})))))}function b2(s,n,a){let r=s.us.get(n)||Tt.min();a.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.us.set(n,r)}class l0{constructor(){this.activeTargetIds=pT()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class E2{constructor(){this.so=new l0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,r){}addLocalQueryTarget(n,a=!0){return a&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,a,r){this.oo[n]=a}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new l0,Promise.resolve()}handleUserChange(n,a,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{_o(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function zf(){return Lu===null?Lu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class S2 extends class{constructor(a){this.databaseInfo=a,this.databaseId=a.databaseId;const r=a.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+a.host,this.vo=`projects/${o}/databases/${h}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${h}`}get Fo(){return!1}Mo(a,r,o,h,d){const p=zf(),v=this.xo(a,r.toUriEncodedString());dt("RestConnection",`Sending RPC '${a}' ${p}:`,v,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,h,d),this.No(a,v,_,o).then((A=>(dt("RestConnection",`Received RPC '${a}' ${p}: `,A),A)),(A=>{throw yr("RestConnection",`RPC '${a}' ${p} failed with error: `,A,"url: ",v,"request:",o),A}))}Lo(a,r,o,h,d,p){return this.Mo(a,r,o,h,d)}Oo(a,r,o){a["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rr})(),a["Content-Type"]="text/plain",this.databaseInfo.appId&&(a["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((h,d)=>a[d]=h)),o&&o.headers.forEach(((h,d)=>a[d]=h))}xo(a,r){const o=x2[a];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,a,r,o){const h=zf();return new Promise(((d,p)=>{const v=new q0;v.setWithCredentials(!0),v.listenOnce(P0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case qu.NO_ERROR:const A=v.getResponseJson();dt(We,`XHR for RPC '${n}' ${h} received:`,JSON.stringify(A)),d(A);break;case qu.TIMEOUT:dt(We,`RPC '${n}' ${h} timed out`),p(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const D=v.getStatus();if(dt(We,`RPC '${n}' ${h} failed with status:`,D,"response text:",v.getResponseText()),D>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j==null?void 0:j.error;if(G&&G.status&&G.message){const $=(function(Q){const rt=Q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(rt)>=0?rt:J.UNKNOWN})(G.status);p(new ht($,G.message))}else p(new ht(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new ht(J.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{dt(We,`RPC '${n}' ${h} completed.`)}}));const _=JSON.stringify(o);dt(We,`RPC '${n}' ${h} sending request:`,o),v.send(a,"POST",_,r,15)}))}Bo(n,a,r){const o=zf(),h=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=Q0(),p=G0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Oo(v.initMessageHeaders,a,r),v.encodeInitMessageHeaders=!0;const A=h.join("");dt(We,`Creating RPC '${n}' stream ${o}: ${A}`,v);const D=d.createWebChannel(A,v);let j=!1,G=!1;const $=new A2({Io:Q=>{G?dt(We,`Not sending because RPC '${n}' stream ${o} is closed:`,Q):(j||(dt(We,`Opening RPC '${n}' stream ${o} transport.`),D.open(),j=!0),dt(We,`RPC '${n}' stream ${o} sending:`,Q),D.send(Q))},To:()=>D.close()}),it=(Q,rt,ot)=>{Q.listen(rt,(ut=>{try{ot(ut)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return it(D,Ol.EventType.OPEN,(()=>{G||(dt(We,`RPC '${n}' stream ${o} transport opened.`),$.yo())})),it(D,Ol.EventType.CLOSE,(()=>{G||(G=!0,dt(We,`RPC '${n}' stream ${o} transport closed`),$.So())})),it(D,Ol.EventType.ERROR,(Q=>{G||(G=!0,yr(We,`RPC '${n}' stream ${o} transport errored:`,Q),$.So(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),it(D,Ol.EventType.MESSAGE,(Q=>{var rt;if(!G){const ot=Q.data[0];$t(!!ot);const ut=ot,nt=ut.error||((rt=ut[0])===null||rt===void 0?void 0:rt.error);if(nt){dt(We,`RPC '${n}' stream ${o} received error:`,nt);const Ut=nt.status;let q=(function(w){const N=Re[w];if(N!==void 0)return pv(N)})(Ut),S=nt.message;q===void 0&&(q=J.INTERNAL,S="Unknown error status: "+Ut+" with message "+nt.message),G=!0,$.So(new ht(q,S)),D.close()}else dt(We,`RPC '${n}' stream ${o} received:`,ot),$.bo(ot)}})),it(p,H0.STAT_EVENT,(Q=>{Q.stat===Kf.PROXY?dt(We,`RPC '${n}' stream ${o} detected buffering proxy`):Q.stat===Kf.NOPROXY&&dt(We,`RPC '${n}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.wo()}),0),$}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(s){return new jT(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(n,a,r=1e3,o=1.5,h=6e4){this.ui=n,this.timerId=a,this.ko=r,this.qo=o,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const a=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,a-r);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${a} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),n()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(n,a,r,o,h,d,p,v){this.ui=n,this.Ho=r,this.Jo=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Nv(n,a)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(n){this.u_(),this.stream.send(n)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(n,a){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,n!==4?this.t_.reset():a&&a.code===J.RESOURCE_EXHAUSTED?(qa(a.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):a&&a.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.mo(a)}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),a=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===a&&this.P_(r,o)}),(r=>{n((()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(n,a){const r=this.h_(this.Yo);this.stream=this.T_(n,a),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(n){return dt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return a=>{this.ui.enqueueAndForget((()=>this.Yo===n?a():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w2 extends Cv{constructor(n,a,r,o,h,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,r,o,d),this.serializer=h}T_(n,a){return this.connection.Bo("Listen",n,a)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const a=LT(this.serializer,n),r=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ua(d.readTime):Tt.min()})(n);return this.listener.d_(a,r)}A_(n){const a={};a.database=id(this.serializer),a.addTarget=(function(h,d){let p;const v=d.target;if(p=$f(v)?{documents:qT(h,v)}:{query:PT(h,v)._t},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=_v(h,d.resumeToken);const _=ed(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=ec(h,d.snapshotVersion.toTimestamp());const _=ed(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,n);const r=GT(this.serializer,n);r&&(a.labels=r),this.a_(a)}R_(n){const a={};a.database=id(this.serializer),a.removeTarget=n,this.a_(a)}}class R2 extends Cv{constructor(n,a,r,o,h,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,r,o,d),this.serializer=h}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,a){return this.connection.Bo("Write",n,a)}E_(n){return $t(!!n.streamToken),this.lastStreamToken=n.streamToken,$t(!n.writeResults||n.writeResults.length===0),this.listener.f_()}onNext(n){$t(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const a=BT(n.writeResults,n.commitTime),r=ua(n.commitTime);return this.listener.g_(r,a)}p_(){const n={};n.database=id(this.serializer),this.a_(n)}m_(n){const a={streamToken:this.lastStreamToken,writes:n.map((r=>kT(this.serializer,r)))};this.a_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends class{}{constructor(n,a,r,o){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,a,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Mo(n,nd(a,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht(J.UNKNOWN,h.toString())}))}Lo(n,a,r,o,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Lo(n,nd(a,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class C2{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(n){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,n==="Online"&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qa(a),this.D_=!1):dt("OnlineStateTracker",a)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(n,a,r,o,h){this.localStore=n,this.datastore=a,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o((d=>{r.enqueueAndForget((async()=>{Ts(this)&&(dt("RemoteStore","Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.L_.add(4),await ao(_),_.q_.set("Unknown"),_.L_.delete(4),await dc(_)})(this))}))})),this.q_=new C2(r,o)}}async function dc(s){if(Ts(s))for(const n of s.B_)await n(!0)}async function ao(s){for(const n of s.B_)await n(!1)}function Dv(s,n){const a=xt(s);a.N_.has(n.targetId)||(a.N_.set(n.targetId,n),zd(a)?jd(a):Cr(a).r_()&&Od(a,n))}function Md(s,n){const a=xt(s),r=Cr(a);a.N_.delete(n),r.r_()&&Iv(a,n),a.N_.size===0&&(r.r_()?r.o_():Ts(a)&&a.q_.set("Unknown"))}function Od(s,n){if(s.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Tt.min())>0){const a=s.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(a)}Cr(s).A_(n)}function Iv(s,n){s.Q_.xe(n),Cr(s).R_(n)}function jd(s){s.Q_=new IT({getRemoteKeysForTarget:n=>s.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>s.N_.get(n)||null,tt:()=>s.datastore.serializer.databaseId}),Cr(s).start(),s.q_.v_()}function zd(s){return Ts(s)&&!Cr(s).n_()&&s.N_.size>0}function Ts(s){return xt(s).L_.size===0}function Vv(s){s.Q_=void 0}async function I2(s){s.q_.set("Online")}async function V2(s){s.N_.forEach(((n,a)=>{Od(s,n)}))}async function M2(s,n){Vv(s),zd(s)?(s.q_.M_(n),jd(s)):s.q_.set("Unknown")}async function O2(s,n,a){if(s.q_.set("Online"),n instanceof vv&&n.state===2&&n.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.N_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.N_.delete(p),o.Q_.removeTarget(p))})(s,n)}catch(r){dt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),r),await nc(s,r)}else if(n instanceof Gu?s.Q_.Ke(n):n instanceof yv?s.Q_.He(n):s.Q_.We(n),!a.isEqual(Tt.min()))try{const r=await Rv(s.localStore);a.compareTo(r)>=0&&await(function(h,d){const p=h.Q_.rt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.N_.get(_);A&&h.N_.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.N_.get(v);if(!A)return;h.N_.set(v,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),Iv(h,v);const D=new Ii(A.target,v,_,A.sequenceNumber);Od(h,D)})),h.remoteSyncer.applyRemoteEvent(p)})(s,a)}catch(r){dt("RemoteStore","Failed to raise snapshot:",r),await nc(s,r)}}async function nc(s,n,a){if(!Wl(n))throw n;s.L_.add(1),await ao(s),s.q_.set("Offline"),a||(a=()=>Rv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{dt("RemoteStore","Retrying IndexedDB access"),await a(),s.L_.delete(1),await dc(s)}))}function Mv(s,n){return n().catch((a=>nc(s,a,n)))}async function mc(s){const n=xt(s),a=Li(n);let r=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;j2(n);)try{const o=await v2(n.localStore,r);if(o===null){n.O_.length===0&&a.o_();break}r=o.batchId,z2(n,o)}catch(o){await nc(n,o)}Ov(n)&&jv(n)}function j2(s){return Ts(s)&&s.O_.length<10}function z2(s,n){s.O_.push(n);const a=Li(s);a.r_()&&a.V_&&a.m_(n.mutations)}function Ov(s){return Ts(s)&&!Li(s).n_()&&s.O_.length>0}function jv(s){Li(s).start()}async function U2(s){Li(s).p_()}async function L2(s){const n=Li(s);for(const a of s.O_)n.m_(a.mutations)}async function k2(s,n,a){const r=s.O_.shift(),o=Rd.from(r,n,a);await Mv(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await mc(s)}async function B2(s,n){n&&Li(s).V_&&await(async function(r,o){if((function(d){return NT(d)&&d!==J.ABORTED})(o.code)){const h=r.O_.shift();Li(r).s_(),await Mv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await mc(r)}})(s,n),Ov(s)&&jv(s)}async function u0(s,n){const a=xt(s);a.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const r=Ts(a);a.L_.add(3),await ao(a),r&&a.q_.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.L_.delete(3),await dc(a)}async function q2(s,n){const a=xt(s);n?(a.L_.delete(2),await dc(a)):n||(a.L_.add(2),await ao(a),a.q_.set("Unknown"))}function Cr(s){return s.K_||(s.K_=(function(a,r,o){const h=xt(a);return h.w_(),new w2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Eo:I2.bind(null,s),Ro:V2.bind(null,s),mo:M2.bind(null,s),d_:O2.bind(null,s)}),s.B_.push((async n=>{n?(s.K_.s_(),zd(s)?jd(s):s.q_.set("Unknown")):(await s.K_.stop(),Vv(s))}))),s.K_}function Li(s){return s.U_||(s.U_=(function(a,r,o){const h=xt(a);return h.w_(),new R2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U2.bind(null,s),mo:B2.bind(null,s),f_:L2.bind(null,s),g_:k2.bind(null,s)}),s.B_.push((async n=>{n?(s.U_.s_(),await mc(s)):(await s.U_.stop(),s.O_.length>0&&(dt("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(n,a,r,o,h){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,r,o,h){const d=Date.now()+r,p=new Ud(n,a,d,o,h);return p.start(r),p}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(s,n){if(qa("AsyncQueue",`${n}: ${s}`),Wl(s))return new ht(J.UNAVAILABLE,`${n}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(n){this.comparator=n?(a,r)=>n(a,r)||yt.comparator(a.key,r.key):(a,r)=>yt.comparator(a.key,r.key),this.keyedMap=jl(),this.sortedSet=new he(this.comparator)}static emptySet(n){return new pr(n.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal(((a,r)=>(n(a),!1)))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof pr)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),r=n.sortedSet.getIterator();for(;a.hasNext();){const o=a.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach((a=>{n.push(a.toString())})),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,a){const r=new pr;return r.comparator=this.comparator,r.keyedMap=n,r.sortedSet=a,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.W_=new he(yt.comparator)}track(n){const a=n.doc.key,r=this.W_.get(a);r?n.type!==0&&r.type===3?this.W_=this.W_.insert(a,n):n.type===3&&r.type!==1?this.W_=this.W_.insert(a,{type:r.type,doc:n.doc}):n.type===2&&r.type===2?this.W_=this.W_.insert(a,{type:2,doc:n.doc}):n.type===2&&r.type===0?this.W_=this.W_.insert(a,{type:0,doc:n.doc}):n.type===1&&r.type===0?this.W_=this.W_.remove(a):n.type===1&&r.type===2?this.W_=this.W_.insert(a,{type:1,doc:r.doc}):n.type===0&&r.type===1?this.W_=this.W_.insert(a,{type:2,doc:n.doc}):bt():this.W_=this.W_.insert(a,n)}G_(){const n=[];return this.W_.inorderTraversal(((a,r)=>{n.push(r)})),n}}class Tr{constructor(n,a,r,o,h,d,p,v,_){this.query=n,this.docs=a,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(n,a,r,o,h){const d=[];return a.forEach((p=>{d.push({type:0,doc:p})})),new Tr(n,a,pr.emptySet(a),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&lc(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,r=n.docChanges;if(a.length!==r.length)return!1;for(let o=0;o<a.length;o++)if(a[o].type!==r[o].type||!a[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((n=>n.J_()))}}class H2{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(a,r){const o=xt(a),h=o.queries;o.queries=h0(),h.forEach(((d,p)=>{for(const v of p.j_)v.onError(r)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function h0(){return new Nr((s=>iv(s)),lc)}async function zv(s,n){const a=xt(s);let r=3;const o=n.query;let h=a.queries.get(o);h?!h.H_()&&n.J_()&&(r=2):(h=new P2,r=n.J_()?0:1);try{switch(r){case 0:h.z_=await a.onListen(o,!0);break;case 1:h.z_=await a.onListen(o,!1);break;case 2:await a.onFirstRemoteStoreListen(o)}}catch(d){const p=Ld(d,`Initialization of query '${fr(n.query)}' failed`);return void n.onError(p)}a.queries.set(o,h),h.j_.push(n),n.Z_(a.onlineState),h.z_&&n.X_(h.z_)&&kd(a)}async function Uv(s,n){const a=xt(s),r=n.query;let o=3;const h=a.queries.get(r);if(h){const d=h.j_.indexOf(n);d>=0&&(h.j_.splice(d,1),h.j_.length===0?o=n.J_()?0:1:!h.H_()&&n.J_()&&(o=2))}switch(o){case 0:return a.queries.delete(r),a.onUnlisten(r,!0);case 1:return a.queries.delete(r),a.onUnlisten(r,!1);case 2:return a.onLastRemoteStoreUnlisten(r);default:return}}function G2(s,n){const a=xt(s);let r=!1;for(const o of n){const h=o.query,d=a.queries.get(h);if(d){for(const p of d.j_)p.X_(o)&&(r=!0);d.z_=o}}r&&kd(a)}function Q2(s,n,a){const r=xt(s),o=r.queries.get(n);if(o)for(const h of o.j_)h.onError(a);r.queries.delete(n)}function kd(s){s.Y_.forEach((n=>{n.next()}))}var rd,f0;(f0=rd||(rd={})).ea="default",f0.Cache="cache";class Lv{constructor(n,a,r){this.query=n,this.ta=a,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(n){if(!this.options.includeMetadataChanges){const r=[];for(const o of n.docChanges)o.type!==3&&r.push(o);n=new Tr(n.query,n.docs,n.oldDocs,r,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let a=!1;return this.na?this.ia(n)&&(this.ta.next(n),a=!0):this.sa(n,this.onlineState)&&(this.oa(n),a=!0),this.ra=n,a}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let a=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),a=!0),a}sa(n,a){if(!n.fromCache||!this.J_())return!0;const r=a!=="Offline";return(!this.options._a||!r)&&(!n.docs.isEmpty()||n.hasCachedResults||a==="Offline")}ia(n){if(n.docChanges.length>0)return!0;const a=this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!a)&&this.options.includeMetadataChanges===!0}oa(n){n=Tr.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(n){this.key=n}}class Bv{constructor(n){this.key=n}}class F2{constructor(n,a){this.query=n,this.Ta=a,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=jt(),this.mutatedKeys=jt(),this.Aa=sv(n),this.Ra=new pr(this.Aa)}get Va(){return this.Ta}ma(n,a){const r=a?a.fa:new c0,o=a?a.Ra:this.Ra;let h=a?a.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal(((A,D)=>{const j=o.get(A),G=oc(this.query,D)?D:null,$=!!j&&this.mutatedKeys.has(j.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Q=!1;j&&G?j.data.isEqual(G.data)?$!==it&&(r.track({type:3,doc:G}),Q=!0):this.ga(j,G)||(r.track({type:2,doc:G}),Q=!0,(v&&this.Aa(G,v)>0||_&&this.Aa(G,_)<0)&&(p=!0)):!j&&G?(r.track({type:0,doc:G}),Q=!0):j&&!G&&(r.track({type:1,doc:j}),Q=!0,(v||_)&&(p=!0)),Q&&(G?(d=d.add(G),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{Ra:d,fa:r,ns:p,mutatedKeys:h}}ga(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,r,o){const h=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const d=n.fa.G_();d.sort(((A,D)=>(function(G,$){const it=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return it(G)-it($)})(A.type,D.type)||this.Aa(A.doc,D.doc))),this.pa(r),o=o!=null&&o;const p=a&&!o?this.ya():[],v=this.da.size===0&&this.current&&!o?1:0,_=v!==this.Ea;return this.Ea=v,d.length!==0||_?{snapshot:new Tr(this.query,n.Ra,h,d,n.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new c0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach((a=>this.Ta=this.Ta.add(a))),n.modifiedDocuments.forEach((a=>{})),n.removedDocuments.forEach((a=>this.Ta=this.Ta.delete(a))),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=jt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const a=[];return n.forEach((r=>{this.da.has(r)||a.push(new Bv(r))})),this.da.forEach((r=>{n.has(r)||a.push(new kv(r))})),a}ba(n){this.Ta=n.Ts,this.da=jt();const a=this.ma(n.documents);return this.applyChanges(a,!0)}Da(){return Tr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Y2{constructor(n,a,r){this.query=n,this.targetId=a,this.view=r}}class K2{constructor(n){this.key=n,this.va=!1}}class X2{constructor(n,a,r,o,h,d){this.localStore=n,this.remoteStore=a,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Nr((p=>iv(p)),lc),this.Ma=new Map,this.xa=new Set,this.Oa=new he(yt.comparator),this.Na=new Map,this.La=new Dd,this.Ba={},this.ka=new Map,this.qa=Er.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Z2(s,n,a=!0){const r=Fv(s);let o;const h=r.Fa.get(n);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Da()):o=await qv(r,n,a,!0),o}async function J2(s,n){const a=Fv(s);await qv(a,n,!0,!1)}async function qv(s,n,a,r){const o=await _2(s.localStore,oa(n)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,a);let p;return r&&(p=await $2(s,n,h,d==="current",o.resumeToken)),s.isPrimaryClient&&a&&Dv(s.remoteStore,o),p}async function $2(s,n,a,r,o){s.Ka=(D,j,G)=>(async function(it,Q,rt,ot){let ut=Q.view.ma(rt);ut.ns&&(ut=await r0(it.localStore,Q.query,!1).then((({documents:S})=>Q.view.ma(S,ut))));const nt=ot&&ot.targetChanges.get(Q.targetId),Ut=ot&&ot.targetMismatches.get(Q.targetId)!=null,q=Q.view.applyChanges(ut,it.isPrimaryClient,nt,Ut);return m0(it,Q.targetId,q.wa),q.snapshot})(s,D,j,G);const h=await r0(s.localStore,n,!0),d=new F2(n,h.Ts),p=d.ma(h.documents),v=no.createSynthesizedTargetChangeForCurrentChange(a,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,v);m0(s,a,_.wa);const A=new Y2(n,a,d);return s.Fa.set(n,A),s.Ma.has(a)?s.Ma.get(a).push(n):s.Ma.set(a,[n]),_.snapshot}async function W2(s,n,a){const r=xt(s),o=r.Fa.get(n),h=r.Ma.get(o.targetId);if(h.length>1)return r.Ma.set(o.targetId,h.filter((d=>!lc(d,n)))),void r.Fa.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await sd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),a&&Md(r.remoteStore,o.targetId),ld(r,o.targetId)})).catch($l)):(ld(r,o.targetId),await sd(r.localStore,o.targetId,!0))}async function tx(s,n){const a=xt(s),r=a.Fa.get(n),o=a.Ma.get(r.targetId);a.isPrimaryClient&&o.length===1&&(a.sharedClientState.removeLocalQueryTarget(r.targetId),Md(a.remoteStore,r.targetId))}async function ex(s,n,a){const r=ox(s);try{const o=await(function(d,p){const v=xt(d),_=Ie.now(),A=p.reduce(((G,$)=>G.add($.key)),jt());let D,j;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Pa(),it=jt();return v.cs.getEntries(G,A).next((Q=>{$=Q,$.forEach(((rt,ot)=>{ot.isValidDocument()||(it=it.add(rt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((Q=>{D=Q;const rt=[];for(const ot of p){const ut=xT(ot,D.get(ot.key).overlayedDocument);ut!=null&&rt.push(new ki(ot.key,ut,Z0(ut.value.mapValue),qn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,rt,p)})).next((Q=>{j=Q;const rt=Q.applyToLocalDocumentSet(D,it);return v.documentOverlayCache.saveOverlays(G,Q.batchId,rt)}))})).then((()=>({batchId:j.batchId,changes:lv(D)})))})(r.localStore,n);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Ba[d.currentUser.toKey()];_||(_=new he(Qt)),_=_.insert(p,v),d.Ba[d.currentUser.toKey()]=_})(r,o.batchId,a),await io(r,o.changes),await mc(r.remoteStore)}catch(o){const h=Ld(o,"Failed to persist write");a.reject(h)}}async function Pv(s,n){const a=xt(s);try{const r=await p2(a.localStore,n);n.targetChanges.forEach(((o,h)=>{const d=a.Na.get(h);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?$t(d.va):o.removedDocuments.size>0&&($t(d.va),d.va=!1))})),await io(a,r,n)}catch(r){await $l(r)}}function d0(s,n,a){const r=xt(s);if(r.isPrimaryClient&&a===0||!r.isPrimaryClient&&a===1){const o=[];r.Fa.forEach(((h,d)=>{const p=d.view.Z_(n);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=xt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,D)=>{for(const j of D.j_)j.Z_(p)&&(_=!0)})),_&&kd(v)})(r.eventManager,n),o.length&&r.Ca.d_(o),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function nx(s,n,a){const r=xt(s);r.sharedClientState.updateQueryState(n,"rejected",a);const o=r.Na.get(n),h=o&&o.key;if(h){let d=new he(yt.comparator);d=d.insert(h,en.newNoDocument(h,Tt.min()));const p=jt().add(h),v=new hc(Tt.min(),new Map,new he(Qt),d,p);await Pv(r,v),r.Oa=r.Oa.remove(h),r.Na.delete(n),Bd(r)}else await sd(r.localStore,n,!1).then((()=>ld(r,n,a))).catch($l)}async function ax(s,n){const a=xt(s),r=n.batch.batchId;try{const o=await g2(a.localStore,n);Gv(a,r,null),Hv(a,r),a.sharedClientState.updateMutationState(r,"acknowledged"),await io(a,o)}catch(o){await $l(o)}}async function ix(s,n,a){const r=xt(s);try{const o=await(function(d,p){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((D=>($t(D!==null),A=D.keys(),v.mutationQueue.removeMutationBatch(_,D)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,n);Gv(r,n,a),Hv(r,n),r.sharedClientState.updateMutationState(n,"rejected",a),await io(r,o)}catch(o){await $l(o)}}function Hv(s,n){(s.ka.get(n)||[]).forEach((a=>{a.resolve()})),s.ka.delete(n)}function Gv(s,n,a){const r=xt(s);let o=r.Ba[r.currentUser.toKey()];if(o){const h=o.get(n);h&&(a?h.reject(a):h.resolve(),o=o.remove(n)),r.Ba[r.currentUser.toKey()]=o}}function ld(s,n,a=null){s.sharedClientState.removeLocalQueryTarget(n);for(const r of s.Ma.get(n))s.Fa.delete(r),a&&s.Ca.$a(r,a);s.Ma.delete(n),s.isPrimaryClient&&s.La.gr(n).forEach((r=>{s.La.containsKey(r)||Qv(s,r)}))}function Qv(s,n){s.xa.delete(n.path.canonicalString());const a=s.Oa.get(n);a!==null&&(Md(s.remoteStore,a),s.Oa=s.Oa.remove(n),s.Na.delete(a),Bd(s))}function m0(s,n,a){for(const r of a)r instanceof kv?(s.La.addReference(r.key,n),sx(s,r)):r instanceof Bv?(dt("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,n),s.La.containsKey(r.key)||Qv(s,r.key)):bt()}function sx(s,n){const a=n.key,r=a.path.canonicalString();s.Oa.get(a)||s.xa.has(r)||(dt("SyncEngine","New document in limbo: "+a),s.xa.add(r),Bd(s))}function Bd(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const n=s.xa.values().next().value;s.xa.delete(n);const a=new yt(oe.fromString(n)),r=s.qa.next();s.Na.set(r,new K2(a)),s.Oa=s.Oa.insert(a,r),Dv(s.remoteStore,new Ii(oa(Ad(a.path)),r,"TargetPurposeLimboResolution",vd.oe))}}async function io(s,n,a){const r=xt(s),o=[],h=[],d=[];r.Fa.isEmpty()||(r.Fa.forEach(((p,v)=>{d.push(r.Ka(v,n,a).then((_=>{var A;if((_||a)&&r.isPrimaryClient){const D=_?!_.fromCache:(A=a==null?void 0:a.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,D?"current":"not-current")}if(_){o.push(_);const D=Vd.Wi(v.targetId,_);h.push(D)}})))})),await Promise.all(d),r.Ca.d_(o),await(async function(v,_){const A=xt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>tt.forEach(_,(j=>tt.forEach(j.$i,(G=>A.persistence.referenceDelegate.addReference(D,j.targetId,G))).next((()=>tt.forEach(j.Ui,(G=>A.persistence.referenceDelegate.removeReference(D,j.targetId,G)))))))))}catch(D){if(!Wl(D))throw D;dt("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const j=D.targetId;if(!D.fromCache){const G=A.os.get(j),$=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion($);A.os=A.os.insert(j,it)}}})(r.localStore,h))}async function rx(s,n){const a=xt(s);if(!a.currentUser.isEqual(n)){dt("SyncEngine","User change. New user:",n.toKey());const r=await wv(a.localStore,n);a.currentUser=n,(function(h,d){h.ka.forEach((p=>{p.forEach((v=>{v.reject(new ht(J.CANCELLED,d))}))})),h.ka.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await io(a,r.hs)}}function lx(s,n){const a=xt(s),r=a.Na.get(n);if(r&&r.va)return jt().add(r.key);{let o=jt();const h=a.Ma.get(n);if(!h)return o;for(const d of h){const p=a.Fa.get(d);o=o.unionWith(p.view.Va)}return o}}function Fv(s){const n=xt(s);return n.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=lx.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=nx.bind(null,n),n.Ca.d_=G2.bind(null,n.eventManager),n.Ca.$a=Q2.bind(null,n.eventManager),n}function ox(s){const n=xt(s);return n.remoteStore.remoteSyncer.applySuccessfulWrite=ax.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,n),n}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=fc(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),await this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)}ja(n,a){return null}Ha(n,a){return null}za(n){return m2(this.persistence,new f2,n.initialUser,this.serializer)}Ga(n){return new u2(Id.Zr,this.serializer)}Wa(n){return new E2}async terminate(){var n,a;(n=this.gcScheduler)===null||n===void 0||n.stop(),(a=this.indexBackfillerScheduler)===null||a===void 0||a.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class od{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rx.bind(null,this.syncEngine),await q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new H2})()}createDatastore(n){const a=fc(n.databaseInfo.databaseId),r=(function(h){return new S2(h)})(n.databaseInfo);return(function(h,d,p,v){return new N2(h,d,p,v)})(n.authCredentials,n.appCheckCredentials,r,a)}createRemoteStore(n){return(function(r,o,h,d,p){return new D2(r,o,h,d,p)})(this.localStore,this.datastore,n.asyncQueue,(a=>d0(this.syncEngine,a,0)),(function(){return o0.D()?new o0:new T2})())}createSyncEngine(n,a){return(function(o,h,d,p,v,_,A){const D=new X2(o,h,d,p,v,_);return A&&(D.Qa=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){var n,a;await(async function(o){const h=xt(o);dt("RemoteStore","RemoteStore shutting down."),h.L_.add(5),await ao(h),h.k_.shutdown(),h.q_.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(a=this.eventManager)===null||a===void 0||a.terminate()}}od.provider={build:()=>new od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):qa("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,a){setTimeout((()=>{this.muted||n(a)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(n,a,r,o,h){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=r,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{dt("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(dt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const r=Ld(a,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}async function Lf(s,n){s.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const a=s.configuration;await n.initialize(a);let r=a.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await wv(n.localStore,o),r=o)})),n.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=n}async function g0(s,n){s.asyncQueue.verifyOperationInProgress();const a=await cx(s);dt("FirestoreClient","Initializing OnlineComponentProvider"),await n.initialize(a,s.configuration),s.setCredentialChangeListener((r=>u0(n.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>u0(n.remoteStore,o))),s._onlineComponents=n}async function cx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){dt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lf(s,s._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(a))throw a;yr("Error using user provided cache. Falling back to memory cache: "+a),await Lf(s,new ac)}}else dt("FirestoreClient","Using default OfflineComponentProvider"),await Lf(s,new ac);return s._offlineComponents}async function Kv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(dt("FirestoreClient","Using user provided OnlineComponentProvider"),await g0(s,s._uninitializedComponentsProvider._online)):(dt("FirestoreClient","Using default OnlineComponentProvider"),await g0(s,new od))),s._onlineComponents}function hx(s){return Kv(s).then((n=>n.syncEngine))}async function ud(s){const n=await Kv(s),a=n.eventManager;return a.onListen=Z2.bind(null,n.syncEngine),a.onUnlisten=W2.bind(null,n.syncEngine),a.onFirstRemoteStoreListen=J2.bind(null,n.syncEngine),a.onLastRemoteStoreUnlisten=tx.bind(null,n.syncEngine),a}function fx(s,n,a={}){const r=new Oi;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const A=new Yv({next:j=>{A.Za(),d.enqueueAndForget((()=>Uv(h,D))),j.fromCache&&v.source==="server"?_.reject(new ht(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(j)},error:j=>_.reject(j)}),D=new Lv(p,A,{includeMetadataChanges:!0,_a:!0});return zv(h,D)})(await ud(s),s.asyncQueue,n,a,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(s){const n={};return s.timeoutSeconds!==void 0&&(n.timeoutSeconds=s.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(s,n,a){if(!a)throw new ht(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function dx(s,n,a,r){if(n===!0&&r===!0)throw new ht(J.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function y0(s){if(!yt.isDocumentKey(s))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function v0(s){if(yt.isDocumentKey(s))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function gc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const n=(function(r){return r.constructor?r.constructor.name:null})(s);return n?`a custom ${n} object`:"an object"}}return typeof s=="function"?"a function":bt()}function ka(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=gc(s);throw new ht(J.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(n){var a,r;if(n.host===void 0){if(n.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=(a=n.ssl)===null||a===void 0||a;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<1048576)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}dx("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv((r=n.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class pc{constructor(n,a,r,o){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(n),n.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VE;switch(r.type){case"firstParty":return new zE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const r=p0.get(a);r&&(dt("ComponentProvider","Removing Datastore"),p0.delete(a),r.terminate())})(this),Promise.resolve()}}function mx(s,n,a,r={}){var o;const h=(s=ka(s,pc))._getSettings(),d=`${n}:${a}`;if(h.host!=="firestore.googleapis.com"&&h.host!==d&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),r.mockUserToken){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=tn.MOCK_USER;else{p=d1(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(_)}s._authCredentials=new ME(new F0(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(n,a,r){this.converter=a,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new xs(this.firestore,n,this._query)}}class vn{constructor(n,a,r){this.converter=a,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new vn(this.firestore,n,this._key)}}class ji extends xs{constructor(n,a,r){super(n,a,Ad(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new vn(this.firestore,null,new yt(n))}withConverter(n){return new ji(this.firestore,n,this._path)}}function ku(s,n,...a){if(s=Kn(s),Zv("collection","path",n),s instanceof pc){const r=oe.fromString(n,...a);return v0(r),new ji(s,null,r)}{if(!(s instanceof vn||s instanceof ji))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(n,...a));return v0(r),new ji(s.firestore,null,r)}}function Ua(s,n,...a){if(s=Kn(s),arguments.length===1&&(n=Y0.newId()),Zv("doc","path",n),s instanceof pc){const r=oe.fromString(n,...a);return y0(r),new vn(s,null,new yt(r))}{if(!(s instanceof vn||s instanceof ji))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(n,...a));return y0(r),new vn(s.firestore,s instanceof ji?s.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Nv(this,"async_queue_retry"),this.Vu=()=>{const r=Uf();r&&dt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=n;const a=Uf();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const a=Uf();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise((()=>{}));const a=new Oi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Pu.push(n),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(n){if(!Wl(n))throw n;dt("AsyncQueue","Operation failed with retryable error: "+n)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(n){const a=this.mu.then((()=>(this.du=!0,n().catch((r=>{this.Eu=r,this.du=!1;const o=(function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p})(r);throw qa("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=a,a}enqueueAfterDelay(n,a,r){this.fu(),this.Ru.indexOf(n)>-1&&(a=0);const o=Ud.createAndSchedule(this,n,a,r,(h=>this.yu(h)));return this.Tu.push(o),o}fu(){this.Eu&&bt()}verifyOperationInProgress(){}async wu(){let n;do n=this.mu,await n;while(n!==this.mu)}Su(n){for(const a of this.Tu)if(a.timerId===n)return!0;return!1}bu(n){return this.wu().then((()=>{this.Tu.sort(((a,r)=>a.targetTimeMs-r.targetTimeMs));for(const a of this.Tu)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.wu()}))}Du(n){this.Ru.push(n)}yu(n){const a=this.Tu.indexOf(n);this.Tu.splice(a,1)}}function E0(s){return(function(a,r){if(typeof a!="object"||a===null)return!1;const o=a;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class xr extends pc{constructor(n,a,r,o){super(n,a,r,o),this.type="firestore",this._queue=new b0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new b0(n),this._firestoreClient=void 0,await n}}}function gx(s,n){const a=typeof s=="object"?s:TE(),r=typeof s=="string"?s:"(default)",o=vE(a,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=h1("firestore");h&&mx(o,...h)}return o}function yc(s){if(s._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||px(s),s._firestoreClient}function px(s){var n,a,r;const o=s._freezeSettings(),h=(function(p,v,_,A){return new XE(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Xv(A.experimentalLongPollingOptions),A.useFetchStreams)})(s._databaseId,((n=s._app)===null||n===void 0?void 0:n.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((a=o.localCache)===null||a===void 0)&&a._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new ux(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&(function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Ar(Xe.fromBase64String(n))}catch(a){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new Ar(Xe.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Qt(this._lat,n._lat)||Qt(this._long,n._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,n._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=/^__.*__$/;class vx{constructor(n,a,r){this.data=n,this.fieldMask=a,this.fieldTransforms=r}toMutation(n,a){return this.fieldMask!==null?new ki(n,this.data,this.fieldMask,a,this.fieldTransforms):new eo(n,this.data,a,this.fieldTransforms)}}class Jv{constructor(n,a,r){this.data=n,this.fieldMask=a,this.fieldTransforms=r}toMutation(n,a){return new ki(n,this.data,this.fieldMask,a,this.fieldTransforms)}}function $v(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Gd{constructor(n,a,r,o,h,d){this.settings=n,this.databaseId=a,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.vu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Gd(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var a;const r=(a=this.path)===null||a===void 0?void 0:a.child(n),o=this.Fu({path:r,xu:!1});return o.Ou(n),o}Nu(n){var a;const r=(a=this.path)===null||a===void 0?void 0:a.child(n),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return ic(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return this.fieldMask.find((a=>n.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>n.isPrefixOf(a.field)))!==void 0}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(n.length===0)throw this.Bu("Document fields must not be empty");if($v(this.Cu)&&yx.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class _x{constructor(n,a,r){this.databaseId=n,this.ignoreUndefinedProperties=a,this.serializer=r||fc(n)}Qu(n,a,r,o=!1){return new Gd({Cu:n,methodName:a,qu:r,path:Ye.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(s){const n=s._freezeSettings(),a=fc(s._databaseId);return new _x(s._databaseId,!!n.ignoreUndefinedProperties,a)}function Wv(s,n,a,r,o,h={}){const d=s.Qu(h.merge||h.mergeFields?2:0,n,a,o);Fd("Data must be an object, but it was:",d,r);const p=t_(r,d);let v,_;if(h.merge)v=new Nn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const j=cd(n,D,a);if(!d.contains(j))throw new ht(J.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);n_(A,j)||A.push(j)}v=new Nn(A),_=d.fieldTransforms.filter((D=>v.covers(D.field)))}else v=null,_=d.fieldTransforms;return new vx(new yn(p),v,_)}class _c extends qd{_toFieldTransform(n){if(n.Cu!==2)throw n.Cu===1?n.Bu(`${this._methodName}() can only appear at the top level of your update data`):n.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof _c}}function bx(s,n,a,r){const o=s.Qu(1,n,a);Fd("Data must be an object, but it was:",o,r);const h=[],d=yn.empty();Es(r,((v,_)=>{const A=Yd(n,v,a);_=Kn(_);const D=o.Nu(A);if(_ instanceof _c)h.push(A);else{const j=so(_,D);j!=null&&(h.push(A),d.set(A,j))}}));const p=new Nn(h);return new Jv(d,p,o.fieldTransforms)}function Ex(s,n,a,r,o,h){const d=s.Qu(1,n,a),p=[cd(n,r,a)],v=[o];if(h.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<h.length;j+=2)p.push(cd(n,h[j])),v.push(h[j+1]);const _=[],A=yn.empty();for(let j=p.length-1;j>=0;--j)if(!n_(_,p[j])){const G=p[j];let $=v[j];$=Kn($);const it=d.Nu(G);if($ instanceof _c)_.push(G);else{const Q=so($,it);Q!=null&&(_.push(G),A.set(G,Q))}}const D=new Nn(_);return new Jv(A,D,d.fieldTransforms)}function Tx(s,n,a,r=!1){return so(a,s.Qu(r?4:3,n))}function so(s,n){if(e_(s=Kn(s)))return Fd("Unsupported field value:",n,s),t_(s,n);if(s instanceof qd)return(function(r,o){if(!$v(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,n),null;if(s===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),s instanceof Array){if(n.settings.xu&&n.Cu!==4)throw n.Bu("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let v=so(p,o.Lu(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,n)}return(function(r,o){if((r=Kn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yT(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Ie.fromDate(r);return{timestampValue:ec(o.serializer,h)}}if(r instanceof Ie){const h=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ec(o.serializer,h)}}if(r instanceof Pd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:_v(o.serializer,r._byteString)};if(r instanceof vn){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Cd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Hd)return(function(d,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Bu("VectorValues must only contain numeric values.");return Sd(p.serializer,v)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${gc(r)}`)})(s,n)}function t_(s,n){const a={};return K0(s)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Es(s,((r,o)=>{const h=so(o,n.Mu(r));h!=null&&(a[r]=h)})),{mapValue:{fields:a}}}function e_(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ie||s instanceof Pd||s instanceof Ar||s instanceof vn||s instanceof qd||s instanceof Hd)}function Fd(s,n,a){if(!e_(a)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(a)){const r=gc(a);throw r==="an object"?n.Bu(s+" a custom object"):n.Bu(s+" "+r)}}function cd(s,n,a){if((n=Kn(n))instanceof vc)return n._internalPath;if(typeof n=="string")return Yd(s,n);throw ic("Field path arguments must be of type string or ",s,!1,void 0,a)}const xx=new RegExp("[~\\*/\\[\\]]");function Yd(s,n,a){if(n.search(xx)>=0)throw ic(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new vc(...n.split("."))._internalPath}catch{throw ic(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function ic(s,n,a,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${n}() called with invalid data`;a&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ht(J.INVALID_ARGUMENT,p+s+v)}function n_(s,n){return s.some((a=>a.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(n,a,r,o,h){this._firestore=n,this._userDataWriter=a,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new Ax(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(Kd("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class Ax extends a_{data(){return super.data()}}function Kd(s,n){return typeof n=="string"?Yd(s,n):n instanceof vc?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xd{}class Sx extends Xd{}function wx(s,n,...a){let r=[];n instanceof Xd&&r.push(n),r=r.concat(a),(function(h){const d=h.filter((v=>v instanceof Zd)).length,p=h.filter((v=>v instanceof bc)).length;if(d>1||d>0&&p>0)throw new ht(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class bc extends Sx{constructor(n,a,r){super(),this._field=n,this._op=a,this._value=r,this.type="where"}static _create(n,a,r){return new bc(n,a,r)}_apply(n){const a=this._parse(n);return s_(n._query,a),new xs(n.firestore,n.converter,Wf(n._query,a))}_parse(n){const a=Qd(n.firestore);return(function(h,d,p,v,_,A,D){let j;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ht(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){x0(D,A);const G=[];for(const $ of D)G.push(T0(v,h,$));j={arrayValue:{values:G}}}else j=T0(v,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||x0(D,A),j=Tx(p,d,D,A==="in"||A==="not-in");return Ne.create(_,A,j)})(n._query,"where",a,n.firestore._databaseId,this._field,this._op,this._value)}}function Rx(s,n,a){const r=n,o=Kd("where",s);return bc._create(o,r,a)}class Zd extends Xd{constructor(n,a){super(),this.type=n,this._queryConstraints=a}static _create(n,a){return new Zd(n,a)}_parse(n){const a=this._queryConstraints.map((r=>r._parse(n))).filter((r=>r.getFilters().length>0));return a.length===1?a[0]:Xn.create(a,this._getOperator())}_apply(n){const a=this._parse(n);return a.getFilters().length===0?n:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)s_(d,v),d=Wf(d,v)})(n._query,a),new xs(n.firestore,n.converter,Wf(n._query,a)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(s,n,a){if(typeof(a=Kn(a))=="string"){if(a==="")throw new ht(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!av(n)&&a.indexOf("/")!==-1)throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const r=n.path.child(oe.fromString(a));if(!yt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hy(s,new yt(r))}if(a instanceof vn)return Hy(s,a._key);throw new ht(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gc(a)}.`)}function x0(s,n){if(!Array.isArray(s)||s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function s_(s,n){const a=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(n.op));if(a!==null)throw a===n.op?new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`):new ht(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${n.op.toString()}' filters with '${a.toString()}' filters.`)}class Nx{convertValue(n,a="none"){switch(bs(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Ee(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(_s(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 11:return this.convertObject(n.mapValue,a);case 10:return this.convertVectorValue(n.mapValue);default:throw bt()}}convertObject(n,a){return this.convertObjectMap(n.fields,a)}convertObjectMap(n,a="none"){const r={};return Es(n,((o,h)=>{r[o]=this.convertValue(h,a)})),r}convertVectorValue(n){var a,r,o;const h=(o=(r=(a=n.fields)===null||a===void 0?void 0:a.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((d=>Ee(d.doubleValue)));return new Hd(h)}convertGeoPoint(n){return new Pd(Ee(n.latitude),Ee(n.longitude))}convertArray(n,a){return(n.values||[]).map((r=>this.convertValue(r,a)))}convertServerTimestamp(n,a){switch(a){case"previous":const r=bd(n);return r==null?null:this.convertValue(r,a);case"estimate":return this.convertTimestamp(Ql(n));default:return null}}convertTimestamp(n){const a=Ui(n);return new Ie(a.seconds,a.nanos)}convertDocumentKey(n,a){const r=oe.fromString(n);$t(Sv(r));const o=new Fl(r.get(1),r.get(3)),h=new yt(r.popFirst(5));return o.isEqual(a)||qa(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(s,n,a){let r;return r=s?a&&(a.merge||a.mergeFields)?s.toFirestore(n,a):s.toFirestore(n):n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class l_ extends a_{constructor(n,a,r,o,h,d){super(n,a,r,o,d),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const r=this._document.data.field(Kd("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,a.serverTimestamps)}}}class Qu extends l_{data(n={}){return super.data(n)}}class o_{constructor(n,a,r,o){this._firestore=n,this._userDataWriter=a,this._snapshot=o,this.metadata=new Ul(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((r=>{n.call(a,new Qu(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Qu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ul(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Qu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ul(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Cx(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function Cx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}class Jd extends Nx{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ar(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new vn(this.firestore,null,a)}}function Dx(s){s=ka(s,xs);const n=ka(s.firestore,xr),a=yc(n),r=new Jd(n);return i_(s._query),fx(a,s._query).then((o=>new o_(n,r,s,o)))}function Bu(s,n,a){s=ka(s,vn);const r=ka(s.firestore,xr),o=r_(s.converter,n,a);return u_(r,[Wv(Qd(r),"setDoc",s._key,o,s.converter!==null,a).toMutation(s._key,qn.none())])}function kf(s,...n){var a,r,o;s=Kn(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof n[d]!="object"||E0(n[d])||(h=n[d],d++);const p={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(E0(n[d])){const D=n[d];n[d]=(a=D.next)===null||a===void 0?void 0:a.bind(D),n[d+1]=(r=D.error)===null||r===void 0?void 0:r.bind(D),n[d+2]=(o=D.complete)===null||o===void 0?void 0:o.bind(D)}let v,_,A;if(s instanceof vn)_=ka(s.firestore,xr),A=Ad(s._key.path),v={next:D=>{n[d]&&n[d](Ix(_,s,D))},error:n[d+1],complete:n[d+2]};else{const D=ka(s,xs);_=ka(D.firestore,xr),A=D._query;const j=new Jd(_);v={next:G=>{n[d]&&n[d](new o_(_,j,D,G))},error:n[d+1],complete:n[d+2]},i_(s._query)}return(function(j,G,$,it){const Q=new Yv(it),rt=new Lv(G,Q,$);return j.asyncQueue.enqueueAndForget((async()=>zv(await ud(j),rt))),()=>{Q.Za(),j.asyncQueue.enqueueAndForget((async()=>Uv(await ud(j),rt)))}})(yc(_),A,p,v)}function u_(s,n){return(function(r,o){const h=new Oi;return r.asyncQueue.enqueueAndForget((async()=>ex(await hx(r),o,h))),h.promise})(yc(s),n)}function Ix(s,n,a){const r=a.docs.get(n._key),o=new Jd(s);return new l_(s,o,n._key,r,new Ul(a.hasPendingWrites,a.fromCache),n.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(n,a){this._firestore=n,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Qd(n)}set(n,a,r){this._verifyNotCommitted();const o=Bf(n,this._firestore),h=r_(o.converter,a,r),d=Wv(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,qn.none())),this}update(n,a,r,...o){this._verifyNotCommitted();const h=Bf(n,this._firestore);let d;return d=typeof(a=Kn(a))=="string"||a instanceof vc?Ex(this._dataReader,"WriteBatch.update",h._key,a,r,o):bx(this._dataReader,"WriteBatch.update",h._key,a),this._mutations.push(d.toMutation(h._key,qn.exists(!0))),this}delete(n){this._verifyNotCommitted();const a=Bf(n,this._firestore);return this._mutations=this._mutations.concat(new wd(a._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bf(s,n){if((s=Kn(s)).firestore!==n)throw new ht(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(s){return yc(s=ka(s,xr)),new Vx(s,(n=>u_(s,n)))}(function(n,a=!0){(function(o){Rr=o})(EE),Xu(new Pl("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new xr(new OE(r.getProvider("auth-internal")),new LE(r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,A)})(d,o),d);return h=Object.assign({useFetchStreams:a},h),p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),gr(Ly,"4.7.3",n),gr(Ly,"4.7.3","esm2017")})();const c_=["Imbituba","Laguna","Tubaro","Cricima"],Mx=["Salo da igreja","Sala de msica","Espao infantil","Outro"],Ox=[{id:"c1",name:"Santa Barbara - Cricima",adm:"Cricima"},{id:"c2",name:"Mina do Toco - Cricima",adm:"Cricima"},{id:"c3",name:"Monte Castelo - Cricima",adm:"Cricima"},{id:"c4",name:"Nossa Senhora da Salete - Cricima",adm:"Cricima"},{id:"c5",name:"Pinheirinho - Cricima",adm:"Cricima"},{id:"c6",name:"Quarta Linha - Cricima",adm:"Cricima"},{id:"c7",name:"So Jos - Rio Maina - Cricima",adm:"Cricima"},{id:"c8",name:"So Sebastio - Cricima",adm:"Cricima"},{id:"c9",name:"Vila Manaus - Cricima",adm:"Cricima"},{id:"c10",name:"Coloninha - Ararangu",adm:"Cricima"},{id:"c11",name:"Jardim Sibele - Ararangu",adm:"Cricima"},{id:"c12",name:"Mato Alto - Ararangu",adm:"Cricima"},{id:"c13",name:"Mangueirinha - Balnerio Arroio do Silva",adm:"Cricima"},{id:"c14",name:"Centro - Balnerio Rinco",adm:"Cricima"},{id:"c15",name:"Jardim Elizabete - Cocal do Sul",adm:"Cricima"},{id:"c16",name:"Saturno - Forquilhinha",adm:"Cricima"},{id:"c17",name:"Raichask - Iara",adm:"Cricima"},{id:"c18",name:"Urussangua Velha - Iara",adm:"Cricima"},{id:"c19",name:"Vila Nova - Iara",adm:"Cricima"},{id:"c20",name:"Centro - Jacinto Machado",adm:"Cricima"},{id:"c21",name:"Vila Beatriz - Maracaj",adm:"Cricima"},{id:"c22",name:"Centro - Morro da Fumaa",adm:"Cricima"},{id:"c23",name:"Estao Cocal - Morro da Fumaa",adm:"Cricima"},{id:"c24",name:"Caravaggio - Nova Veneza",adm:"Cricima"},{id:"c25",name:"Progresso - Passo de Torres",adm:"Cricima"},{id:"c26",name:"Alvorada - Praia Grande",adm:"Cricima"},{id:"c27",name:"Rodovia SC-443 - KM 2 - Sango",adm:"Cricima"},{id:"c28",name:"Parque Rosita - Santa Rosa do Sul",adm:"Cricima"},{id:"c29",name:"So Cristvo - Santa Rosa do Sul",adm:"Cricima"},{id:"c30",name:"Vila Nova - Santa Rosa do Sul",adm:"Cricima"},{id:"c31",name:"Centro - Siderpolis",adm:"Cricima"},{id:"c32",name:"Vila Nova Braslia - Sombrio",adm:"Cricima"},{id:"c33",name:"Januria - Sombrio",adm:"Cricima"},{id:"c34",name:"Vila So Francisco - Sombrio",adm:"Cricima"},{id:"c35",name:"So Luiz - Timb do Sul",adm:"Cricima"},{id:"c36",name:"Vila Esperana - Treviso",adm:"Cricima"},{id:"c37",name:"Vila Manentti - Turvo",adm:"Cricima"},{id:"c38",name:"De Villa - Urussangua",adm:"Cricima"},{id:"i1",name:"Vila Nova - Imbituba",adm:"Imbituba"},{id:"i2",name:"Alto Arroio - Imbituba",adm:"Imbituba"},{id:"i3",name:"Guaiuba - Imbituba",adm:"Imbituba"},{id:"i4",name:"Ibiraquera - Imbituba",adm:"Imbituba"},{id:"i5",name:"Roa Grande - Imbituba",adm:"Imbituba"},{id:"i6",name:"Vila Nova Alvorada (Divinia) - Imbituba",adm:"Imbituba"},{id:"i7",name:"Areias de Palhocinha - Garopaba",adm:"Imbituba"},{id:"i8",name:"Campo D'una - Garopaba",adm:"Imbituba"},{id:"i9",name:"Centro - Imaru",adm:"Imbituba"},{id:"i10",name:"Canguiri de Fora - Imaru",adm:"Imbituba"},{id:"i11",name:"Fazenda Rio das Garas - Imaru",adm:"Imbituba"},{id:"i12",name:"Laranjal - Imaru",adm:"Imbituba"},{id:"l1",name:"Bentos - Laguna",adm:"Laguna"},{id:"l2",name:"Cabeudas - Laguna",adm:"Laguna"},{id:"l3",name:"Campos Novos - Laguna",adm:"Laguna"},{id:"l4",name:"Central - Laguna",adm:"Laguna"},{id:"l5",name:"Cigana - Laguna",adm:"Laguna"},{id:"l6",name:"Farol de Santa Marta - Laguna",adm:"Laguna"},{id:"l7",name:"Mar Grosso - Laguna",adm:"Laguna"},{id:"l8",name:"Morro Grande - Laguna",adm:"Laguna"},{id:"l9",name:"Portinho - Laguna",adm:"Laguna"},{id:"l10",name:"Ribeiro Pequeno - Laguna",adm:"Laguna"},{id:"l11",name:"KM 37 - Pescaria Brava",adm:"Laguna"},{id:"l12",name:"Ponta das Laranjeiras - Pescaria Brava",adm:"Laguna"},{id:"t1",name:"Andrino - Tubaro",adm:"Tubaro"},{id:"t2",name:"Bela Vista - Brao do Norte",adm:"Tubaro"},{id:"t3",name:"Bom Pastor - Tubaro",adm:"Tubaro"},{id:"t4",name:"Camacho - Jaguaruna",adm:"Tubaro"},{id:"t5",name:"Caruru - Tubaro",adm:"Tubaro"},{id:"t6",name:"Central - Tubaro",adm:"Tubaro"},{id:"t7",name:"Centro - Bom Jardim da Serra",adm:"Tubaro"},{id:"t8",name:"Centro - Capivari de Baixo",adm:"Tubaro"},{id:"t9",name:"Centro - Gro Par",adm:"Tubaro"},{id:"t10",name:"Centro - Jaguaruna",adm:"Tubaro"},{id:"t11",name:"Centro - Lauro Muller",adm:"Tubaro"},{id:"t12",name:"Centro - Treze de Maio",adm:"Tubaro"},{id:"t13",name:"Comasa - Tubaro",adm:"Tubaro"},{id:"t14",name:"Copa - Jaguaruna",adm:"Tubaro"},{id:"t15",name:"Encosta do Sol - So Ludgero",adm:"Tubaro"},{id:"t16",name:"Estiva - Pescaria Brava",adm:"Tubaro"},{id:"t17",name:"Fabio Silva - Tubaro",adm:"Tubaro"},{id:"t18",name:"Guarda ME - Tubaro",adm:"Tubaro"},{id:"t19",name:"Guat - Lauro Muller",adm:"Tubaro"},{id:"t20",name:"Humait Centro - Tubaro",adm:"Tubaro"},{id:"t21",name:"Humait de Cima - Tubaro",adm:"Tubaro"},{id:"t22",name:"Ilhota - Pedras Grandes",adm:"Tubaro"},{id:"t23",name:"Indaial - Gravatal",adm:"Tubaro"},{id:"t24",name:"KM 63 - Tubaro",adm:"Tubaro"},{id:"t25",name:"Mato Alto - Tubaro",adm:"Tubaro"},{id:"t26",name:"Pedrinhas - Pedras Grandes",adm:"Tubaro"},{id:"t27",name:"So Cristvo - Tubaro",adm:"Tubaro"},{id:"t28",name:"So Geronimo - Orleans",adm:"Tubaro"},{id:"t29",name:"So Martinho - Tubaro",adm:"Tubaro"},{id:"t30",name:"So Martinho - So Martinho",adm:"Tubaro"},{id:"t31",name:"So Sebastio - Treze de Maio",adm:"Tubaro"},{id:"t32",name:"Serto dos Correias - Tubaro",adm:"Tubaro"},{id:"t33",name:"Serto dos Medeiros - Gravatal",adm:"Tubaro"},{id:"t34",name:"Termas do Gravatal - Gravatal",adm:"Tubaro"},{id:"t35",name:"Varzea das Canoas - Gravatal",adm:"Tubaro"},{id:"t36",name:"Vila So Francisco - Armazem",adm:"Tubaro"}];/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,r)=>r?r.toUpperCase():a.toLowerCase()),S0=s=>{const n=zx(s);return n.charAt(0).toUpperCase()+n.slice(1)},h_=(...s)=>s.filter((n,a,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===a).join(" ").trim(),Ux=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Dt.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...p},v)=>Dt.createElement("svg",{ref:v,...Lx,width:n,height:n,stroke:s,strokeWidth:r?Number(a)*24/Number(n):a,className:h_("lucide",o),...!h&&!Ux(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Dt.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(s,n)=>{const a=Dt.forwardRef(({className:r,...o},h)=>Dt.createElement(kx,{ref:h,iconNode:n,className:h_(`lucide-${jx(S0(s))}`,`lucide-${s}`,r),...o}));return a.displayName=S0(s),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qx=ue("arrow-right",Bx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],f_=ue("calendar",Px);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],w0=ue("chart-column",Hx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fu=ue("chevron-right",Gx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$d=ue("circle-alert",Qx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Yx=ue("circle-check",Fx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xx=ue("circle-question-mark",Kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jx=ue("download",Zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hd=ue("file-text",$x);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],tA=ue("funnel-x",Wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],sc=ue("history",eA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aA=ue("house",nA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],d_=ue("lock",iA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rA=ue("map-pin",sA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["path",{d:"m9 9 12-2",key:"1e64n2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Zl=ue("music-4",lA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],fd=ue("pencil",oA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dd=ue("plus",uA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],m_=ue("save",cA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sr=ue("search",hA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jl=ue("trash-2",fA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mA=ue("trash",dA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pA=ue("triangle-alert",gA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vA=ue("user",yA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],R0=ue("wrench",_A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],La=ue("x",bA),EA=({isAdmPending:s,onSelectAdm:n,onOpenReports:a})=>b.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c_.map(r=>{const o=s(r);return b.jsxs("button",{onClick:()=>n(r),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden ${o?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[o&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx($d,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx(Zl,{size:32,className:o?"text-red-500":"text-sky-300 group-hover:text-sky-400"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:r})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx(Zl,{size:140,className:"text-sky-200"})})]},r)}),b.jsxs("button",{onClick:a,className:"relative group bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-700 transition-all hover:shadow-2xl hover:bg-slate-900 hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden",children:[b.jsx("div",{className:"p-4 bg-slate-700 rounded-2xl w-fit border border-slate-600 group-hover:bg-indigo-600 transition-colors",children:b.jsx(w0,{size:32,className:"text-indigo-300"})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-bold text-white",children:"Relatrios Gerais"}),b.jsxs("div",{className:"flex items-center gap-1 text-indigo-400 text-xs font-bold uppercase tracking-wider",children:["Visualizar Registros",b.jsx(Fu,{size:14})]})]}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-10 pointer-events-none group-hover:opacity-20 transition-opacity",children:b.jsx(w0,{size:160,className:"text-white"})})]})]})}),TA=({adm:s,state:n,isLocationPending:a,onSelectLocation:r})=>{const[o,h]=Dt.useState(""),p=n.locations.filter(v=>v.adm===s).filter(v=>v.name.toLowerCase().includes(o.toLowerCase()));return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:s}),b.jsxs("div",{className:"max-w-md mx-auto relative group",children:[b.jsx(Sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar localidade...",value:o,onChange:v=>h(v.target.value),className:"w-full pl-12 pr-12 py-4 bg-white border border-slate-200 rounded-2xl shadow-sm outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-slate-700"}),o&&b.jsx("button",{onClick:()=>h(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1",children:b.jsx(La,{size:16})})]})]}),p.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Sr,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhuma localidade encontrada"}),b.jsx("p",{className:"text-slate-500",children:"Tente ajustar sua pesquisa ou verifique se o nome est correto."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(v=>{const _=a(v.id);return b.jsxs("button",{onClick:()=>r(v.id),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-56 overflow-hidden ${_?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[_&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx($d,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx(Zl,{size:32,className:_?"text-red-500":"text-sky-300 group-hover:text-sky-400"})}),b.jsx("div",{children:b.jsx("h3",{className:`text-xl font-bold ${_?"text-red-600":"text-slate-800"}`,children:v.name})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx(Zl,{size:120,className:"text-sky-200"})})]},v.id)})})]})},xA=({locationId:s,state:n,isMaintenancePending:a,onRegisterOrgan:r,onEditOrgan:o,onDeleteOrgan:h,onEditMaintenance:d,onDeleteMaintenance:p,onRegisterMaintenance:v})=>{const[_,A]=Dt.useState(""),[D,j]=Dt.useState(null),[G,$]=Dt.useState(null),it=n.locations.find(q=>q.id===s),Q=n.organs.filter(q=>q.locationId===s),rt=Q.filter(q=>q.model.toLowerCase().includes(_.toLowerCase())||q.serialNumber.toLowerCase().includes(_.toLowerCase())||q.patrimonyNumber.toLowerCase().includes(_.toLowerCase()));if(!it)return null;const ot=Q.filter(q=>a(q.id)).length,ut=Q.length>0,nt=n.organs.find(q=>q.id===D),Ut=n.maintenances.filter(q=>q.organId===D).sort((q,S)=>new Date(S.date).getTime()-new Date(q.date).getTime());return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:it.name}),b.jsx("p",{className:"text-slate-500 mt-1",children:"rgos cadastrados nesta localidade"})]}),b.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:-translate-y-0.5 border border-blue-500",children:[b.jsx(dd,{size:20,className:"text-sky-100"}),"Cadastrar Novo rgo"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:"rgos Locais"}),b.jsx("div",{className:"text-5xl font-black text-slate-800 mt-1",children:Q.length})]}),b.jsxs("div",{className:`p-6 rounded-3xl border shadow-sm transition-colors duration-300 ${ut?ot>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[b.jsx("span",{className:`${ut?ot>0?"text-red-400":"text-green-400":"text-slate-400"} text-xs font-black uppercase tracking-widest`,children:"Status Manuteno"}),b.jsx("div",{className:`mt-1 font-black leading-tight ${ut?"text-5xl "+(ot>0?"text-red-600":"text-green-600"):"text-xl text-slate-400 py-2"}`,children:ut?ot===0?"Ok":ot:"Nenhum rgo cadastrado"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex flex-col justify-center",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Busca Rpida"}),b.jsxs("div",{className:"relative group",children:[b.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:18}),b.jsx("input",{type:"text",placeholder:"Modelo, N Srie ou N Patrimnio...",value:_,onChange:q=>A(q.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-sm text-slate-700"}),_&&b.jsx("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(La,{size:14})})]})]})]}),b.jsx("div",{className:"space-y-6",children:ut?rt.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Sr,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhum rgo corresponde  busca"}),b.jsx("p",{className:"text-slate-500",children:"Tente buscar por modelo, nmero de srie ou patrimnio."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:rt.map(q=>{const S=a(q.id);return b.jsxs("div",{className:`relative group bg-white p-6 rounded-3xl border transition-all hover:shadow-md flex flex-col ${S?"border-red-200 bg-red-50/20":"border-slate-200"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:q.churchLocation}),b.jsx("h5",{className:`text-xl font-bold leading-tight ${S?"text-red-700":"text-slate-800"}`,children:q.model})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>j(q.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 transition-all",title:"Ver Histrico",children:b.jsx(sc,{size:14})}),b.jsx("button",{onClick:()=>o(q.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover:opacity-100",title:"Editar Cadastro",children:b.jsx(fd,{size:14})}),b.jsx("button",{onClick:()=>h(q.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover:opacity-100",title:"Excluir rgo",children:b.jsx(Jl,{size:14})})]})]}),b.jsxs("div",{className:"mb-4 text-xs space-y-0.5",children:[b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:q.serialNumber})]}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:q.patrimonyNumber})]})]}),b.jsx("div",{className:"mb-6 flex items-center gap-2",children:S?b.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-[10px] font-black uppercase flex items-center gap-1 shadow-sm border border-red-600",children:[b.jsx(pA,{size:10,className:"text-white"}),"Pendente"]}):b.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase flex items-center gap-1 border border-green-200",children:[b.jsx(Yx,{size:10,className:"text-green-500"}),"Ok"]})}),b.jsx("div",{className:"mt-auto",children:b.jsxs("button",{onClick:()=>v(q.id),className:`w-full flex items-center justify-center gap-2 py-3 rounded-2xl text-sm font-bold transition-all border ${S?"bg-red-600 text-white hover:bg-red-700 shadow-md shadow-red-100 border-red-500":"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200"}`,children:[b.jsx(R0,{size:16,className:S?"text-white":"text-sky-300"}),"Registrar Manuteno"]})})]},q.id)})}):b.jsxs("div",{className:"bg-slate-100 rounded-3xl p-12 text-center border border-dashed border-slate-300",children:[b.jsx("div",{className:"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 shadow-sm border border-slate-200",children:b.jsx(Zl,{size:48,className:"text-sky-300"})}),b.jsx("h4",{className:"text-xl font-bold text-slate-400",children:"Nenhum instrumento aqui"}),b.jsx("p",{className:"text-slate-400 mt-1",children:"Utilize o boto acima para cadastrar o primeiro rgo desta localidade."})]})}),G&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-lg animate-in fade-in duration-300",onClick:()=>$(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[b.jsx("button",{onClick:()=>$(null),className:"absolute -top-4 -right-4 z-10 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",title:"Fechar",children:b.jsx(La,{size:24})}),b.jsx("img",{src:G,alt:"Visualizao Ampliada",className:"object-contain max-w-full max-h-full rounded-2xl shadow-2xl animate-in zoom-in-90 duration-300",onClick:q=>q.stopPropagation()})]})}),D&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] rounded-[40px] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center",children:b.jsx(sc,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-900 leading-tight",children:"Histrico de Manuteno"}),b.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:[nt==null?void 0:nt.model,"  N Patrimnio: ",nt==null?void 0:nt.patrimonyNumber]})]})]}),b.jsx("button",{onClick:()=>j(null),className:"w-10 h-10 bg-white border border-slate-200 text-slate-400 rounded-full flex items-center justify-center hover:bg-slate-50 transition-colors shadow-sm",children:b.jsx(La,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:Ut.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-dashed border-slate-200",children:b.jsx(f_,{size:32,className:"text-slate-300"})}),b.jsx("p",{className:"text-slate-400 font-bold",children:"Nenhum registro encontrado"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Este instrumento ainda no possui histrico de servios."})]}):Ut.map(q=>b.jsxs("div",{className:"relative p-6 bg-white border border-slate-200 rounded-3xl shadow-sm hover:shadow-md transition-shadow group/item",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest leading-none",children:"Data"}),b.jsx("span",{className:"text-lg font-bold text-slate-800",children:new Date(q.date).toLocaleDateString("pt-BR")})]})}),b.jsxs("div",{className:"flex gap-1",children:[b.jsxs("button",{onClick:()=>{j(null),d(q.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(fd,{size:14}),"Editar"]}),b.jsxs("button",{onClick:()=>{j(null),p(q.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(Jl,{size:14}),"Excluir"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(vA,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Tcnicos:"}),b.jsx("span",{className:"text-slate-800 font-bold",children:q.technicians.join(" & ")})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(R0,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Peas Trocadas:"}),b.jsx("span",{className:`font-bold ${q.hasPartExchange?"text-amber-600":"text-slate-800"}`,children:q.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(hd,{size:14,className:"text-slate-400"}),b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ocorrncia"})]}),b.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed italic",children:['"',q.occurrence,'"']})]}),q.photos.length>0&&b.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:q.photos.map((S,x)=>b.jsx("img",{src:S,onClick:()=>$(S),className:"w-16 h-16 object-cover rounded-xl border-2 border-white shadow-lg cursor-pointer transition-transform hover:scale-110 hover:shadow-md",alt:`Thumbnail ${x+1}`},x))})]},q.id))}),b.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-center",children:b.jsxs("button",{onClick:()=>{j(null),v(D)},className:"px-8 py-3 bg-indigo-600 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[b.jsx(dd,{size:18}),"Novo Registro Agora"]})})]})}),G&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>$(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] rounded-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[b.jsx("img",{src:G,alt:"Visualizao Ampliada",className:"w-full h-full object-contain"}),b.jsx("button",{onClick:()=>$(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:b.jsx(La,{size:20})})]})}),G&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>$(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full",onClick:q=>q.stopPropagation(),children:[b.jsx("img",{src:G,alt:"Visualizao Ampliada",className:"object-contain w-full h-full"}),b.jsx("button",{onClick:()=>$(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:b.jsx(La,{size:20})})]})})]})},Qe=[];for(let s=0;s<256;++s)Qe.push((s+256).toString(16).slice(1));function AA(s,n=0){return(Qe[s[n+0]]+Qe[s[n+1]]+Qe[s[n+2]]+Qe[s[n+3]]+"-"+Qe[s[n+4]]+Qe[s[n+5]]+"-"+Qe[s[n+6]]+Qe[s[n+7]]+"-"+Qe[s[n+8]]+Qe[s[n+9]]+"-"+Qe[s[n+10]]+Qe[s[n+11]]+Qe[s[n+12]]+Qe[s[n+13]]+Qe[s[n+14]]+Qe[s[n+15]]).toLowerCase()}let qf;const SA=new Uint8Array(16);function wA(){if(!qf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qf=crypto.getRandomValues.bind(crypto)}return qf(SA)}const RA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),N0={randomUUID:RA};function NA(s,n,a){var o;s=s||{};const r=s.random??((o=s.rng)==null?void 0:o.call(s))??wA();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,AA(r)}function g_(s,n,a){return N0.randomUUID&&!s?N0.randomUUID():NA(s)}const CA=({locationId:s,locations:n,initialData:a,onSubmit:r,onCancel:o})=>{const[h,d]=Dt.useState({churchLocation:"Salo da igreja",model:"",serialNumber:"",patrimonyNumber:""});Dt.useEffect(()=>{a&&d({churchLocation:a.churchLocation,model:a.model,serialNumber:a.serialNumber,patrimonyNumber:a.patrimonyNumber})},[a]);const p=n.find(_=>_.id===((a==null?void 0:a.locationId)||s)),v=_=>{_.preventDefault();const A={id:(a==null?void 0:a.id)||g_(),locationId:(a==null?void 0:a.locationId)||s,...h,createdAt:(a==null?void 0:a.createdAt)||new Date().toISOString()};r(A)};return b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:a?"Editar Instrumento":"Cadastro de Instrumento"}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["Localidade: ",b.jsx("span",{className:"text-blue-600 font-bold",children:p==null?void 0:p.name})]})]}),b.jsxs("form",{onSubmit:v,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Posio no Local"}),b.jsx("select",{value:h.churchLocation,onChange:_=>d({...h,churchLocation:_.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner",children:Mx.map(_=>b.jsx("option",{value:_,children:_},_))})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Modelo do rgo"}),b.jsx("input",{type:"text",value:h.model,onChange:_=>d({...h,model:_.target.value}),placeholder:"Ex: Tokai MD-10, Minuetto...",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Srie"}),b.jsx("input",{type:"text",value:h.serialNumber,onChange:_=>d({...h,serialNumber:_.target.value}),placeholder:"Cdigo do fabricante",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Patrimnio"}),b.jsx("input",{type:"text",value:h.patrimonyNumber,onChange:_=>d({...h,patrimonyNumber:_.target.value}),placeholder:"Cdigo de controle",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-6 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-blue-100 border border-blue-500",children:[b.jsx(m_,{size:20,className:"text-blue-100"}),a?"Salvar Alteraes":"Finalizar Cadastro"]}),b.jsxs("button",{type:"button",onClick:o,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(La,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})},DA=({organs:s,locations:n,initialOrganId:a,initialData:r,onSubmit:o,onCancel:h})=>{const[d,p]=Dt.useState({organId:a||"",date:new Date().toISOString().split("T")[0],technician1:"",technician2:"",occurrence:"",hasPartExchange:!1}),[v,_]=Dt.useState({description:"",reason:"",observation:""}),[A,D]=Dt.useState([]);Dt.useEffect(()=>{r?(p({organId:r.organId,date:r.date,technician1:r.technicians[0]||"",technician2:r.technicians[1]||"",occurrence:r.occurrence,hasPartExchange:r.hasPartExchange}),r.partExchangeDetails&&_(r.partExchangeDetails),D(r.photos||[])):a&&p(Q=>({...Q,organId:a}))},[a,r]);const j=Q=>new Promise(rt=>{const ot=new Image;ot.src=URL.createObjectURL(Q),ot.onload=()=>{const ut=document.createElement("canvas"),nt=800,Ut=nt/ot.width;ut.width=nt,ut.height=ot.height*Ut;const q=ut.getContext("2d");q?(q.drawImage(ot,0,0,ut.width,ut.height),rt(ut.toDataURL("image/jpeg",.7))):rt(ot.src)},ot.onerror=()=>{rt(ot.src)}}),G=async Q=>{const rt=Q.target.files;if(rt){const ot=10-A.length;if(ot<=0){alert("Limite mximo de 10 fotos atingido.");return}const ut=Array.from(rt).slice(0,ot);rt.length>ot&&alert(`Apenas as primeiras ${ot} fotos sero adicionadas para respeitar o limite de 10.`),ut.forEach(async nt=>{const Ut=await j(nt);D(q=>q.length>=10?q:[...q,Ut])})}},$=Q=>{D(rt=>rt.filter((ot,ut)=>ut!==Q))},it=Q=>{if(Q.preventDefault(),!d.organId)return alert("Selecione um rgo");const rt=[d.technician1,d.technician2].filter(ut=>ut!==""),ot={id:(r==null?void 0:r.id)||g_(),organId:d.organId,date:d.date,technicians:rt,occurrence:d.occurrence,hasPartExchange:d.hasPartExchange,partExchangeDetails:d.hasPartExchange?v:void 0,photos:A};o(ot)};return b.jsxs("div",{className:"bg-white p-8 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:r?"Editar Manuteno":"Registrar Manuteno"}),b.jsx("p",{className:"text-slate-500 font-medium",children:"Preencha os dados tcnicos do atendimento"})]}),b.jsxs("form",{onSubmit:it,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"rgo Alvo"}),b.jsxs("select",{value:d.organId,onChange:Q=>p({...d,organId:Q.target.value}),required:!0,disabled:!!r,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner disabled:opacity-50",children:[b.jsx("option",{value:"",children:"Selecione o rgo..."}),s.map(Q=>{const rt=n.find(ot=>ot.id===Q.locationId);return b.jsxs("option",{value:Q.id,children:[Q.model," - ",rt==null?void 0:rt.adm," (",rt==null?void 0:rt.name,") - N Patrimnio: ",Q.patrimonyNumber]},Q.id)})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Data do Servio"}),b.jsx("input",{type:"date",value:d.date,onChange:Q=>p({...d,date:Q.target.value}),required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 1"}),b.jsx("input",{type:"text",value:d.technician1,onChange:Q=>p({...d,technician1:Q.target.value}),required:!0,placeholder:"Nome completo",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 2"}),b.jsx("input",{type:"text",value:d.technician2,onChange:Q=>p({...d,technician2:Q.target.value}),placeholder:"Opcional",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ocorrncia Detalhada"}),b.jsx("textarea",{value:d.occurrence,onChange:Q=>p({...d,occurrence:Q.target.value}),required:!0,rows:4,placeholder:"Descreva o servio executado...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsx("div",{className:"md:col-span-2",children:b.jsxs("label",{className:"flex items-center gap-3 cursor-pointer select-none bg-slate-50 p-4 rounded-2xl border border-slate-100 shadow-inner hover:bg-slate-100 transition-colors",children:[b.jsx("input",{type:"checkbox",checked:d.hasPartExchange,onChange:Q=>p({...d,hasPartExchange:Q.target.checked}),className:"w-6 h-6 rounded-lg text-blue-600 focus:ring-blue-500 border border-slate-300"}),b.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Houve troca de peas ou componentes?"})]})}),d.hasPartExchange&&b.jsxs("div",{className:"md:col-span-2 p-8 bg-blue-50/50 rounded-3xl border border-blue-100 space-y-5 animate-in slide-in-from-top-4 duration-300",children:[b.jsx("h4",{className:"font-black text-blue-800 uppercase tracking-widest text-xs",children:"Especificao da Troca"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Pea(s) Substituda(s)"}),b.jsx("input",{type:"text",value:v.description,onChange:Q=>_({...v,description:Q.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Motivo"}),b.jsx("input",{type:"text",value:v.reason,onChange:Q=>_({...v,reason:Q.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Observaes Extras"}),b.jsx("input",{type:"text",value:v.observation,onChange:Q=>_({...v,observation:Q.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Evidncias Fotogrficas"}),b.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${A.length===10?"text-red-500":"text-slate-400"}`,children:[A.length," / 10 fotos"]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[A.map((Q,rt)=>b.jsxs("div",{className:"relative group",children:[b.jsx("img",{src:Q,alt:`Upload ${rt}`,className:"w-24 h-24 object-cover rounded-2xl border-2 border-white shadow-md transition-transform hover:scale-105"}),b.jsx("button",{type:"button",onClick:()=>$(rt),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg border border-red-600",children:b.jsx(Jl,{size:12,className:"text-white"})})]},rt)),A.length<10&&b.jsxs("label",{className:"w-24 h-24 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 rounded-2xl cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all text-slate-400 bg-slate-50 shadow-inner",children:[b.jsx(dd,{size:24,className:"text-sky-300"}),b.jsx("span",{className:"text-[10px] font-black uppercase mt-1",children:"Add Foto"}),b.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:G})]})]}),b.jsx("p",{className:"mt-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest italic",children:"Mximo 10 fotos por atendimento"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-8 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",className:"flex-1 bg-green-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-green-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-green-100 border border-green-500",children:[b.jsx(m_,{size:20,className:"text-white"}),r?"Atualizar Registro":"Gravar Manuteno"]}),b.jsxs("button",{type:"button",onClick:h,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(La,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})},IA=({state:s,isMaintenancePending:n,onEditMaintenance:a,onDeleteMaintenance:r,isHistoryAuthorized:o,onRequestHistoryAccess:h})=>{const[d,p]=Dt.useState("maintenances"),[v,_]=Dt.useState("all"),[A,D]=Dt.useState("all"),[j,G]=Dt.useState(""),[$,it]=Dt.useState(""),Q=Dt.useMemo(()=>v==="all"?s.locations:s.locations.filter(q=>q.adm===v),[v,s.locations]),rt=Dt.useMemo(()=>s.maintenances.filter(q=>{const S=s.organs.find(R=>R.id===q.organId);if(!S)return!1;const x=s.locations.find(R=>R.id===S.locationId);if(!x)return!1;const w=v==="all"||x.adm===v,N=A==="all"||x.id===A,I=!j||q.date>=j,O=!$||q.date<=$;return w&&N&&I&&O}).sort((q,S)=>S.date.localeCompare(q.date)),[s.maintenances,s.organs,s.locations,v,A,j,$]),ot=Dt.useMemo(()=>s.deletedItems.filter(q=>{var O,R,Xt;const S=v==="all"||((O=q.metadata)==null?void 0:O.adm)===v,x=A==="all"||((R=s.locations.find(ie=>ie.id===A))==null?void 0:R.name)===((Xt=q.metadata)==null?void 0:Xt.locationName),w=q.deletedAt.split("T")[0],N=!j||w>=j,I=!$||w<=$;return S&&x&&N&&I}).sort((q,S)=>S.deletedAt.localeCompare(q.deletedAt)),[s.deletedItems,v,A,j,$,s.locations]),ut=()=>{_("all"),D("all"),G(""),it("")},nt=()=>{const q=d==="maintenances"?rt:ot;if(d==="maintenances"){const S=["Data","Instrumento","N Patrimnio","ADM","Local","Tcnicos","Ocorrncia"],x=q.map(N=>{const I=s.organs.find(R=>R.id===N.organId),O=s.locations.find(R=>R.id===(I==null?void 0:I.locationId));return[N.date,(I==null?void 0:I.model)||"",(I==null?void 0:I.patrimonyNumber)||"",(O==null?void 0:O.adm)||"",(O==null?void 0:O.name)||"",N.technicians.join(" & "),N.occurrence.replace(/,/g,";")]}),w=[S,...x].map(N=>N.join(",")).join(`
`);Ut(w,"relatorio_manutencao.csv")}else{const S=["Data Excluso","Tipo","Instrumento/Info","N Patrimnio","ADM","Local","Motivo"],x=q.map(N=>{var Xt,ie;const I=N.type==="organ",O=I?N.data.model:`Manuteno de ${N.data.date}`,R=I?N.data.patrimonyNumber:"";return[new Date(N.deletedAt).toLocaleString("pt-BR"),N.type==="organ"?"rgo":"Manuteno",O,R,((Xt=N.metadata)==null?void 0:Xt.adm)||"",((ie=N.metadata)==null?void 0:ie.locationName)||"",N.reason.replace(/,/g,";")]}),w=[S,...x].map(N=>N.join(",")).join(`
`);Ut(w,"historico_exclusoes.csv")}},Ut=(q,S)=>{const x=new Blob([q],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),N=URL.createObjectURL(x);w.setAttribute("href",N),w.setAttribute("download",S),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex p-1 bg-slate-200/50 rounded-2xl w-fit",children:[b.jsxs("button",{onClick:()=>p("maintenances"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="maintenances"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(hd,{size:18,className:d==="maintenances"?"text-blue-500":"text-slate-400"}),"Atendimentos Ativos"]}),b.jsxs("button",{onClick:()=>{o?p("deleted"):h()},className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="deleted"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o?b.jsx(sc,{size:18,className:"text-red-500"}):b.jsx(d_,{size:18,className:"text-slate-400"}),"Histrico de Excluso"]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-700",children:[b.jsx(Sr,{size:20,className:"text-sky-300"}),"Filtros de ",d==="maintenances"?"Relatrio":"Excluso"]}),b.jsxs("button",{onClick:ut,className:"flex items-center gap-1.5 text-xs font-bold text-slate-400 hover:text-blue-500 transition-colors",children:[b.jsx(tA,{size:14}),"Limpar Filtros"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Adm"}),b.jsxs("select",{value:v,onChange:q=>{_(q.target.value),D("all")},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),c_.map(q=>b.jsx("option",{value:q,children:q},q))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Localidade"}),b.jsxs("select",{value:A,onChange:q=>D(q.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),Q.map(q=>b.jsx("option",{value:q.id,children:q.name},q.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"De"}),b.jsx("input",{type:"date",value:j,onChange:q=>G(q.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"At"}),b.jsx("input",{type:"date",value:$,onChange:q=>it(q.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]})]}),b.jsx("div",{className:"mt-4 flex justify-end",children:b.jsxs("button",{onClick:nt,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-900 transition-colors text-sm font-medium border border-slate-700 shadow-sm",children:[b.jsx(Jx,{size:16,className:"text-sky-100"}),"Exportar CSV"]})})]}),b.jsx("div",{className:"space-y-4",children:d==="maintenances"?rt.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(Sr,{size:32,className:"text-sky-300"})}),"Nenhum atendimento encontrado para os filtros selecionados."]}):rt.map(q=>{const S=s.organs.find(N=>N.id===q.organId),x=s.locations.find(N=>N.id===(S==null?void 0:S.locationId)),w=S?n(S.id):!1;return b.jsxs("div",{className:"relative group bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col md:flex-row",children:[b.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 z-10 transition-all",children:[b.jsx("button",{onClick:()=>a(q.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 shadow-sm",title:"Editar Registro",children:b.jsx(fd,{size:14})}),b.jsx("button",{onClick:()=>r(q.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 shadow-sm",title:"Excluir Registro",children:b.jsx(Jl,{size:14})})]}),b.jsxs("div",{className:`p-6 border-b md:border-b-0 md:border-r border-slate-100 flex-1 ${w?"border-l-4 border-l-red-500":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(f_,{size:16,className:"text-sky-300"}),b.jsx("span",{className:"font-bold text-slate-800",children:new Date(q.date+"T00:00:00").toLocaleDateString("pt-BR")})]}),b.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-xs font-bold uppercase border border-slate-200",children:x==null?void 0:x.adm})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("h4",{className:"font-bold text-lg text-slate-800",children:S==null?void 0:S.model}),b.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-1",children:[b.jsx(rA,{size:14,className:"text-sky-300"}),x==null?void 0:x.name," - ",S==null?void 0:S.churchLocation]}),b.jsxs("div",{className:"mt-2 space-y-1",children:[b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:S==null?void 0:S.patrimonyNumber})]}),b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:S==null?void 0:S.serialNumber})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Tcnicos"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:q.technicians.join(" & ")})]}),b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Peas Trocadas"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:q.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 shadow-inner",children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase mb-2",children:"Ocorrncia"}),b.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:q.occurrence})]})]}),b.jsxs("div",{className:"w-full md:w-64 bg-slate-50 p-6 flex flex-wrap gap-2 items-start content-start",children:[b.jsx("span",{className:"block w-full text-xs font-semibold text-slate-400 uppercase mb-2",children:"Fotos do Registro"}),q.photos.length===0?b.jsxs("div",{className:"w-full h-32 flex flex-col items-center justify-center text-slate-300 border border-dashed border-slate-200 rounded-xl bg-white",children:[b.jsx(hd,{size:32,className:"text-sky-200"}),b.jsx("span",{className:"text-[10px] mt-1",children:"Sem fotos"})]}):q.photos.map((N,I)=>b.jsx("img",{src:N,alt:"Anexo",className:"w-16 h-16 object-cover rounded-lg border border-white shadow-sm cursor-zoom-in hover:scale-110 transition-transform"},I))]})]},q.id)}):ot.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(sc,{size:32,className:"text-slate-300"})}),"Nenhum registro de excluso encontrado."]}):ot.map(q=>{var S,x;return b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 bg-red-50/30 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 text-red-600 rounded-xl flex items-center justify-center",children:b.jsx(mA,{size:20})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none",children:"Excludo em"}),b.jsx("p",{className:"text-sm font-bold text-slate-800",children:new Date(q.deletedAt).toLocaleString("pt-BR")})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${q.type==="organ"?"bg-amber-100 text-amber-700 border-amber-200":"bg-indigo-100 text-indigo-700 border-indigo-200"}`,children:q.type==="organ"?"rgo":"Manuteno"})]}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Dados Originais"}),q.type==="organ"?b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsx("h5",{className:"font-bold text-slate-800",children:q.data.model}),b.jsxs("p",{className:"text-xs text-slate-500",children:["N Srie: ",q.data.serialNumber,"  N Patrimnio: ",q.data.patrimonyNumber]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[(S=q.metadata)==null?void 0:S.adm,"  ",(x=q.metadata)==null?void 0:x.locationName]})]}):b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("h5",{className:"font-bold text-slate-800",children:["Servio de ",q.data.date]}),b.jsxs("p",{className:"text-xs text-slate-500",children:["Tcnicos: ",q.data.technicians.join(", ")]}),b.jsxs("p",{className:"text-xs text-slate-700 mt-2 line-clamp-2 italic",children:['"',q.data.occurrence,'"']})]})]})}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"bg-red-50 p-5 rounded-2xl border border-red-100 shadow-inner",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-600",children:[b.jsx($d,{size:16}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Motivo da Excluso"})]}),b.jsxs("p",{className:"text-sm text-red-900 font-medium leading-relaxed italic",children:['"',q.reason,'"']})]})})]})]},q.id)})})]})};var VA="firebase",MA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(VA,MA,"app");const OA={apiKey:"AIzaSyAKfG5HMu8ZQffRCwdgPb4M8EHMhwlF3-M",authDomain:"pmpo-e71df.firebaseapp.com",projectId:"pmpo-e71df",storageBucket:"pmpo-e71df.firebasestorage.app",messagingSenderId:"837927216589",appId:"1:837927216589:web:135eab57995b696b079084"},jA=U0(OA),un=gx(jA),zA=()=>{const[s,n]=Dt.useState("home"),[a,r]=Dt.useState(null),[o,h]=Dt.useState(null),[d,p]=Dt.useState(null),[v,_]=Dt.useState(null),[A,D]=Dt.useState(!1),[j,G]=Dt.useState(""),[$,it]=Dt.useState(""),[Q,rt]=Dt.useState(""),[ot,ut]=Dt.useState(!1),[nt,Ut]=Dt.useState(null),[q,S]=Dt.useState(!1),[x,w]=Dt.useState({organs:[],maintenances:[],locations:Ox,deletedItems:[]}),[N,I]=Dt.useState(!0);Dt.useEffect(()=>{let W=3;const lt=()=>{W-=1,W<=0&&I(!1)},St=kf(ku(un,"organs"),wt=>{const Yt=wt.docs.map(fe=>{const de=fe.data();return{...de,id:de.id||fe.id}});w(fe=>({...fe,organs:Yt})),lt()},wt=>{console.error("Erro ao carregar orgaos:",wt),lt()}),Nt=kf(ku(un,"maintenances"),wt=>{const Yt=wt.docs.map(fe=>{const de=fe.data();return{...de,id:de.id||fe.id}});w(fe=>({...fe,maintenances:Yt})),lt()},wt=>{console.error("Erro ao carregar manutencoes:",wt),lt()}),Wt=kf(ku(un,"deletedItems"),wt=>{const Yt=wt.docs.map(fe=>{const de=fe.data();return{...de,id:de.id||fe.id}});w(fe=>({...fe,deletedItems:Yt})),lt()},wt=>{console.error("Erro ao carregar historico:",wt),lt()});return()=>{St(),Nt(),Wt()}},[]);const O=()=>Math.floor(1e3+Math.random()*9e3).toString(),R=W=>W.split("").map((lt,St)=>{const Nt=parseInt(lt),Wt=St+1;return(Nt+1)*Wt%10}).join(""),Xt=W=>{const lt=x.maintenances.filter(wt=>wt.organId===W);if(lt.length===0)return!0;const St=lt.reduce((wt,Yt)=>new Date(Yt.date)>new Date(wt)?Yt.date:wt,lt[0].date),Nt=new Date(St+"T00:00:00"),Wt=new Date;return Wt.setFullYear(Wt.getFullYear()-1),Nt<Wt},ie=W=>{const lt=x.organs.filter(St=>St.locationId===W);return lt.length===0?!1:lt.some(St=>Xt(St.id))},F=W=>x.locations.filter(St=>St.adm===W).some(St=>ie(St.id)),st=async W=>{try{await Bu(Ua(un,"organs",W.id),W),n("location-detail")}catch(lt){console.error(lt),alert("Erro ao salvar o orgao.")}},gt=async W=>{try{await Bu(Ua(un,"organs",W.id),W),n("location-detail")}catch(lt){console.error(lt),alert("Erro ao atualizar o orgao.")}},Lt=async(W,lt)=>{const St=x.organs.find(wt=>wt.id===W);if(!St)return;const Nt=x.locations.find(wt=>wt.id===St.locationId),Wt={id:crypto.randomUUID(),type:"organ",data:St,reason:lt,deletedAt:new Date().toISOString(),metadata:{locationName:Nt==null?void 0:Nt.name,adm:Nt==null?void 0:Nt.adm}};try{const wt=A0(un);wt.set(Ua(un,"deletedItems",Wt.id),Wt),wt.delete(Ua(un,"organs",W));const Yt=wx(ku(un,"maintenances"),Rx("organId","==",W));(await Dx(Yt)).forEach(de=>wt.delete(Ua(un,"maintenances",de.id))),await wt.commit()}catch(wt){console.error(wt),alert("Erro ao excluir o orgao.")}},qt=async W=>{try{await Bu(Ua(un,"maintenances",W.id),W),n("location-detail")}catch(lt){console.error(lt),alert("Erro ao salvar a manutencao.")}},M=async W=>{try{await Bu(Ua(un,"maintenances",W.id),W),s==="edit-maintenance"&&n("reports")}catch(lt){console.error(lt),alert("Erro ao atualizar a manutencao.")}},K=async(W,lt)=>{const St=x.maintenances.find(Yt=>Yt.id===W);if(!St)return;const Nt=x.organs.find(Yt=>Yt.id===St.organId),Wt=Nt?x.locations.find(Yt=>Yt.id===Nt.locationId):null,wt={id:crypto.randomUUID(),type:"maintenance",data:St,reason:lt,deletedAt:new Date().toISOString(),metadata:{locationName:Wt==null?void 0:Wt.name,adm:Wt==null?void 0:Wt.adm}};try{const Yt=A0(un);Yt.set(Ua(un,"deletedItems",wt.id),wt),Yt.delete(Ua(un,"maintenances",W)),await Yt.commit()}catch(Yt){console.error(Yt),alert("Erro ao excluir a manutencao.")}},et=(W,lt,St)=>{Ut({type:W,id:lt,mode:St}),rt(""),G(""),it(O()),D(!0)},ct=W=>{W.preventDefault();const lt=R($);if(j===lt){if(!nt)return;if(nt.mode==="edit")nt.type==="organ"&&nt.id?(p(nt.id),n("edit-organ")):nt.type==="maintenance"&&nt.id&&(_(nt.id),n("edit-maintenance"));else if(nt.mode==="delete"){if(!Q.trim()){alert("Por favor, informe o motivo da excluso.");return}nt.type==="organ"&&nt.id?Lt(nt.id,Q):nt.type==="maintenance"&&nt.id&&K(nt.id,Q)}else nt.mode==="view"&&nt.type==="history"&&S(!0);D(!1),G(""),rt(""),ut(!1),Ut(null)}else ut(!0),it(O()),G(""),setTimeout(()=>ut(!1),2e3)},vt=x.locations.find(W=>W.id===o);return b.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[b.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[b.jsx("header",{className:"bg-white border-b border-slate-200 px-8 py-4 flex items-center justify-between shadow-sm",children:b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 overflow-hidden",children:[b.jsxs("button",{onClick:()=>{n("home"),r(null),h(null),p(null)},className:"hover:text-blue-600 flex items-center gap-1 font-medium transition-colors border border-slate-100 px-2 py-1 rounded-md",children:[b.jsx(aA,{size:16,className:"text-sky-300"}),"Incio"]}),a&&b.jsxs(b.Fragment,{children:[b.jsx(Fu,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{n("adm-detail"),h(null),p(null)},className:`hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md ${s==="adm-detail"?"text-blue-600 font-bold":"font-medium"}`,children:a})]}),vt&&b.jsxs(b.Fragment,{children:[b.jsx(Fu,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{n("location-detail"),p(null)},className:`hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md ${s==="location-detail"?"text-blue-600 font-bold":"font-medium"}`,children:vt.name})]}),(s==="register-organ"||s==="edit-organ"||s==="register-maintenance"||s==="edit-maintenance"||s==="reports")&&b.jsxs(b.Fragment,{children:[b.jsx(Fu,{size:14,className:"text-slate-300"}),b.jsx("span",{className:"text-blue-600 font-bold whitespace-nowrap border border-blue-50 px-2 py-1 rounded-md bg-blue-50/30",children:s==="register-organ"?"Novo rgo":s==="edit-organ"?"Editar rgo":s==="register-maintenance"?"Manuteno":s==="edit-maintenance"?"Editar Manuteno":"Relatrios"})]})]})}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[N&&b.jsx("div",{className:"py-16 text-center text-slate-400 font-bold tracking-widest uppercase text-sm",children:"Carregando dados..."}),!N&&s==="home"&&b.jsx(EA,{isAdmPending:F,onSelectAdm:W=>{r(W),n("adm-detail")},onOpenReports:()=>n("reports")}),!N&&s==="adm-detail"&&a&&b.jsx(TA,{adm:a,state:x,isLocationPending:ie,onSelectLocation:W=>{h(W),n("location-detail")}}),!N&&s==="location-detail"&&o&&b.jsx(xA,{locationId:o,state:x,isMaintenancePending:Xt,onRegisterOrgan:()=>n("register-organ"),onEditOrgan:W=>et("organ",W,"edit"),onDeleteOrgan:W=>et("organ",W,"delete"),onEditMaintenance:W=>et("maintenance",W,"edit"),onDeleteMaintenance:W=>et("maintenance",W,"delete"),onRegisterMaintenance:W=>{p(W),n("register-maintenance")}}),!N&&(s==="register-organ"||s==="edit-organ")&&o&&b.jsx(CA,{locationId:o,locations:x.locations,initialData:s==="edit-organ"?x.organs.find(W=>W.id===d):void 0,onSubmit:s==="edit-organ"?gt:st,onCancel:()=>n("location-detail")}),!N&&(s==="register-maintenance"||s==="edit-maintenance")&&b.jsx(DA,{organs:x.organs,locations:x.locations,initialOrganId:d,initialData:s==="edit-maintenance"?x.maintenances.find(W=>W.id===v):void 0,onSubmit:s==="edit-maintenance"?M:qt,onCancel:()=>n(s==="edit-maintenance"?"reports":"location-detail")}),!N&&s==="reports"&&b.jsx(IA,{state:x,isMaintenancePending:Xt,onEditMaintenance:W=>et("maintenance",W,"edit"),onDeleteMaintenance:W=>et("maintenance",W,"delete"),isHistoryAuthorized:q,onRequestHistoryAccess:()=>et("history",void 0,"view")})]})})]}),A&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-200",children:b.jsx("div",{className:"bg-white w-full max-w-sm rounded-[32px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:b.jsxs("div",{className:"p-8 text-center space-y-6",children:[b.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl flex items-center justify-center border shadow-inner ${(nt==null?void 0:nt.mode)==="delete"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:(nt==null?void 0:nt.mode)==="delete"?b.jsx(Jl,{size:28}):b.jsx(d_,{size:28})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(nt==null?void 0:nt.mode)==="delete"?"Confirmar Excluso":(nt==null?void 0:nt.mode)==="view"?"Acesso ao Histrico":"Acesso Restrito"}),(nt==null?void 0:nt.mode)==="delete"&&b.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Informe o motivo para prosseguir."})]}),b.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[b.jsx(Xx,{size:14}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Dica de Acesso"})]}),b.jsx("div",{className:"flex justify-center gap-3",children:$.split("").map((W,lt)=>b.jsx("div",{className:"w-10 h-12 bg-white border border-slate-200 rounded-xl flex items-center justify-center text-xl font-black text-blue-600 shadow-sm",children:W},lt))})]}),b.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[(nt==null?void 0:nt.mode)==="delete"&&b.jsxs("div",{className:"space-y-1 text-left",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Motivo da Excluso"}),b.jsx("textarea",{autoFocus:!0,required:!0,value:Q,onChange:W=>rt(W.target.value),placeholder:"Ex: Erro de cadastro...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-red-500 focus:bg-white transition-all text-sm font-medium min-h-[80px]"})]}),b.jsxs("div",{className:"space-y-1 text-left",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Senha"}),b.jsx("input",{type:"password",inputMode:"numeric",autoFocus:(nt==null?void 0:nt.mode)!=="delete",value:j,onChange:W=>G(W.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"",className:`w-full p-4 bg-slate-50 border rounded-2xl outline-none transition-all text-center text-lg font-bold tracking-widest focus:bg-white ${ot?"border-red-500 bg-red-50 text-red-600 animate-shake":"border-slate-200 focus:border-blue-500"}`})]}),ot&&b.jsx("p",{className:"text-red-500 text-xs font-bold uppercase tracking-widest animate-in slide-in-from-top-1",children:"Senha Incorreta"}),b.jsxs("div",{className:"flex gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:()=>{D(!1),G(""),rt(""),ut(!1),Ut(null)},className:"flex-1 py-4 bg-slate-100 text-slate-500 rounded-2xl font-bold hover:bg-slate-200 transition-colors",children:b.jsx(La,{className:"mx-auto",size:20})}),b.jsxs("button",{type:"submit",className:`flex-[2] py-4 text-white rounded-2xl font-bold transition-all shadow-lg flex items-center justify-center gap-2 ${(nt==null?void 0:nt.mode)==="delete"?"bg-red-600 hover:bg-red-700 shadow-red-200":"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}`,children:["Validar",b.jsx(qx,{size:18})]})]})]})]})})}),b.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.2s ease-in-out 0s 2;
        }
      `})]})},p_=document.getElementById("root");if(!p_)throw new Error("Could not find root element to mount to");const UA=e1.createRoot(p_);UA.render(b.jsx(Yb.StrictMode,{children:b.jsx(zA,{})}));
