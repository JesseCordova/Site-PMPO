(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Nv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Df={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function qA(){if(K_)return fl;K_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:u}}return fl.Fragment=e,fl.jsx=i,fl.jsxs=i,fl}var Y_;function HA(){return Y_||(Y_=1,Df.exports=qA()),Df.exports}var b=HA(),Of={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function FA(){if(X_)return we;X_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function q(k){return k===null||typeof k!="object"?null:(k=D&&k[D]||k["@@iterator"],typeof k=="function"?k:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,J={};function le(k,Y,se){this.props=k,this.context=Y,this.refs=J,this.updater=se||K}le.prototype.isReactComponent={},le.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},le.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function te(){}te.prototype=le.prototype;function ne(k,Y,se){this.props=k,this.context=Y,this.refs=J,this.updater=se||K}var X=ne.prototype=new te;X.constructor=ne,ie(X,le.prototype),X.isPureReactComponent=!0;var pe=Array.isArray;function z(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(k,Y,se){var ue=se.ref;return{$$typeof:s,type:k,key:Y,ref:ue!==void 0?ue:null,props:se}}function I(k,Y){return R(k.type,Y,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function V(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return Y[se]})}var N=/\/+/g;function et(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?V(""+k.key):Y.toString(36)}function rt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(z,z):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,Y,se,ue,ve){var Te=typeof k;(Te==="undefined"||Te==="boolean")&&(k=null);var Oe=!1;if(k===null)Oe=!0;else switch(Te){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(k.$$typeof){case s:case e:Oe=!0;break;case E:return Oe=k._init,G(Oe(k._payload),Y,se,ue,ve)}}if(Oe)return ve=ve(k),Oe=ue===""?"."+et(k,0):ue,pe(ve)?(se="",Oe!=null&&(se=Oe.replace(N,"$&/")+"/"),G(ve,Y,se,"",function(be){return be})):ve!=null&&(O(ve)&&(ve=I(ve,se+(ve.key==null||k&&k.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Oe)),Y.push(ve)),1;Oe=0;var Rt=ue===""?".":ue+":";if(pe(k))for(var re=0;re<k.length;re++)ue=k[re],Te=Rt+et(ue,re),Oe+=G(ue,Y,se,Te,ve);else if(re=q(k),typeof re=="function")for(k=re.call(k),re=0;!(ue=k.next()).done;)ue=ue.value,Te=Rt+et(ue,re++),Oe+=G(ue,Y,se,Te,ve);else if(Te==="object"){if(typeof k.then=="function")return G(rt(k),Y,se,ue,ve);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ae(k,Y,se){if(k==null)return k;var ue=[],ve=0;return G(k,ue,"","",function(Te){return Y.call(se,Te,ve++)}),ue}function me(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var Be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},He={map:ae,forEach:function(k,Y,se){ae(k,function(){Y.apply(this,arguments)},se)},count:function(k){var Y=0;return ae(k,function(){Y++}),Y},toArray:function(k){return ae(k,function(Y){return Y})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=x,we.Children=He,we.Component=le,we.Fragment=i,we.Profiler=o,we.PureComponent=ne,we.StrictMode=r,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return S.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,Y,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=ie({},k.props),ve=k.key;if(Y!=null)for(Te in Y.key!==void 0&&(ve=""+Y.key),Y)!w.call(Y,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Y.ref===void 0||(ue[Te]=Y[Te]);var Te=arguments.length-2;if(Te===1)ue.children=se;else if(1<Te){for(var Oe=Array(Te),Rt=0;Rt<Te;Rt++)Oe[Rt]=arguments[Rt+2];ue.children=Oe}return R(k.type,ve,ue)},we.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},we.createElement=function(k,Y,se){var ue,ve={},Te=null;if(Y!=null)for(ue in Y.key!==void 0&&(Te=""+Y.key),Y)w.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Y[ue]);var Oe=arguments.length-2;if(Oe===1)ve.children=se;else if(1<Oe){for(var Rt=Array(Oe),re=0;re<Oe;re++)Rt[re]=arguments[re+2];ve.children=Rt}if(k&&k.defaultProps)for(ue in Oe=k.defaultProps,Oe)ve[ue]===void 0&&(ve[ue]=Oe[ue]);return R(k,Te,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:p,render:k}},we.isValidElement=O,we.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:me}},we.memo=function(k,Y){return{$$typeof:_,type:k,compare:Y===void 0?null:Y}},we.startTransition=function(k){var Y=S.T,se={};S.T=se;try{var ue=k(),ve=S.S;ve!==null&&ve(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(z,Be)}catch(Te){Be(Te)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),S.T=Y}},we.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},we.use=function(k){return S.H.use(k)},we.useActionState=function(k,Y,se){return S.H.useActionState(k,Y,se)},we.useCallback=function(k,Y){return S.H.useCallback(k,Y)},we.useContext=function(k){return S.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,Y){return S.H.useDeferredValue(k,Y)},we.useEffect=function(k,Y){return S.H.useEffect(k,Y)},we.useEffectEvent=function(k){return S.H.useEffectEvent(k)},we.useId=function(){return S.H.useId()},we.useImperativeHandle=function(k,Y,se){return S.H.useImperativeHandle(k,Y,se)},we.useInsertionEffect=function(k,Y){return S.H.useInsertionEffect(k,Y)},we.useLayoutEffect=function(k,Y){return S.H.useLayoutEffect(k,Y)},we.useMemo=function(k,Y){return S.H.useMemo(k,Y)},we.useOptimistic=function(k,Y){return S.H.useOptimistic(k,Y)},we.useReducer=function(k,Y,se){return S.H.useReducer(k,Y,se)},we.useRef=function(k){return S.H.useRef(k)},we.useState=function(k){return S.H.useState(k)},we.useSyncExternalStore=function(k,Y,se){return S.H.useSyncExternalStore(k,Y,se)},we.useTransition=function(){return S.H.useTransition()},we.version="19.2.4",we}var $_;function Im(){return $_||($_=1,Of.exports=FA()),Of.exports}var Ie=Im();const GA=Nv(Ie);var Mf={exports:{}},ml={},kf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function QA(){return J_||(J_=1,(function(s){function e(G,ae){var me=G.length;G.push(ae);e:for(;0<me;){var Be=me-1>>>1,He=G[Be];if(0<o(He,ae))G[Be]=ae,G[me]=He,me=Be;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],me=G.pop();if(me!==ae){G[0]=me;e:for(var Be=0,He=G.length,k=He>>>1;Be<k;){var Y=2*(Be+1)-1,se=G[Y],ue=Y+1,ve=G[ue];if(0>o(se,me))ue<He&&0>o(ve,se)?(G[Be]=ve,G[ue]=me,Be=ue):(G[Be]=se,G[Y]=me,Be=Y);else if(ue<He&&0>o(ve,me))G[Be]=ve,G[ue]=me,Be=ue;else break e}}return ae}function o(G,ae){var me=G.sortIndex-ae.sortIndex;return me!==0?me:G.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],E=1,x=null,D=3,q=!1,K=!1,ie=!1,J=!1,le=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function X(G){for(var ae=i(_);ae!==null;){if(ae.callback===null)r(_);else if(ae.startTime<=G)r(_),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=i(_)}}function pe(G){if(ie=!1,X(G),!K)if(i(g)!==null)K=!0,z||(z=!0,V());else{var ae=i(_);ae!==null&&rt(pe,ae.startTime-G)}}var z=!1,S=-1,w=5,R=-1;function I(){return J?!0:!(s.unstable_now()-R<w)}function O(){if(J=!1,z){var G=s.unstable_now();R=G;var ae=!0;try{e:{K=!1,ie&&(ie=!1,te(S),S=-1),q=!0;var me=D;try{t:{for(X(G),x=i(g);x!==null&&!(x.expirationTime>G&&I());){var Be=x.callback;if(typeof Be=="function"){x.callback=null,D=x.priorityLevel;var He=Be(x.expirationTime<=G);if(G=s.unstable_now(),typeof He=="function"){x.callback=He,X(G),ae=!0;break t}x===i(g)&&r(g),X(G)}else r(g);x=i(g)}if(x!==null)ae=!0;else{var k=i(_);k!==null&&rt(pe,k.startTime-G),ae=!1}}break e}finally{x=null,D=me,q=!1}ae=void 0}}finally{ae?V():z=!1}}}var V;if(typeof ne=="function")V=function(){ne(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,et=N.port2;N.port1.onmessage=O,V=function(){et.postMessage(null)}}else V=function(){le(O,0)};function rt(G,ae){S=le(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ae=3;break;default:ae=D}var me=D;D=ae;try{return G()}finally{D=me}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=D;D=G;try{return ae()}finally{D=me}},s.unstable_scheduleCallback=function(G,ae,me){var Be=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,G){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,G={id:E++,callback:ae,priorityLevel:G,startTime:me,expirationTime:He,sortIndex:-1},me>Be?(G.sortIndex=me,e(_,G),i(g)===null&&G===i(_)&&(ie?(te(S),S=-1):ie=!0,rt(pe,me-Be))):(G.sortIndex=He,e(g,G),K||q||(K=!0,z||(z=!0,V()))),G},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(G){var ae=D;return function(){var me=D;D=ae;try{return G.apply(this,arguments)}finally{D=me}}}})(Vf)),Vf}var Z_;function KA(){return Z_||(Z_=1,kf.exports=QA()),kf.exports}var Uf={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function YA(){if(W_)return rn;W_=1;var s=Im();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:_,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(g,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,E)},rn.flushSync=function(g){var _=d.T,E=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=E,r.d.f()}},rn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},rn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},rn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var E=_.as,x=p(E,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:q}):E==="script"&&r.d.X(g,{crossOrigin:x,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},rn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},rn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,x=p(E,_.crossOrigin);r.d.L(g,E,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},rn.preloadModule=function(g,_){if(typeof g=="string")if(_){var E=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},rn.requestFormReset=function(g){r.d.r(g)},rn.unstable_batchedUpdates=function(g,_){return g(_)},rn.useFormState=function(g,_,E){return d.H.useFormState(g,_,E)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var e0;function XA(){if(e0)return Uf.exports;e0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Uf.exports=YA(),Uf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function $A(){if(t0)return ml;t0=1;var s=KA(),e=Im(),i=XA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,T=h.child;T;){if(T===a){y=!0,a=h,l=f;break}if(T===l){y=!0,l=h,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,l=h;break}if(T===l){y=!0,l=f,a=h;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case le:return"Profiler";case J:return"StrictMode";case pe:return"Suspense";case z:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ne:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return n=t.displayName||null,n!==null?n:et(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return et(t(n))}catch{}}return null}var rt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],He=-1;function k(t){return{current:t}}function Y(t){0>He||(t.current=Be[He],Be[He]=null,He--)}function se(t,n){He++,Be[He]=t.current,t.current=n}var ue=k(null),ve=k(null),Te=k(null),Oe=k(null);function Rt(t,n){switch(se(Te,n),se(ve,t),se(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?g_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=g_(n),t=y_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),se(ue,t)}function re(){Y(ue),Y(ve),Y(Te)}function be(t){t.memoizedState!==null&&se(Oe,t);var n=ue.current,a=y_(n,t.type);n!==a&&(se(ve,t),se(ue,a))}function Me(t){ve.current===t&&(Y(ue),Y(ve)),Oe.current===t&&(Y(Oe),ul._currentValue=me)}var ft,ht;function Re(t){if(ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",ht=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+t+ht}var Xe=!1;function pt(t,n){if(!t||Xe)return"";Xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){B=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var C=y.split(`
`),P=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Xe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Re(a):""}function _n(t,n){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==n&&n!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return pt(t.type,!1);case 11:return pt(t.type.render,!1);case 1:return pt(t.type,!0);case 31:return Re("Activity");default:return""}}function $l(t){try{var n="",a=null;do n+=_n(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ia=Object.prototype.hasOwnProperty,pr=s.unstable_scheduleCallback,sa=s.unstable_cancelCallback,Nh=s.unstable_shouldYield,ho=s.unstable_requestPaint,Ft=s.unstable_now,Jl=s.unstable_getCurrentPriorityLevel,Vt=s.unstable_ImmediatePriority,Lt=s.unstable_UserBlockingPriority,Si=s.unstable_NormalPriority,Zl=s.unstable_LowPriority,fo=s.unstable_IdlePriority,Ih=s.log,gr=s.unstable_setDisableYieldValue,us=null,nn=null;function Pn(t){if(typeof Ih=="function"&&gr(t),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(us,t)}catch{}}var cn=Math.clz32?Math.clz32:Wl,Ch=Math.log,mo=Math.LN2;function Wl(t){return t>>>=0,t===0?32:31-(Ch(t)/mo|0)|0}var yr=256,ai=262144,cs=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Zn(l):(y&=T,y!==0?h=Zn(y):a||(a=T&~t,a!==0&&(h=Zn(a))))):(T=l&~f,T!==0?h=Zn(T):y!==0?h=Zn(y):a||(a=l&~t,a!==0&&(h=Zn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function hs(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ra(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),t}function xi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ds(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gt(t,n,a,l,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-cn(a),Z=1<<Q;T[Q]=0,C[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&go(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function go(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-cn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function fs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-cn(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function ms(t,n){var a=n&-n;return a=(a&42)!==0?1:yo(a),(a&(t.suspendedLanes|n))!==0?0:a}function yo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _o(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ri(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function eu(t,n){var a=ae.p;try{return ae.p=t,n()}finally{ae.p=a}}var oi=Math.random().toString(36).slice(2),gt="__reactFiber$"+oi,Qt="__reactProps$"+oi,li="__reactContainer$"+oi,ps="__reactEvents$"+oi,ui="__reactListeners$"+oi,tu="__reactHandles$"+oi,vo="__reactResources$"+oi,Ni="__reactMarker$"+oi;function _r(t){delete t[gt],delete t[Qt],delete t[ps],delete t[ui],delete t[tu]}function Ii(t){var n=t[gt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[gt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=w_(t);t!==null;){if(a=t[gt])return a;t=w_(t)}return n}t=a,a=t.parentNode}return null}function Ci(t){if(t=t[gt]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function vr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Wn(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(t){t[Ni]=!0}var aa=new Set,gs={};function hn(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(gs[t]=n,t=0;t<n.length;t++)aa.add(n[t])}var Dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},To={};function nu(t){return ia.call(To,t)?!0:ia.call(bo,t)?!1:Dh.test(t)?To[t]=!0:(bo[t]=!0,!1)}function ys(t,n,a){if(nu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function _s(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Bn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oh(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function oa(t){if(!t._valueTracker){var n=iu(t)?"checked":"value";t._valueTracker=Oh(t,n,""+t[n])}}function Eo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=iu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function la(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Di=/[\n"\\]/g;function yt(t){return t.replace(Di,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vs(t,n,a,l,h,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+dn(n)):t.value!==""+dn(n)&&(t.value=""+dn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ua(t,y,dn(n)):a!=null?ua(t,y,dn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+dn(T):t.removeAttribute("name")}function br(t,n,a,l,h,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){oa(t);return}a=a!=null?""+dn(a):"",n=n!=null?""+dn(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),oa(t)}function ua(t,n,a){n==="number"&&la(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fe(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Tr(t,n,a){if(n!=null&&(n=""+dn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+dn(a):""}function bs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(rt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=dn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),oa(t)}function qn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Mh.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function su(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Ao(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(t){return Vh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pt(){}var ca=null;function ha(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Nn=null;function ru(t){var n=Ci(t);if(n&&(t=n.stateNode)){var a=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(vs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(r(90));vs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Eo(l)}break e;case"textarea":Tr(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Fe(t,!!a.multiple,n,!1)}}}var So=!1;function au(t,n,a){if(So)return t(n,a);So=!0;try{var l=t(n);return l}finally{if(So=!1,(Oi!==null||Nn!==null)&&(nc(),Oi&&(n=Oi,t=Nn,Nn=Oi=null,ru(n),t)))for(n=0;n<t.length;n++)ru(t[n])}}function vn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(ei)try{var di={};Object.defineProperty(di,"passive",{get:function(){xo=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{xo=!1}var In=null,da=null,fi=null;function Ts(){if(fi)return fi;var t,n=da,a=n.length,l,h="value"in In?In.value:In.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return fi=h.slice(t,1<l?1-l:void 0)}function Er(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function at(){return!1}function sn(t){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Es:at,this.isPropagationStopped=at,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ar=sn(Mi),As=x({},Mi,{view:0,detail:0}),ou=sn(As),ws,fa,fn,wr=x({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fn&&(fn&&t.type==="mousemove"?(ws=t.screenX-fn.screenX,fa=t.screenY-fn.screenY):fa=ws=0,fn=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),lu=sn(wr),Sr=x({},wr,{dataTransfer:0}),uu=sn(Sr),Ro=x({},As,{relatedTarget:0}),Ss=sn(Ro),cu=x({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=sn(cu),Uh=x({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=sn(Uh),xr=x({},Mi,{data:0}),No=sn(xr),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Co[t])?!!n[t]:!1}function xs(){return fu}var mu=x({},As,{key:function(t){if(t.key){var n=du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Io[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pu=sn(mu),ki=x({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=sn(ki),gu=x({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),yu=sn(gu),_u=x({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=sn(_u),mn=x({},wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vu=sn(mn),bu=x({},Mi,{newState:0,oldState:0}),Rs=sn(bu),c=[9,13,27,32],m=ei&&"CompositionEvent"in window,v=null;ei&&"documentMode"in document&&(v=document.documentMode);var A=ei&&"TextEvent"in window&&!v,j=ei&&(!m||v&&8<v&&11>=v),F=" ",oe=!1;function $e(t,n){switch(t){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var De=!1;function zt(t,n){switch(t){case"compositionend":return Nt(n);case"keypress":return n.which!==32?null:(oe=!0,F);case"textInput":return t=n.data,t===F&&oe?null:t;default:return null}}function Bt(t,n){if(De)return t==="compositionend"||!m&&$e(t,n)?(t=Ts(),fi=da=In=null,De=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return j&&n.locale!=="ko"?null:n.data;default:return null}}var Ns={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ns[t.type]:n==="textarea"}function Rr(t,n,a,l){Oi?Nn?Nn.push(l):Nn=[l]:Oi=l,n=uc(n,"onChange"),0<n.length&&(a=new Ar("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Vi=null,Oo=null;function pE(t){c_(t,0)}function Tu(t){var n=vr(t);if(Eo(n))return t}function Ip(t,n){if(t==="change")return n}var Cp=!1;if(ei){var jh;if(ei){var Lh="oninput"in document;if(!Lh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Lh=typeof Dp.oninput=="function"}jh=Lh}else jh=!1;Cp=jh&&(!document.documentMode||9<document.documentMode)}function Op(){Vi&&(Vi.detachEvent("onpropertychange",Mp),Oo=Vi=null)}function Mp(t){if(t.propertyName==="value"&&Tu(Oo)){var n=[];Rr(n,Oo,t,ha(t)),au(pE,n)}}function gE(t,n,a){t==="focusin"?(Op(),Vi=n,Oo=a,Vi.attachEvent("onpropertychange",Mp)):t==="focusout"&&Op()}function yE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(Oo)}function _E(t,n){if(t==="click")return Tu(n)}function vE(t,n){if(t==="input"||t==="change")return Tu(n)}function bE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Cn=typeof Object.is=="function"?Object.is:bE;function Mo(t,n){if(Cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ia.call(n,h)||!Cn(t[h],n[h]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vp(t,n){var a=kp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function Up(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Up(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=la(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=la(t.document)}return n}function Ph(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var TE=ei&&"documentMode"in document&&11>=document.documentMode,ga=null,zh=null,ko=null,Bh=!1;function Lp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||ga==null||ga!==la(l)||(l=ga,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Mo(ko,l)||(ko=l,l=uc(zh,"onSelect"),0<l.length&&(n=new Ar("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ga)))}function Nr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ya={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},qh={},Pp={};ei&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ir(t){if(qh[t])return qh[t];if(!ya[t])return t;var n=ya[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pp)return qh[t]=n[a];return t}var zp=Ir("animationend"),Bp=Ir("animationiteration"),qp=Ir("animationstart"),EE=Ir("transitionrun"),AE=Ir("transitionstart"),wE=Ir("transitioncancel"),Hp=Ir("transitionend"),Fp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function ti(t,n){Fp.set(t,n),hn(n,[t])}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],_a=0,Fh=0;function Au(){for(var t=_a,n=Fh=_a=0;n<t;){var a=Hn[n];Hn[n++]=null;var l=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Gp(a,h,f)}}function wu(t,n,a,l){Hn[_a++]=t,Hn[_a++]=n,Hn[_a++]=a,Hn[_a++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,n,a,l){return wu(t,n,a,l),Su(t)}function Cr(t,n){return wu(t,null,null,n),Su(t)}function Gp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-cn(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Su(t){if(50<nl)throw nl=0,ef=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var va={};function SE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,a,l){return new SE(t,n,a,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var a=t.alternate;return a===null?(a=Dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Qp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,a,l,h,f){var y=0;if(l=t,typeof t=="function")Qh(t)&&(y=1);else if(typeof t=="string")y=CA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Dn(31,a,n,h),t.elementType=R,t.lanes=f,t;case ie:return Dr(a.children,h,f,n);case J:y=8,h|=24;break;case le:return t=Dn(12,a,n,h|2),t.elementType=le,t.lanes=f,t;case pe:return t=Dn(13,a,n,h),t.elementType=pe,t.lanes=f,t;case z:return t=Dn(19,a,n,h),t.elementType=z,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:y=10;break e;case te:y=9;break e;case X:y=11;break e;case S:y=14;break e;case w:y=16,l=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Dn(y,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Dr(t,n,a,l){return t=Dn(7,t,l,n),t.lanes=a,t}function Kh(t,n,a){return t=Dn(6,t,null,n),t.lanes=a,t}function Kp(t){var n=Dn(18,null,null,0);return n.stateNode=t,n}function Yh(t,n,a){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yp=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var a=Yp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:$l(n)},Yp.set(t,n),n)}return{value:t,source:n,stack:$l(n)}}var ba=[],Ta=0,Ru=null,Vo=0,Gn=[],Qn=0,Is=null,mi=1,pi="";function ji(t,n){ba[Ta++]=Vo,ba[Ta++]=Ru,Ru=t,Vo=n}function Xp(t,n,a){Gn[Qn++]=mi,Gn[Qn++]=pi,Gn[Qn++]=Is,Is=t;var l=mi;t=pi;var h=32-cn(l)-1;l&=~(1<<h),a+=1;var f=32-cn(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,mi=1<<32-cn(n)+h|a<<h|l,pi=f+t}else mi=1<<f|a<<h|l,pi=t}function Xh(t){t.return!==null&&(ji(t,1),Xp(t,1,0))}function $h(t){for(;t===Ru;)Ru=ba[--Ta],ba[Ta]=null,Vo=ba[--Ta],ba[Ta]=null;for(;t===Is;)Is=Gn[--Qn],Gn[Qn]=null,pi=Gn[--Qn],Gn[Qn]=null,mi=Gn[--Qn],Gn[Qn]=null}function $p(t,n){Gn[Qn++]=mi,Gn[Qn++]=pi,Gn[Qn++]=Is,mi=n.id,pi=n.overflow,Is=t}var Kt=null,ot=null,Pe=!1,Cs=null,Kn=!1,Jh=Error(r(519));function Ds(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Fn(n,t)),Jh}function Jp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[gt]=t,n[Qt]=l,a){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<sl.length;a++)Ve(sl[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),br(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),bs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||m_(n.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),l.onScroll!=null&&Ve("scroll",n),l.onScrollEnd!=null&&Ve("scrollend",n),l.onClick!=null&&(n.onclick=Pt),n=!0):n=!1,n||Ds(t,!0)}function Zp(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Kt=Kt.return}}function Ea(t){if(t!==Kt)return!1;if(!Pe)return Zp(t),Pe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gf(t.type,t.memoizedProps)),a=!a),a&&ot&&Ds(t),Zp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=A_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=A_(t)}else n===27?(n=ot,Gs(t.type)?(t=Tf,Tf=null,ot=t):ot=n):ot=Kt?Xn(t.stateNode.nextSibling):null;return!0}function Or(){ot=Kt=null,Pe=!1}function Zh(){var t=Cs;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Cs=null),t}function Uo(t){Cs===null?Cs=[t]:Cs.push(t)}var Wh=k(null),Mr=null,Li=null;function Os(t,n,a){se(Wh,n._currentValue),n._currentValue=a}function Pi(t){t._currentValue=Wh.current,Y(Wh)}function ed(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function td(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ed(f.return,a,t),l||(y=null);break e}f=T.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),ed(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Aa(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=h.type;Cn(h.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(h===Oe.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&td(n,t,a,l),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Mr=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Wp(Mr,t)}function Iu(t,n){return Mr===null&&kr(t),Wp(t,n)}function Wp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(r(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return a}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},RE=s.unstable_scheduleCallback,NE=s.unstable_NormalPriority,It={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new xE,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&RE(NE,function(){t.controller.abort()})}var Lo=null,id=0,wa=0,Sa=null;function IE(t,n){if(Lo===null){var a=Lo=[];id=0,wa=of(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,n.then(eg,eg),n}function eg(){if(--id===0&&Lo!==null){Sa!==null&&(Sa.status="fulfilled");var t=Lo;Lo=null,wa=0,Sa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var tg=G.S;G.S=function(t,n){Ly=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IE(t,n),tg!==null&&tg(t,n)};var Vr=k(null);function sd(){var t=Vr.current;return t!==null?t:st.pooledCache}function Cu(t,n){n===null?se(Vr,Vr.current):se(Vr,n.pool)}function ng(){var t=sd();return t===null?null:{parent:It._currentValue,pool:t}}var xa=Error(r(460)),rd=Error(r(474)),Du=Error(r(542)),Ou={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Pt,Pt),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t;default:if(typeof n.status=="string")n.then(Pt,Pt);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t}throw jr=n,xa}}function Ur(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jr=a,xa):a}}var jr=null;function rg(){if(jr===null)throw Error(r(459));var t=jr;return jr=null,t}function ag(t){if(t===xa||t===Du)throw Error(r(483))}var Ra=null,Po=0;function Mu(t){var n=Po;return Po+=1,Ra===null&&(Ra=[]),sg(Ra,t,n)}function zo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){function n(U,M){if(t){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Ui(U,M),U.index=0,U.sibling=null,U}function f(U,M,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,M,L,$){return M===null||M.tag!==6?(M=Kh(L,U.mode,$),M.return=U,M):(M=h(M,L),M.return=U,M)}function C(U,M,L,$){var ge=L.type;return ge===ie?Q(U,M,L.props.children,$,L.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Ur(ge)===M.type)?(M=h(M,L.props),zo(M,L),M.return=U,M):(M=xu(L.type,L.key,L.props,null,U.mode,$),zo(M,L),M.return=U,M)}function P(U,M,L,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Yh(L,U.mode,$),M.return=U,M):(M=h(M,L.children||[]),M.return=U,M)}function Q(U,M,L,$,ge){return M===null||M.tag!==7?(M=Dr(L,U.mode,$,ge),M.return=U,M):(M=h(M,L),M.return=U,M)}function Z(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kh(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return L=xu(M.type,M.key,M.props,null,U.mode,L),zo(L,M),L.return=U,L;case K:return M=Yh(M,U.mode,L),M.return=U,M;case w:return M=Ur(M),Z(U,M,L)}if(rt(M)||V(M))return M=Dr(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return Z(U,Mu(M),L);if(M.$$typeof===ne)return Z(U,Iu(U,M),L);ku(U,M)}return null}function B(U,M,L,$){var ge=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:T(U,M,""+L,$);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ge?C(U,M,L,$):null;case K:return L.key===ge?P(U,M,L,$):null;case w:return L=Ur(L),B(U,M,L,$)}if(rt(L)||V(L))return ge!==null?null:Q(U,M,L,$,null);if(typeof L.then=="function")return B(U,M,Mu(L),$);if(L.$$typeof===ne)return B(U,M,Iu(U,L),$);ku(U,L)}return null}function H(U,M,L,$,ge){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(L)||null,T(M,U,""+$,ge);if(typeof $=="object"&&$!==null){switch($.$$typeof){case q:return U=U.get($.key===null?L:$.key)||null,C(M,U,$,ge);case K:return U=U.get($.key===null?L:$.key)||null,P(M,U,$,ge);case w:return $=Ur($),H(U,M,L,$,ge)}if(rt($)||V($))return U=U.get(L)||null,Q(M,U,$,ge,null);if(typeof $.then=="function")return H(U,M,L,Mu($),ge);if($.$$typeof===ne)return H(U,M,L,Iu(M,$),ge);ku(M,$)}return null}function he(U,M,L,$){for(var ge=null,Ge=null,fe=M,Ce=M=0,je=null;fe!==null&&Ce<L.length;Ce++){fe.index>Ce?(je=fe,fe=null):je=fe.sibling;var Qe=B(U,fe,L[Ce],$);if(Qe===null){fe===null&&(fe=je);break}t&&fe&&Qe.alternate===null&&n(U,fe),M=f(Qe,M,Ce),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe,fe=je}if(Ce===L.length)return a(U,fe),Pe&&ji(U,Ce),ge;if(fe===null){for(;Ce<L.length;Ce++)fe=Z(U,L[Ce],$),fe!==null&&(M=f(fe,M,Ce),Ge===null?ge=fe:Ge.sibling=fe,Ge=fe);return Pe&&ji(U,Ce),ge}for(fe=l(fe);Ce<L.length;Ce++)je=H(fe,U,Ce,L[Ce],$),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?Ce:je.key),M=f(je,M,Ce),Ge===null?ge=je:Ge.sibling=je,Ge=je);return t&&fe.forEach(function($s){return n(U,$s)}),Pe&&ji(U,Ce),ge}function _e(U,M,L,$){if(L==null)throw Error(r(151));for(var ge=null,Ge=null,fe=M,Ce=M=0,je=null,Qe=L.next();fe!==null&&!Qe.done;Ce++,Qe=L.next()){fe.index>Ce?(je=fe,fe=null):je=fe.sibling;var $s=B(U,fe,Qe.value,$);if($s===null){fe===null&&(fe=je);break}t&&fe&&$s.alternate===null&&n(U,fe),M=f($s,M,Ce),Ge===null?ge=$s:Ge.sibling=$s,Ge=$s,fe=je}if(Qe.done)return a(U,fe),Pe&&ji(U,Ce),ge;if(fe===null){for(;!Qe.done;Ce++,Qe=L.next())Qe=Z(U,Qe.value,$),Qe!==null&&(M=f(Qe,M,Ce),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe);return Pe&&ji(U,Ce),ge}for(fe=l(fe);!Qe.done;Ce++,Qe=L.next())Qe=H(fe,U,Ce,Qe.value,$),Qe!==null&&(t&&Qe.alternate!==null&&fe.delete(Qe.key===null?Ce:Qe.key),M=f(Qe,M,Ce),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe);return t&&fe.forEach(function(BA){return n(U,BA)}),Pe&&ji(U,Ce),ge}function it(U,M,L,$){if(typeof L=="object"&&L!==null&&L.type===ie&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var ge=L.key;M!==null;){if(M.key===ge){if(ge=L.type,ge===ie){if(M.tag===7){a(U,M.sibling),$=h(M,L.props.children),$.return=U,U=$;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Ur(ge)===M.type){a(U,M.sibling),$=h(M,L.props),zo($,L),$.return=U,U=$;break e}a(U,M);break}else n(U,M);M=M.sibling}L.type===ie?($=Dr(L.props.children,U.mode,$,L.key),$.return=U,U=$):($=xu(L.type,L.key,L.props,null,U.mode,$),zo($,L),$.return=U,U=$)}return y(U);case K:e:{for(ge=L.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(U,M.sibling),$=h(M,L.children||[]),$.return=U,U=$;break e}else{a(U,M);break}else n(U,M);M=M.sibling}$=Yh(L,U.mode,$),$.return=U,U=$}return y(U);case w:return L=Ur(L),it(U,M,L,$)}if(rt(L))return he(U,M,L,$);if(V(L)){if(ge=V(L),typeof ge!="function")throw Error(r(150));return L=ge.call(L),_e(U,M,L,$)}if(typeof L.then=="function")return it(U,M,Mu(L),$);if(L.$$typeof===ne)return it(U,M,Iu(U,L),$);ku(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(U,M.sibling),$=h(M,L),$.return=U,U=$):(a(U,M),$=Kh(L,U.mode,$),$.return=U,U=$),y(U)):a(U,M)}return function(U,M,L,$){try{Po=0;var ge=it(U,M,L,$);return Ra=null,ge}catch(fe){if(fe===xa||fe===Du)throw fe;var Ge=Dn(29,fe,null,U.mode);return Ge.lanes=$,Ge.return=U,Ge}finally{}}}var Lr=og(!0),lg=og(!1),Ms=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ks(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(t),Gp(t,null,a),n}return wu(t,l,n,a),Su(t)}function Bo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,fs(t,a)}}function ld(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ud=!1;function qo(){if(ud){var t=Sa;if(t!==null)throw t}}function Ho(t,n,a,l){ud=!1;var h=t.updateQueue;Ms=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,y===null?f=P:y.next=P,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==y&&(T===null?Q.firstBaseUpdate=P:T.next=P,Q.lastBaseUpdate=C))}if(f!==null){var Z=h.baseState;y=0,Q=P=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ue&B)===B:(l&B)===B){B!==0&&B===wa&&(ud=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,_e=T;B=n;var it=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Z=he.call(it,Z,B);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,B=typeof he=="function"?he.call(it,Z,B):he,B==null)break e;Z=x({},Z,B);break e;case 2:Ms=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(P=Q=H,C=Z):Q=Q.next=H,y|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),zs|=y,t.lanes=y,t.memoizedState=Z}}function ug(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function cg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ug(a[t],n)}var Na=k(null),Vu=k(0);function hg(t,n){t=Yi,se(Vu,t),se(Na,n),Yi=t|n.baseLanes}function cd(){se(Vu,Yi),se(Na,Na.current)}function hd(){Yi=Vu.current,Y(Na),Y(Vu)}var On=k(null),Yn=null;function Us(t){var n=t.alternate;se(wt,wt.current&1),se(On,t),Yn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(Yn=t)}function dd(t){se(wt,wt.current),se(On,t),Yn===null&&(Yn=t)}function dg(t){t.tag===22?(se(wt,wt.current),se(On,t),Yn===null&&(Yn=t)):js()}function js(){se(wt,wt.current),se(On,On.current)}function Mn(t){Y(On),Yn===t&&(Yn=null),Y(wt)}var wt=k(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vf(a)||bf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,Ne=null,tt=null,Ct=null,ju=!1,Ia=!1,Pr=!1,Lu=0,Fo=0,Ca=null,DE=0;function _t(){throw Error(r(321))}function fd(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Cn(t[a],n[a]))return!1;return!0}function md(t,n,a,l,h,f){return zi=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Xg:Id,Pr=!1,f=a(l,h),Pr=!1,Ia&&(f=mg(n,a,l,h)),fg(t),f}function fg(t){G.H=Ko;var n=tt!==null&&tt.next!==null;if(zi=0,Ct=tt=Ne=null,ju=!1,Fo=0,Ca=null,n)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&Nu(t)&&(Dt=!0))}function mg(t,n,a,l){Ne=t;var h=0;do{if(Ia&&(Ca=null),Fo=0,Ia=!1,25<=h)throw Error(r(301));if(h+=1,Ct=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=$g,f=n(a,l)}while(Ia);return f}function OE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Go(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function pd(){var t=Lu!==0;return Lu=0,t}function gd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function yd(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}zi=0,Ct=tt=Ne=null,Ia=!1,Fo=Lu=0,Ca=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function St(){if(tt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Ct===null?Ne.memoizedState:Ct.next;if(n!==null)Ct=n,tt=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ct===null?Ne.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(t){var n=Fo;return Fo+=1,Ca===null&&(Ca=[]),t=sg(Ca,t,n),n=Ne,(Ct===null?n.memoizedState:Ct.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Xg:Id),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Go(t);if(t.$$typeof===ne)return Yt(t)}throw Error(r(438,String(t)))}function _d(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Pu(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Bi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=St();return vd(n,tt,t)}function vd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=y=null,C=null,P=n,Q=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(Ue&Z)===Z:(zi&Z)===Z){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===wa&&(Q=!0);else if((zi&B)===B){P=P.next,B===wa&&(Q=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=Z,y=f):C=C.next=Z,Ne.lanes|=B,zs|=B;Z=P.action,Pr&&a(f,Z),f=P.hasEagerState?P.eagerState:a(f,Z)}else B={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=B,y=f):C=C.next=B,Ne.lanes|=Z,zs|=Z;P=P.next}while(P!==null&&P!==n);if(C===null?y=f:C.next=T,!Cn(f,t.memoizedState)&&(Dt=!0,Q&&(a=Sa,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bd(t){var n=St(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Cn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function pg(t,n,a){var l=Ne,h=St(),f=Pe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Cn((tt||h).memoizedState,a);if(y&&(h.memoizedState=a,Dt=!0),h=h.queue,Ad(_g.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Da(9,{destroy:void 0},yg.bind(null,l,h,a,n),null),st===null)throw Error(r(349));f||(zi&127)!==0||gg(l,n,a)}return a}function gg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=Pu(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function yg(t,n,a,l){n.value=a,n.getSnapshot=l,vg(n)&&bg(t)}function _g(t,n,a){return a(function(){vg(n)&&bg(t)})}function vg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Cn(t,a)}catch{return!0}}function bg(t){var n=Cr(t,2);n!==null&&Sn(n,t,2)}function Td(t){var n=pn();if(typeof t=="function"){var a=t;if(t=a(),Pr){Pn(!0);try{a()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function Tg(t,n,a,l){return t.baseState=a,vd(t,tt,typeof l=="function"?l:Bi)}function ME(t,n,a,l,h){if(Fu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Eg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Eg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var T=a(h,l),C=G.S;C!==null&&C(y,T),Ag(t,n,T)}catch(P){Ed(t,n,P)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,l),Ag(t,n,f)}catch(P){Ed(t,n,P)}}function Ag(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wg(t,n,l)},function(l){return Ed(t,n,l)}):wg(t,n,a)}function wg(t,n,a){n.status="fulfilled",n.value=a,Sg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Eg(t,a)))}function Ed(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Sg(n),n=n.next;while(n!==l)}t.action=null}function Sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function Rg(t,n){if(Pe){var a=st.formState;if(a!==null){e:{var l=Ne;if(Pe){if(ot){t:{for(var h=ot,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ot=Xn(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(n=a[0])}}return a=pn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},a.queue=l,a=Qg.bind(null,Ne,l),l.dispatch=a,l=Td(!1),f=Nd.bind(null,Ne,!1,l.queue),l=pn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=ME.bind(null,Ne,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ng(t){var n=St();return Ig(n,tt,t)}function Ig(t,n,a){if(n=vd(t,n,xg)[0],t=Bu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Go(n)}catch(y){throw y===xa?Du:y}else l=n;n=St();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,Da(9,{destroy:void 0},kE.bind(null,h,a),null)),[l,f,t]}function kE(t,n){t.action=n}function Cg(t){var n=St(),a=tt;if(a!==null)return Ig(n,a,t);St(),n=n.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Da(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Pu(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Dg(){return St().memoizedState}function qu(t,n,a,l){var h=pn();Ne.flags|=t,h.memoizedState=Da(1|n,{destroy:void 0},a,l===void 0?null:l)}function Hu(t,n,a,l){var h=St();l=l===void 0?null:l;var f=h.memoizedState.inst;tt!==null&&l!==null&&fd(l,tt.memoizedState.deps)?h.memoizedState=Da(n,f,a,l):(Ne.flags|=t,h.memoizedState=Da(1|n,f,a,l))}function Og(t,n){qu(8390656,8,t,n)}function Ad(t,n){Hu(2048,8,t,n)}function VE(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Pu(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Mg(t){var n=St().memoizedState;return VE({ref:n,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function kg(t,n){return Hu(4,2,t,n)}function Vg(t,n){return Hu(4,4,t,n)}function Ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jg(t,n,a){a=a!=null?a.concat([t]):null,Hu(4,4,Ug.bind(null,n,t),a)}function wd(){}function Lg(t,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&fd(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Pg(t,n){var a=St();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&fd(n,l[1]))return l[0];if(l=t(),Pr){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,n],l}function Sd(t,n,a){return a===void 0||(zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=zy(),Ne.lanes|=t,zs|=t,a)}function zg(t,n,a,l){return Cn(a,n)?a:Na.current!==null?(t=Sd(t,a,l),Cn(t,n)||(Dt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Ue&261930)===0?(Dt=!0,t.memoizedState=a):(t=zy(),Ne.lanes|=t,zs|=t,n)}function Bg(t,n,a,l,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var y=G.T,T={};G.T=T,Nd(t,!1,n,a);try{var C=h(),P=G.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=CE(C,l);Qo(t,n,Q,Un(t))}else Qo(t,n,l,Un(t))}catch(Z){Qo(t,n,{then:function(){},status:"rejected",reason:Z},Un())}finally{ae.p=f,y!==null&&T.types!==null&&(y.types=T.types),G.T=y}}function UE(){}function xd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=qg(t).queue;Bg(t,h,n,me,a===null?UE:function(){return Hg(t),a(l)})}function qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hg(t){var n=qg(t);n.next===null&&(n=t.alternate.memoizedState),Qo(t,n.next.queue,{},Un())}function Rd(){return Yt(ul)}function Fg(){return St().memoizedState}function Gg(){return St().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=ks(a);var l=Vs(n,t,a);l!==null&&(Sn(l,n,a),Bo(l,n,a)),n={cache:nd()},t.payload=n;return}n=n.return}}function LE(t,n,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Kg(n,a):(a=Gh(t,n,a,l),a!==null&&(Sn(a,t,l),Yg(a,n,l)))}function Qg(t,n,a){var l=Un();Qo(t,n,a,l)}function Qo(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Kg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,y))return wu(t,n,h,0),st===null&&Au(),!1}catch{}finally{}if(a=Gh(t,n,h,l),a!==null)return Sn(a,t,l),Yg(a,n,l),!0}return!1}function Nd(t,n,a,l){if(l={lane:2,revertLane:of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(n)throw Error(r(479))}else n=Gh(t,a,l,2),n!==null&&Sn(n,t,2)}function Fu(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Kg(t,n){Ia=ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Yg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,fs(t,a)}}var Ko={readContext:Yt,use:zu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ko.useEffectEvent=_t;var Xg={readContext:Yt,use:zu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:Og,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,qu(4194308,4,Ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var a=pn();n=n===void 0?null:n;var l=t();if(Pr){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=pn();if(a!==void 0){var h=a(n);if(Pr){Pn(!0);try{a(n)}finally{Pn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=LE.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Td(t);var n=t.queue,a=Qg.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:wd,useDeferredValue:function(t,n){var a=pn();return Sd(a,t,n)},useTransition:function(){var t=Td(!1);return t=Bg.bind(null,Ne,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ne,h=pn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),st===null)throw Error(r(349));(Ue&127)!==0||gg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Og(_g.bind(null,l,f,t),[t]),l.flags|=2048,Da(9,{destroy:void 0},yg.bind(null,l,f,a,n),null),a},useId:function(){var t=pn(),n=st.identifierPrefix;if(Pe){var a=pi,l=mi;a=(l&~(1<<32-cn(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Lu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=DE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rd,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nd.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:_d,useCacheRefresh:function(){return pn().memoizedState=jE.bind(null,Ne)},useEffectEvent:function(t){var n=pn(),a={impl:t};return n.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Id={readContext:Yt,use:zu,useCallback:Lg,useContext:Yt,useEffect:Ad,useImperativeHandle:jg,useInsertionEffect:kg,useLayoutEffect:Vg,useMemo:Pg,useReducer:Bu,useRef:Dg,useState:function(){return Bu(Bi)},useDebugValue:wd,useDeferredValue:function(t,n){var a=St();return zg(a,tt.memoizedState,t,n)},useTransition:function(){var t=Bu(Bi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Go(t),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Rd,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var a=St();return Tg(a,tt,t,n)},useMemoCache:_d,useCacheRefresh:Gg};Id.useEffectEvent=Mg;var $g={readContext:Yt,use:zu,useCallback:Lg,useContext:Yt,useEffect:Ad,useImperativeHandle:jg,useInsertionEffect:kg,useLayoutEffect:Vg,useMemo:Pg,useReducer:bd,useRef:Dg,useState:function(){return bd(Bi)},useDebugValue:wd,useDeferredValue:function(t,n){var a=St();return tt===null?Sd(a,t,n):zg(a,tt.memoizedState,t,n)},useTransition:function(){var t=bd(Bi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Go(t),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Rd,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var a=St();return tt!==null?Tg(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Gg};$g.useEffectEvent=Mg;function Cd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Un(),h=ks(l);h.payload=n,a!=null&&(h.callback=a),n=Vs(t,h,l),n!==null&&(Sn(n,t,l),Bo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Un(),h=ks(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Vs(t,h,l),n!==null&&(Sn(n,t,l),Bo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),l=ks(a);l.tag=2,n!=null&&(l.callback=n),n=Vs(t,l,a),n!==null&&(Sn(n,t,a),Bo(n,t,a))}};function Jg(t,n,a,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Mo(a,l)||!Mo(h,f):!0}function Zg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dd.enqueueReplaceState(n,n.state,null)}function zr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Wg(t){Eu(t)}function ey(t){console.error(t)}function ty(t){Eu(t)}function Gu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ny(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Od(t,n,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(t,n)},a}function iy(t){return t=ks(t),t.tag=3,t}function sy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ny(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ny(n,a,l),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function PE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Aa(n,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?ic():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ou?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sf(t,l,h)),!1;case 22:return a.flags|=65536,l===Ou?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sf(t,l,h)),!1}throw Error(r(435,a.tag))}return sf(t,l,h),ic(),!1}if(Pe)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jh&&(t=Error(r(422),{cause:l}),Uo(Fn(t,a)))):(l!==Jh&&(n=Error(r(423),{cause:l}),Uo(Fn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,a),h=Od(t.stateNode,l,h),ld(t,h),vt!==4&&(vt=2)),!1;var f=Error(r(520),{cause:l});if(f=Fn(f,a),tl===null?tl=[f]:tl.push(f),vt!==4&&(vt=2),n===null)return!0;l=Fn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Od(a.stateNode,l,t),ld(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),sy(h,t,a,l),ld(a,h),!1}a=a.return}while(a!==null);return!1}var Md=Error(r(461)),Dt=!1;function Xt(t,n,a,l){n.child=t===null?lg(n,null,a,l):Lr(n,t.child,a,l)}function ry(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var T in l)T!=="ref"&&(y[T]=l[T])}else y=l;return kr(n),l=md(t,n,a,y,f,h),T=pd(),t!==null&&!Dt?(gd(t,n,h),qi(t,n,h)):(Pe&&T&&Xh(n),n.flags|=1,Xt(t,n,l,h),n.child)}function ay(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,oy(t,n,f,l,h)):(t=xu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(y,l)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=Ui(f,l),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Mo(f,l)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=l=f,Bd(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,qi(t,n,h)}return kd(t,n,a,l,h)}function ly(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return uy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):cd(),dg(n);else return l=n.lanes=536870912,uy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Cu(n,f.cachePool),hg(n,f),js(),n.memoizedState=null):(t!==null&&Cu(n,null),cd(),js());return Xt(t,n,h,a),n.child}function Yo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(t,n,a,l,h){var f=sd();return f=f===null?null:{parent:It._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Cu(n,null),cd(),dg(n),t!==null&&Aa(t,n,l,!0),n.childLanes=h,null}function Qu(t,n){return n=Yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function cy(t,n,a){return Lr(n,t.child,null,a),t=Qu(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function zE(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Qu(n,l),n.lanes=536870912,Yo(null,t);if(dd(n),(t=ot)?(t=E_(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Is!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Kp(t),a.return=n,n.child=a,Kt=n,ot=null)):t=null,t===null)throw Ds(n);return n.lanes=536870912,null}return Qu(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(dd(n),h)if(n.flags&256)n.flags&=-257,n=cy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Dt||Aa(t,n,a,!1),h=(a&t.childLanes)!==0,Dt||h){if(l=st,l!==null&&(y=ms(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Cr(t,y),Sn(l,t,y),Md;ic(),n=cy(t,n,a)}else t=f.treeContext,ot=Xn(y.nextSibling),Kt=n,Pe=!0,Cs=null,Kn=!1,t!==null&&$p(n,t),n=Qu(n,l),n.flags|=4096;return n}return t=Ui(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ku(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function kd(t,n,a,l,h){return kr(n),a=md(t,n,a,l,void 0,h),l=pd(),t!==null&&!Dt?(gd(t,n,h),qi(t,n,h)):(Pe&&l&&Xh(n),n.flags|=1,Xt(t,n,a,h),n.child)}function hy(t,n,a,l,h,f){return kr(n),n.updateQueue=null,a=mg(n,l,a,h),fg(t),l=pd(),t!==null&&!Dt?(gd(t,n,f),qi(t,n,f)):(Pe&&l&&Xh(n),n.flags|=1,Xt(t,n,a,f),n.child)}function dy(t,n,a,l,h){if(kr(n),n.stateNode===null){var f=va,y=a.contextType;typeof y=="object"&&y!==null&&(f=Yt(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ad(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Yt(y):va,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Cd(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Dd.enqueueReplaceState(f,f.state,null),Ho(n,l,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=zr(a,T);f.props=C;var P=f.context,Q=a.contextType;y=va,typeof Q=="object"&&Q!==null&&(y=Yt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==y)&&Zg(n,f,l,y),Ms=!1;var B=n.memoizedState;f.state=B,Ho(n,l,f,h),qo(),P=n.memoizedState,T||B!==P||Ms?(typeof Z=="function"&&(Cd(n,a,Z,l),P=n.memoizedState),(C=Ms||Jg(n,a,C,l,B,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,od(t,n),y=n.memoizedProps,Q=zr(a,y),f.props=Q,Z=n.pendingProps,B=f.context,P=a.contextType,C=va,typeof P=="object"&&P!==null&&(C=Yt(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Z||B!==C)&&Zg(n,f,l,C),Ms=!1,B=n.memoizedState,f.state=B,Ho(n,l,f,h),qo();var H=n.memoizedState;y!==Z||B!==H||Ms||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof T=="function"&&(Cd(n,a,T,l),H=n.memoizedState),(Q=Ms||Jg(n,a,Q,l,B,H,C)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Lr(n,t.child,null,h),n.child=Lr(n,null,a,h)):Xt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=qi(t,n,h),t}function fy(t,n,a,l){return Or(),n.flags|=256,Xt(t,n,a,l),n.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(t){return{baseLanes:t,cachePool:ng()}}function jd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Vn),t}function my(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pe){if(h?Us(n):js(),(t=ot)?(t=E_(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Is!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},a=Kp(t),a.return=n,n.child=a,Kt=n,ot=null)):t=null,t===null)throw Ds(n);return bf(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(js(),h=n.mode,T=Yu({mode:"hidden",children:T},h),l=Dr(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Ud(a),l.childLanes=jd(t,y,a),n.memoizedState=Vd,Yo(null,l)):(Us(n),Ld(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Pd(t,n,a)):n.memoizedState!==null?(js(),n.child=t.child,n.flags|=128,n=null):(js(),T=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),T=Dr(T,h,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Lr(n,t.child,null,a),l=n.child,l.memoizedState=Ud(a),l.childLanes=jd(t,y,a),n.memoizedState=Vd,n=Yo(null,l));else if(Us(n),bf(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,Uo({value:l,source:null,stack:null}),n=Pd(t,n,a)}else if(Dt||Aa(t,n,a,!1),y=(a&t.childLanes)!==0,Dt||y){if(y=st,y!==null&&(l=ms(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Cr(t,l),Sn(y,t,l),Md;vf(T)||ic(),n=Pd(t,n,a)}else vf(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ot=Xn(T.nextSibling),Kt=n,Pe=!0,Cs=null,Kn=!1,t!==null&&$p(n,t),n=Ld(n,l.children),n.flags|=4096);return n}return h?(js(),T=l.fallback,h=n.mode,C=t.child,P=C.sibling,l=Ui(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Ui(P,T):(T=Dr(T,h,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Yo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Ud(a):(h=T.cachePool,h!==null?(C=It._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ng(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=jd(t,y,a),n.memoizedState=Vd,Yo(t.child,l)):(Us(n),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ld(t,n){return n=Yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yu(t,n){return t=Dn(22,t,null,n),t.lanes=0,t}function Pd(t,n,a){return Lr(n,t.child,null,a),t=Ld(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function py(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ed(t.return,n,a)}function zd(t,n,a,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function gy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=wt.current,T=(y&2)!==0;if(T?(y=y&1|2,n.flags|=128):y&=1,se(wt,y),Xt(t,n,l,a),l=Pe?Vo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,a,n);else if(t.tag===19)py(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Uu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),zd(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}zd(n,!0,a,null,f,l);break;case"together":zd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),zs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Aa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ui(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function BE(t,n,a){switch(n.tag){case 3:Rt(n,n.stateNode.containerInfo),Os(n,It,t.memoizedState.cache),Or();break;case 27:case 5:be(n);break;case 4:Rt(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(t,n,a):(Us(n),t=qi(t,n,a),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Aa(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return gy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(wt,wt.current),l)break;return null;case 22:return n.lanes=0,ly(t,n,a,n.pendingProps);case 24:Os(n,It,t.memoizedState.cache)}return qi(t,n,a)}function yy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Bd(t,a)&&(n.flags&128)===0)return Dt=!1,BE(t,n,a);Dt=(t.flags&131072)!==0}else Dt=!1,Pe&&(n.flags&1048576)!==0&&Xp(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ur(n.elementType),n.type=t,typeof t=="function")Qh(t)?(l=zr(t,l),n.tag=1,n=dy(null,n,t,l,a)):(n.tag=0,n=kd(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===X){n.tag=11,n=ry(null,n,t,l,a);break e}else if(h===S){n.tag=14,n=ay(null,n,t,l,a);break e}}throw n=et(t)||t,Error(r(306,n,""))}}return n;case 0:return kd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=zr(l,n.pendingProps),dy(t,n,l,h,a);case 3:e:{if(Rt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,od(t,n),Ho(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Os(n,It,l),l!==f.cache&&td(n,[It],a,!0),qo(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fy(t,n,l,a);break e}else if(l!==h){h=Fn(Error(r(424)),n),Uo(h),n=fy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Xn(t.firstChild),Kt=n,Pe=!0,Cs=null,Kn=!0,a=lg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Or(),l===h){n=qi(t,n,a);break e}Xt(t,n,l,a)}n=n.child}return n;case 26:return Ku(t,n),t===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pe||(a=n.type,t=n.pendingProps,l=cc(Te.current).createElement(a),l[gt]=n,l[Qt]=t,$t(l,a,t),At(l),n.stateNode=l):n.memoizedState=N_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return be(n),t===null&&Pe&&(l=n.stateNode=S_(n.type,n.pendingProps,Te.current),Kt=n,Kn=!0,h=ot,Gs(n.type)?(Tf=h,ot=Xn(l.firstChild)):ot=h),Xt(t,n,n.pendingProps.children,a),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pe&&((h=l=ot)&&(l=yA(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Kt=n,ot=Xn(l.firstChild),Kn=!1,h=!0):h=!1),h||Ds(n)),be(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,gf(h,f)?l=null:y!==null&&gf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=md(t,n,OE,null,null,a),ul._currentValue=h),Ku(t,n),Xt(t,n,l,a),n.child;case 6:return t===null&&Pe&&((t=a=ot)&&(a=_A(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Kt=n,ot=null,t=!0):t=!1),t||Ds(n)),null;case 13:return my(t,n,a);case 4:return Rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Lr(n,null,l,a):Xt(t,n,l,a),n.child;case 11:return ry(t,n,n.type,n.pendingProps,a);case 7:return Xt(t,n,n.pendingProps,a),n.child;case 8:return Xt(t,n,n.pendingProps.children,a),n.child;case 12:return Xt(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Os(n,n.type,l.value),Xt(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,kr(n),h=Yt(h),l=l(h),n.flags|=1,Xt(t,n,l,a),n.child;case 14:return ay(t,n,n.type,n.pendingProps,a);case 15:return oy(t,n,n.type,n.pendingProps,a);case 19:return gy(t,n,a);case 31:return zE(t,n,a);case 22:return ly(t,n,a,n.pendingProps);case 24:return kr(n),l=Yt(It),t===null?(h=sd(),h===null&&(h=st,f=nd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},ad(n),Os(n,It,h)):((t.lanes&a)!==0&&(od(t,n),Ho(n,null,null,a),qo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,It,l)):(l=f.cache,Os(n,It,l),l!==h.cache&&td(n,[It],a,!0))),Xt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Hi(t){t.flags|=4}function qd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Fy())t.flags|=8192;else throw jr=Ou,rd}else t.flags&=-16777217}function _y(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M_(n))if(Fy())t.flags|=8192;else throw jr=Ou,rd}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?po():536870912,t.lanes|=n,Va|=n)}function Xo(t,n){if(!Pe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function qE(t,n,a){var l=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(It),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ea(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),lt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Hi(n),f!==null?(lt(n),_y(n,f)):(lt(n),qd(n,h,null,l,a))):f?f!==t.memoizedState?(Hi(n),lt(n),_y(n,f)):(lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Hi(n),lt(n),qd(n,h,t,l,a)),null;case 27:if(Me(n),a=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return lt(n),null}t=ue.current,Ea(n)?Jp(n):(t=S_(h,l,a),n.stateNode=t,Hi(n))}return lt(n),null;case 5:if(Me(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return lt(n),null}if(f=ue.current,Ea(n))Jp(n);else{var y=cc(Te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[gt]=n,f[Qt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch($t(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Hi(n)}}return lt(n),qd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Te.current,Ea(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[gt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m_(t.nodeValue,a)),t||Ds(n,!0)}else t=cc(t).createTextNode(l),t[gt]=n,n.stateNode=t}return lt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ea(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[gt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return lt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ea(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[gt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Xu(n,n.updateQueue),lt(n),null);case 4:return re(),t===null&&hf(n.stateNode.containerInfo),lt(n),null;case 10:return Pi(n.type),lt(n),null;case 19:if(Y(wt),l=n.memoizedState,l===null)return lt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xo(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,Xo(l,!1),t=f.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Qp(a,t),a=a.sibling;return se(wt,wt.current&1|2),Pe&&ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ft()>ec&&(n.flags|=128,h=!0,Xo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Uu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),Xo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return lt(n),null}else 2*Ft()-l.renderingStartTime>ec&&a!==536870912&&(n.flags|=128,h=!0,Xo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ft(),t.sibling=null,a=wt.current,se(wt,h?a&1|2:a&1),Pe&&ji(n,l.treeForkCount),t):(lt(n),null);case 22:case 23:return Mn(n),hd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),a=n.updateQueue,a!==null&&Xu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(Vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(It),lt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function HE(t,n){switch($h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(It),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Me(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(r(340));Or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(wt),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return Mn(n),hd(),t!==null&&Y(Vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(It),null;case 25:return null;default:return null}}function vy(t,n){switch($h(n),n.tag){case 3:Pi(It),re();break;case 26:case 27:case 5:Me(n);break;case 4:re();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:Y(wt);break;case 10:Pi(n.type);break;case 22:case 23:Mn(n),hd(),t!==null&&Y(Vr);break;case 24:Pi(It)}}function $o(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(n,n.return,T)}}function Ls(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,h=n;var C=a,P=T;try{P()}catch(Q){Ze(h,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){Ze(n,n.return,Q)}}function by(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{cg(n,a)}catch(l){Ze(t,t.return,l)}}}function Ty(t,n,a){a.props=zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,n,l)}}function Jo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,n,h)}}function gi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,n,h)}else a.current=null}function Ey(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Hd(t,n,a){try{var l=t.stateNode;hA(l,t.type,a,n),l[Qt]=n}catch(h){Ze(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Pt));else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Gd(t,n,a),t=t.sibling;t!==null;)Gd(t,n,a),t=t.sibling}function $u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($u(t,n,a),t=t.sibling;t!==null;)$u(t,n,a),t=t.sibling}function wy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,l,a),n[gt]=t,n[Qt]=a}catch(f){Ze(t,t.return,f)}}var Fi=!1,Ot=!1,Qd=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,qt=null;function FE(t,n){if(t=t.containerInfo,mf=yc,t=jp(t),Ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,T=-1,C=-1,P=0,Q=0,Z=t,B=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=y+h),Z!==f||l!==0&&Z.nodeType!==3||(C=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===t)break t;if(B===a&&++P===h&&(T=y),B===f&&++Q===l&&(C=y),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},yc=!1,qt=n;qt!==null;)if(n=qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,qt=t;else for(;qt!==null;){switch(n=qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=zr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)_f(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,qt=t;break}qt=n.return}}function xy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),l&4&&$o(5,a);break;case 1:if(Qi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ze(a,a.return,y)}else{var h=zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ze(a,a.return,y)}}l&64&&by(a),l&512&&Jo(a,a.return);break;case 3:if(Qi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cg(t,n)}catch(y){Ze(a,a.return,y)}}break;case 27:n===null&&l&4&&wy(a);case 26:case 5:Qi(t,a),n===null&&l&4&&Ey(a),l&512&&Jo(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),l&4&&Iy(t,a);break;case 13:Qi(t,a),l&4&&Cy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WE.bind(null,a),vA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Ot,h=Fi;var f=Ot;Fi=l,(Ot=n)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Fi=h,Ot=f}break;case 30:break;default:Qi(t,a)}}function Ry(t){var n=t.alternate;n!==null&&(t.alternate=null,Ry(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_r(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,Tn=!1;function Gi(t,n,a){for(a=a.child;a!==null;)Ny(t,n,a),a=a.sibling}function Ny(t,n,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(us,a)}catch{}switch(a.tag){case 26:Ot||gi(a,n),Gi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||gi(a,n);var l=dt,h=Tn;Gs(a.type)&&(dt=a.stateNode,Tn=!1),Gi(t,n,a),al(a.stateNode),dt=l,Tn=h;break;case 5:Ot||gi(a,n);case 6:if(l=dt,h=Tn,dt=null,Gi(t,n,a),dt=l,Tn=h,dt!==null)if(Tn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(f){Ze(a,n,f)}else try{dt.removeChild(a.stateNode)}catch(f){Ze(a,n,f)}break;case 18:dt!==null&&(Tn?(t=dt,b_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ha(t)):b_(dt,a.stateNode));break;case 4:l=dt,h=Tn,dt=a.stateNode.containerInfo,Tn=!0,Gi(t,n,a),dt=l,Tn=h;break;case 0:case 11:case 14:case 15:Ls(2,a,n),Ot||Ls(4,a,n),Gi(t,n,a);break;case 1:Ot||(gi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ty(a,n,l)),Gi(t,n,a);break;case 21:Gi(t,n,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,Gi(t,n,a),Ot=l;break;default:Gi(t,n,a)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(a){Ze(n,n.return,a)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(a){Ze(n,n.return,a)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sy),n;default:throw Error(r(435,t.tag))}}function Ju(t,n){var a=GE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=eA.bind(null,t,l);l.then(h,h)}})}function En(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,y=n,T=y;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){dt=T.stateNode,Tn=!1;break e}break;case 5:dt=T.stateNode,Tn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(dt===null)throw Error(r(160));Ny(f,y,h),dt=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dy(n,t),n=n.sibling}var ni=null;function Dy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),An(t),l&4&&(Ls(3,t,t.return),$o(3,t),Ls(5,t,t.return));break;case 1:En(n,t),An(t),l&512&&(Ot||a===null||gi(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(En(n,t),An(t),l&512&&(Ot||a===null||gi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,l,a),f[gt]=t,At(f),l=f;break e;case"link":var y=D_("link","href",h).get(l+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break t}}f=h.createElement(l),$t(f,l,a),h.head.appendChild(f);break;case"meta":if(y=D_("meta","content",h).get(l+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break t}}f=h.createElement(l),$t(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[gt]=t,At(f),l=f}t.stateNode=l}else O_(h,t.type,t.stateNode);else t.stateNode=C_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?O_(h,t.type,t.stateNode):C_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(n,t),An(t),l&512&&(Ot||a===null||gi(a,a.return)),a!==null&&l&4&&Hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(n,t),An(t),l&512&&(Ot||a===null||gi(a,a.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Qd=!0);break;case 6:if(En(n,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(fc=null,h=ni,ni=hc(n.containerInfo),En(n,t),ni=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(he){Ze(t,t.return,he)}Qd&&(Qd=!1,Oy(t));break;case 4:l=ni,ni=hc(t.stateNode.containerInfo),En(n,t),An(t),ni=l;break;case 12:En(n,t),An(t);break;case 31:En(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 13:En(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wu=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,P=Fi,Q=Ot;if(Fi=P||h,Ot=Q||C,En(n,t),Ot=Q,Fi=P,An(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Fi||Ot||Br(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){Ze(C,C.return,he)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){Ze(C,C.return,he)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?T_(H,!0):T_(C.stateNode,!1)}catch(he){Ze(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ju(t,a))));break;case 19:En(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 30:break;case 21:break;default:En(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ay(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Fd(t);$u(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(qn(y,""),a.flags&=-33);var T=Fd(t);$u(t,T,y);break;case 3:case 4:var C=a.stateNode.containerInfo,P=Fd(t);Gd(t,P,C);break;default:throw Error(r(161))}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function Br(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Br(n);break;case 1:gi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Br(n);break;case 27:al(n.stateNode);case 26:case 5:gi(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),$o(4,f);break;case 1:if(Ki(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ze(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ug(C[h],T)}catch(P){Ze(l,l.return,P)}}a&&y&64&&by(f),Jo(f,f.return);break;case 27:wy(f);case 26:case 5:Ki(h,f,a),a&&l===null&&y&4&&Ey(f),Jo(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&y&4&&Iy(h,f);break;case 13:Ki(h,f,a),a&&y&4&&Cy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),Jo(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Kd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jo(a))}function Yd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t))}function ii(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(t,n,a,l),n=n.sibling}function My(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,a,l),h&2048&&$o(9,n);break;case 1:ii(t,n,a,l);break;case 3:ii(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jo(t)));break;case 12:if(h&2048){ii(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(n,n.return,C)}}else ii(t,n,a,l);break;case 31:ii(t,n,a,l);break;case 13:ii(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ii(t,n,a,l):Zo(t,n):f._visibility&2?ii(t,n,a,l):(f._visibility|=2,Oa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kd(y,n);break;case 24:ii(t,n,a,l),h&2048&&Yd(n.alternate,n);break;default:ii(t,n,a,l)}}function Oa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,T=a,C=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(f,y,T,C,h),$o(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Oa(f,y,T,C,h):Zo(f,y):(Q._visibility|=2,Oa(f,y,T,C,h)),h&&P&2048&&Kd(y.alternate,y);break;case 24:Oa(f,y,T,C,h),h&&P&2048&&Yd(y.alternate,y);break;default:Oa(f,y,T,C,h)}n=n.sibling}}function Zo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Zo(a,l),h&2048&&Kd(l.alternate,l);break;case 24:Zo(a,l),h&2048&&Yd(l.alternate,l);break;default:Zo(a,l)}n=n.sibling}}var Wo=8192;function Ma(t,n,a){if(t.subtreeFlags&Wo)for(t=t.child;t!==null;)ky(t,n,a),t=t.sibling}function ky(t,n,a){switch(t.tag){case 26:Ma(t,n,a),t.flags&Wo&&t.memoizedState!==null&&DA(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,n,a);break;case 3:case 4:var l=ni;ni=hc(t.stateNode.containerInfo),Ma(t,n,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Wo,Wo=16777216,Ma(t,n,a),Wo=l):Ma(t,n,a));break;default:Ma(t,n,a)}}function Vy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function el(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];qt=l,jy(l,t)}Vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uy(t),t=t.sibling}function Uy(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zu(t)):el(t);break;default:el(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];qt=l,jy(l,t)}Vy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(n));break;default:Zu(n)}t=t.sibling}}function jy(t,n){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Ls(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,f=l.return;if(Ry(l),l===a){qt=null;break e}if(h!==null){h.return=f,qt=h;break e}qt=f}}}var QE={getCacheForType:function(t){var n=Yt(It),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Yt(It).controller.signal}},KE=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,ke=null,Ue=0,Je=0,kn=null,Ps=!1,ka=!1,Xd=!1,Yi=0,vt=0,zs=0,qr=0,$d=0,Vn=0,Va=0,tl=null,wn=null,Jd=!1,Wu=0,Ly=0,ec=1/0,tc=null,Bs=null,Ut=0,qs=null,Ua=null,Xi=0,Zd=0,Wd=null,Py=null,nl=0,ef=null;function Un(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:G.T!==null?of():Ri()}function zy(){if(Vn===0)if((Ue&536870912)===0||Pe){var t=ai;ai<<=1,(ai&3932160)===0&&(ai=262144),Vn=t}else Vn=536870912;return t=On.current,t!==null&&(t.flags|=32),Vn}function Sn(t,n,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Hs(t,Ue,Vn,!1)),ds(t,a),((Ye&2)===0||t!==st)&&(t===st&&((Ye&2)===0&&(qr|=a),vt===4&&Hs(t,Ue,Vn,!1)),yi(t))}function By(t,n,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||hs(t,n),h=l?$E(t,n):nf(t,n,!0),f=l;do{if(h===0){ka&&!l&&Hs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!YE(a)){h=nf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var T=t;h=tl;var C=T.current.memoizedState.isDehydrated;if(C&&(ja(T,y).flags|=256),y=nf(T,y,!1),y!==2){if(Xd&&!C){T.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break e}f=wn,wn=h,f!==null&&(wn===null?wn=f:wn.push.apply(wn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){ja(t,0),Hs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Hs(l,n,Vn,!Ps);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Wu+300-Ft(),10<h)){if(Hs(l,n,Vn,!Ps),zn(l,0,!0)!==0)break e;Xi=n,l.timeoutHandle=__(qy.bind(null,l,a,wn,tc,Jd,n,Vn,qr,Va,Ps,f,"Throttled",-0,0),h);break e}qy(l,a,wn,tc,Jd,n,Vn,qr,Va,Ps,f,null,-0,0)}}break}while(!0);yi(t)}function qy(t,n,a,l,h,f,y,T,C,P,Q,Z,B,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt},ky(n,f,Z);var he=(f&62914560)===f?Wu-Ft():(f&4194048)===f?Ly-Ft():0;if(he=OA(Z,he),he!==null){Xi=f,t.cancelPendingCommit=he($y.bind(null,t,n,f,a,l,h,y,T,C,Q,Z,null,B,H)),Hs(t,f,y,!P);return}}$y(t,n,f,a,l,h,y,T,C)}function YE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(t,n,a,l){n&=~$d,n&=~qr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-cn(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&go(t,a,n)}function nc(){return(Ye&6)===0?(il(0),!1):!0}function tf(){if(ke!==null){if(Je===0)var t=ke.return;else t=ke,Li=Mr=null,yd(t),Ra=null,Po=0,t=ke;for(;t!==null;)vy(t.alternate,t),t=t.return;ke=null}}function ja(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,tf(),st=t,ke=a=Ui(t.current,null),Ue=n,Je=0,kn=null,Ps=!1,ka=hs(t,n),Xd=!1,Va=Vn=$d=qr=zs=vt=0,wn=tl=null,Jd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-cn(l),f=1<<h;n|=t[h],l&=~f}return Yi=n,Au(),a}function Hy(t,n){Ne=null,G.H=Ko,n===xa||n===Du?(n=rg(),Je=3):n===rd?(n=rg(),Je=4):Je=n===Md?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,ke===null&&(vt=1,Gu(t,Fn(n,t.current)))}function Fy(){var t=On.current;return t===null?!0:(Ue&4194048)===Ue?Yn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Yn:!1}function Gy(){var t=G.H;return G.H=Ko,t===null?Ko:t}function Qy(){var t=G.A;return G.A=QE,t}function ic(){vt=4,Ps||(Ue&4194048)!==Ue&&On.current!==null||(ka=!0),(zs&134217727)===0&&(qr&134217727)===0||st===null||Hs(st,Ue,Vn,!1)}function nf(t,n,a){var l=Ye;Ye|=2;var h=Gy(),f=Qy();(st!==t||Ue!==n)&&(tc=null,ja(t,n)),n=!1;var y=vt;e:do try{if(Je!==0&&ke!==null){var T=ke,C=kn;switch(Je){case 8:tf(),y=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var P=Je;if(Je=0,kn=null,La(t,T,C,P),a&&ka){y=0;break e}break;default:P=Je,Je=0,kn=null,La(t,T,C,P)}}XE(),y=vt;break}catch(Q){Hy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Li=Mr=null,Ye=l,G.H=h,G.A=f,ke===null&&(st=null,Ue=0,Au()),y}function XE(){for(;ke!==null;)Ky(ke)}function $E(t,n){var a=Ye;Ye|=2;var l=Gy(),h=Qy();st!==t||Ue!==n?(tc=null,ec=Ft()+500,ja(t,n)):ka=hs(t,n);e:do try{if(Je!==0&&ke!==null){n=ke;var f=kn;t:switch(Je){case 1:Je=0,kn=null,La(t,n,f,1);break;case 2:case 9:if(ig(f)){Je=0,kn=null,Yy(n);break}n=function(){Je!==2&&Je!==9||st!==t||(Je=7),yi(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ig(f)?(Je=0,kn=null,Yy(n)):(Je=0,kn=null,La(t,n,f,7));break;case 5:var y=null;switch(ke.tag){case 26:y=ke.memoizedState;case 5:case 27:var T=ke;if(y?M_(y):T.stateNode.complete){Je=0,kn=null;var C=T.sibling;if(C!==null)ke=C;else{var P=T.return;P!==null?(ke=P,sc(P)):ke=null}break t}}Je=0,kn=null,La(t,n,f,5);break;case 6:Je=0,kn=null,La(t,n,f,6);break;case 8:tf(),vt=6;break e;default:throw Error(r(462))}}JE();break}catch(Q){Hy(t,Q)}while(!0);return Li=Mr=null,G.H=l,G.A=h,Ye=a,ke!==null?0:(st=null,Ue=0,Au(),vt)}function JE(){for(;ke!==null&&!Nh();)Ky(ke)}function Ky(t){var n=yy(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?sc(t):ke=n}function Yy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:yd(n);default:vy(a,n),n=ke=Qp(n,Yi),n=yy(a,n,Yi)}t.memoizedProps=t.pendingProps,n===null?sc(t):ke=n}function La(t,n,a,l){Li=Mr=null,yd(n),Ra=null,Po=0;var h=n.return;try{if(PE(t,h,n,a,Ue)){vt=1,Gu(t,Fn(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;vt=1,Gu(t,Fn(a,t.current)),ke=null;return}n.flags&32768?(Pe||l===1?t=!0:ka||(Ue&536870912)!==0?t=!1:(Ps=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xy(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){Xy(n,Ps);return}t=n.return;var a=qE(n.alternate,n,Yi);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);vt===0&&(vt=5)}function Xy(t,n){do{var a=HE(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);vt=6,ke=null}function $y(t,n,a,l,h,f,y,T,C){t.cancelPendingCommit=null;do rc();while(Ut!==0);if((Ye&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,Gt(t,a,f,y,T,C),t===st&&(ke=st=null,Ue=0),Ua=n,qs=t,Xi=a,Zd=f,Wd=h,Py=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tA(Si,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ae.p,ae.p=2,y=Ye,Ye|=4;try{FE(t,n,a)}finally{Ye=y,ae.p=h,G.T=l}}Ut=1,Jy(),Zy(),Wy()}}function Jy(){if(Ut===1){Ut=0;var t=qs,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Dy(n,t);var f=pf,y=jp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Up(T.ownerDocument.documentElement,T)){if(C!==null&&Ph(T)){var P=C.start,Q=C.end;if(Q===void 0&&(Q=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=T.textContent.length,_e=Math.min(C.start,he),it=C.end===void 0?_e:Math.min(C.end,he);!H.extend&&_e>it&&(y=it,it=_e,_e=y);var U=Vp(T,_e),M=Vp(T,it);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var L=Z.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),_e>it?(H.addRange(L),H.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),H.addRange(L))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}yc=!!mf,pf=mf=null}finally{Ye=h,ae.p=l,G.T=a}}t.current=n,Ut=2}}function Zy(){if(Ut===2){Ut=0;var t=qs,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{xy(t,n.alternate,n)}finally{Ye=h,ae.p=l,G.T=a}}Ut=3}}function Wy(){if(Ut===4||Ut===3){Ut=0,ho();var t=qs,n=Ua,a=Xi,l=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Ua=qs=null,e_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),_o(a),n=n.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(us,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ae.p,ae.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var T=l[y];f(T.value,{componentStack:T.stack})}}finally{G.T=n,ae.p=h}}(Xi&3)!==0&&rc(),yi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ef?nl++:(nl=0,ef=t):nl=0,il(0)}}function e_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jo(n)))}function rc(){return Jy(),Zy(),Wy(),t_()}function t_(){if(Ut!==5)return!1;var t=qs,n=Zd;Zd=0;var a=_o(Xi),l=G.T,h=ae.p;try{ae.p=32>a?32:a,G.T=null,a=Wd,Wd=null;var f=qs,y=Xi;if(Ut=0,Ua=qs=null,Xi=0,(Ye&6)!==0)throw Error(r(331));var T=Ye;if(Ye|=4,Uy(f.current),My(f,f.current,y,a),Ye=T,il(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(us,f)}catch{}return!0}finally{ae.p=h,G.T=l,e_(t,n)}}function n_(t,n,a){n=Fn(a,n),n=Od(t.stateNode,n,2),t=Vs(t,n,2),t!==null&&(ds(t,2),yi(t))}function Ze(t,n,a){if(t.tag===3)n_(t,t,a);else for(;n!==null;){if(n.tag===3){n_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bs===null||!Bs.has(l))){t=Fn(a,t),a=iy(2),l=Vs(n,a,2),l!==null&&(sy(a,l,n,t),ds(l,2),yi(l));break}}n=n.return}}function sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Xd=!0,h.add(a),t=ZE.bind(null,t,n,a),n.then(t,t))}function ZE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ue&a)===a&&(vt===4||vt===3&&(Ue&62914560)===Ue&&300>Ft()-Wu?(Ye&2)===0&&ja(t,0):$d|=a,Va===Ue&&(Va=0)),yi(t)}function i_(t,n){n===0&&(n=po()),t=Cr(t,n),t!==null&&(ds(t,n),yi(t))}function WE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),i_(t,a)}function eA(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),i_(t,a)}function tA(t,n){return pr(t,n)}var ac=null,Pa=null,rf=!1,oc=!1,af=!1,Fs=0;function yi(t){t!==Pa&&t.next===null&&(Pa===null?ac=Pa=t:Pa=Pa.next=t),oc=!0,rf||(rf=!0,iA())}function il(t,n){if(!af&&oc){af=!0;do for(var a=!1,l=ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-cn(42|t)+1)-1,f&=h&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,o_(l,f))}else f=Ue,f=zn(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||hs(l,f)||(a=!0,o_(l,f));l=l.next}while(a);af=!1}}function nA(){s_()}function s_(){oc=rf=!1;var t=0;Fs!==0&&fA()&&(t=Fs);for(var n=Ft(),a=null,l=ac;l!==null;){var h=l.next,f=r_(l,n);f===0?(l.next=null,a===null?ac=h:a.next=h,h===null&&(Pa=a)):(a=l,(t!==0||(f&3)!==0)&&(oc=!0)),l=h}Ut!==0&&Ut!==5||il(t),Fs!==0&&(Fs=0)}function r_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-cn(f),T=1<<y,C=h[y];C===-1?((T&a)===0||(T&l)!==0)&&(h[y]=ra(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=st,a=Ue,a=zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hs(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&sa(l),_o(a)){case 2:case 8:a=Lt;break;case 32:a=Si;break;case 268435456:a=fo;break;default:a=Si}return l=a_.bind(null,t),a=pr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&sa(l),t.callbackPriority=2,t.callbackNode=null,2}function a_(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rc()&&t.callbackNode!==a)return null;var l=Ue;return l=zn(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(By(t,l,n),r_(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?a_.bind(null,t):null)}function o_(t,n){if(rc())return null;By(t,n,!0)}function iA(){pA(function(){(Ye&6)!==0?pr(Vt,nA):s_()})}function of(){if(Fs===0){var t=wa;t===0&&(t=yr,yr<<=1,(yr&261888)===0&&(yr=256)),Fs=t}return Fs}function l_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hi(""+t)}function u_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function sA(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=l_((h[Qt]||null).action),y=l.submitter;y&&(n=(n=y[Qt]||null)?l_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Ar("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=y?u_(h,y):new FormData(h);xd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=y?u_(h,y):new FormData(h),xd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var lf=0;lf<Hh.length;lf++){var uf=Hh[lf],rA=uf.toLowerCase(),aA=uf[0].toUpperCase()+uf.slice(1);ti(rA,"on"+aA)}ti(zp,"onAnimationEnd"),ti(Bp,"onAnimationIteration"),ti(qp,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(EE,"onTransitionRun"),ti(AE,"onTransitionStart"),ti(wE,"onTransitionCancel"),ti(Hp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function c_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var T=l[y],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Q){Eu(Q)}h.currentTarget=null,f=C}else for(y=0;y<l.length;y++){if(T=l[y],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(Q){Eu(Q)}h.currentTarget=null,f=C}}}}function Ve(t,n){var a=n[ps];a===void 0&&(a=n[ps]=new Set);var l=t+"__bubble";a.has(l)||(h_(n,t,2,!1),a.add(l))}function cf(t,n,a){var l=0;n&&(l|=4),h_(a,t,l,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[lc]){t[lc]=!0,aa.forEach(function(a){a!=="selectionchange"&&(oA.has(a)||cf(a,!1,t),cf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lc]||(n[lc]=!0,cf("selectionchange",!1,n))}}function h_(t,n,a,l){switch(z_(n)){case 2:var h=VA;break;case 8:h=UA;break;default:h=xf}a=h.bind(null,n,a,t),h=void 0,!xo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function df(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var T=l.stateNode.containerInfo;if(T===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;T!==null;){if(y=Ii(T),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=f=y;continue e}T=T.parentNode}}l=l.return}au(function(){var P=f,Q=ha(a),Z=[];e:{var B=Fp.get(t);if(B!==void 0){var H=Ar,he=t;switch(t){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":H=pu;break;case"focusin":he="focus",H=Ss;break;case"focusout":he="blur",H=Ss;break;case"beforeblur":case"afterblur":H=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=yu;break;case zp:case Bp:case qp:H=ma;break;case Hp:H=pa;break;case"scroll":case"scrollend":H=ou;break;case"wheel":H=vu;break;case"copy":case"cut":case"paste":H=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Do;break;case"toggle":case"beforetoggle":H=Rs}var _e=(n&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),U=_e?B!==null?B+"Capture":null:B;_e=[];for(var M=P,L;M!==null;){var $=M;if(L=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||L===null||U===null||($=vn(M,U),$!=null&&_e.push(rl(M,$,L))),it)break;M=M.return}0<_e.length&&(B=new H(B,he,null,a,Q),Z.push({event:B,listeners:_e}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==ca&&(he=a.relatedTarget||a.fromElement)&&(Ii(he)||he[li]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=P,he=he?Ii(he):null,he!==null&&(it=u(he),_e=he.tag,he!==it||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(H=null,he=P),H!==he)){if(_e=lu,$="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Do,$="onPointerLeave",U="onPointerEnter",M="pointer"),it=H==null?B:vr(H),L=he==null?B:vr(he),B=new _e($,M+"leave",H,a,Q),B.target=it,B.relatedTarget=L,$=null,Ii(Q)===P&&(_e=new _e(U,M+"enter",he,a,Q),_e.target=L,_e.relatedTarget=it,$=_e),it=$,H&&he)t:{for(_e=lA,U=H,M=he,L=0,$=U;$;$=_e($))L++;$=0;for(var ge=M;ge;ge=_e(ge))$++;for(;0<L-$;)U=_e(U),L--;for(;0<$-L;)M=_e(M),$--;for(;L--;){if(U===M||M!==null&&U===M.alternate){_e=U;break t}U=_e(U),M=_e(M)}_e=null}else _e=null;H!==null&&d_(Z,B,H,_e,!1),he!==null&&it!==null&&d_(Z,it,he,_e,!0)}}e:{if(B=P?vr(P):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ge=Ip;else if(bn(B))if(Cp)Ge=vE;else{Ge=yE;var fe=gE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&wo(P.elementType)&&(Ge=Ip):Ge=_E;if(Ge&&(Ge=Ge(t,P))){Rr(Z,Ge,a,Q);break e}fe&&fe(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ua(B,"number",B.value)}switch(fe=P?vr(P):window,t){case"focusin":(bn(fe)||fe.contentEditable==="true")&&(ga=fe,zh=P,ko=null);break;case"focusout":ko=zh=ga=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Lp(Z,a,Q);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":Lp(Z,a,Q)}var Ce;if(m)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else De?$e(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(j&&a.locale!=="ko"&&(De||je!=="onCompositionStart"?je==="onCompositionEnd"&&De&&(Ce=Ts()):(In=Q,da="value"in In?In.value:In.textContent,De=!0)),fe=uc(P,je),0<fe.length&&(je=new No(je,t,null,a,Q),Z.push({event:je,listeners:fe}),Ce?je.data=Ce:(Ce=Nt(a),Ce!==null&&(je.data=Ce)))),(Ce=A?zt(t,a):Bt(t,a))&&(je=uc(P,"onBeforeInput"),0<je.length&&(fe=new No("onBeforeInput","beforeinput",null,a,Q),Z.push({event:fe,listeners:je}),fe.data=Ce)),sA(Z,t,P,a,Q)}c_(Z,n)})}function rl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function uc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vn(t,a),h!=null&&l.unshift(rl(t,h,f)),h=vn(t,n),h!=null&&l.push(rl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function lA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=vn(a,f),P!=null&&y.unshift(rl(a,P,C))):h||(P=vn(a,f),P!=null&&y.push(rl(a,P,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(cA,"")}function m_(t,n){return n=f_(n),f_(t)===n}function nt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||qn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&qn(t,""+l);break;case"className":_s(t,"class",l);break;case"tabIndex":_s(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_s(t,a,l);break;case"style":su(t,l,f);break;case"data":if(n!=="object"){_s(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pt);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=hi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ys(t,"popover",l);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ys(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kh.get(a)||a,ys(t,a,l))}}function ff(t,n,a,l,h,f){switch(a){case"style":su(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?qn(t,l):(typeof l=="number"||typeof l=="bigint")&&qn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ys(t,a,l)}}}function $t(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,f,y,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),l&&nt(t,n,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=f=y=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:nt(t,n,l,Q,a,null)}}br(t,f,T,C,P,y,h,!1);return;case"select":Ve("invalid",t),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":l=T;default:nt(t,n,h,T,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Fe(t,!!l,n,!1):a!=null&&Fe(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:nt(t,n,y,T,a,null)}bs(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,n,C,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<sl.length;l++)Ve(sl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,P,l,a,null)}return;default:if(wo(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&ff(t,n,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,n,T,l,a,null))}function hA(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,T=null,C=null,P=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(H)||nt(t,n,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Z&&nt(t,n,B,H,l,Z)}}vs(t,y,T,C,P,Q,f,h);return;case"select":H=y=T=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||nt(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==C&&nt(t,n,h,f,l,C)}n=T,a=y,l=H,B!=null?Fe(t,!!a,B,!1):!!l!=!!a&&(n!=null?Fe(t,!!a,n,!0):Fe(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,n,T,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&nt(t,n,y,h,l,f)}Tr(t,B,H);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:nt(t,n,he,null,l,B)}for(C in l)if(B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:nt(t,n,C,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)B=a[_e],a.hasOwnProperty(_e)&&B!=null&&!l.hasOwnProperty(_e)&&nt(t,n,_e,null,l,B);for(P in l)if(B=l[P],H=a[P],l.hasOwnProperty(P)&&B!==H&&(B!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:nt(t,n,P,B,l,H)}return;default:if(wo(n)){for(var it in a)B=a[it],a.hasOwnProperty(it)&&B!==void 0&&!l.hasOwnProperty(it)&&ff(t,n,it,void 0,l,B);for(Q in l)B=l[Q],H=a[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||ff(t,n,Q,B,l,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&nt(t,n,U,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||nt(t,n,Z,B,l,H)}function p_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,T=h.duration;if(f&&T&&p_(y)){for(y=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],P=C.startTime;if(P>T)break;var Q=C.transferSize,Z=C.initiatorType;Q&&p_(Z)&&(C=C.responseEnd,y+=Q*(C<T?1:(T-P)/(C-P)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mf=null,pf=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function g_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function fA(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(gA)}:__;function gA(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function b_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ha(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,al(a);for(var f=a.firstChild;f;){var y=f.nextSibling,T=f.nodeName;f[Ni]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&al(t.ownerDocument.body);a=h}while(a);Ha(n)}function T_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_f(a),_r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yA(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function _A(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function E_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function bf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Tf=null;function A_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function w_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function S_(t,n,a){switch(n=cc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_r(t)}var $n=new Map,x_=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ae.d;ae.d={f:bA,r:TA,D:EA,C:AA,L:wA,m:SA,X:RA,S:xA,M:NA};function bA(){var t=$i.f(),n=nc();return t||n}function TA(t){var n=Ci(t);n!==null&&n.tag===5&&n.type==="form"?Hg(n):$i.r(t)}var za=typeof document>"u"?null:document;function R_(t,n,a){var l=za;if(l&&typeof n=="string"&&n){var h=yt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),x_.has(h)||(x_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$t(n,"link",t),At(n),l.head.appendChild(n)))}}function EA(t){$i.D(t),R_("dns-prefetch",t,null)}function AA(t,n){$i.C(t,n),R_("preconnect",t,n)}function wA(t,n,a){$i.L(t,n,a);var l=za;if(l&&t&&n){var h='link[rel="preload"][as="'+yt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var f=h;switch(n){case"style":f=Ba(t);break;case"script":f=qa(t)}$n.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),$n.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ol(f))||n==="script"&&l.querySelector(ll(f))||(n=l.createElement("link"),$t(n,"link",t),At(n),l.head.appendChild(n)))}}function SA(t,n){$i.m(t,n);var a=za;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(t)}if(!$n.has(f)&&(t=x({rel:"modulepreload",href:t},n),$n.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(f)))return}l=a.createElement("link"),$t(l,"link",t),At(l),a.head.appendChild(l)}}}function xA(t,n,a){$i.S(t,n,a);var l=za;if(l&&t){var h=Wn(l).hoistableStyles,f=Ba(t);n=n||"default";var y=h.get(f);if(!y){var T={loading:0,preload:null};if(y=l.querySelector(ol(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=$n.get(f))&&Ef(t,a);var C=y=l.createElement("link");At(C),$t(C,"link",t),C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:T},h.set(f,y)}}}function RA(t,n){$i.X(t,n);var a=za;if(a&&t){var l=Wn(a).hoistableScripts,h=qa(t),f=l.get(h);f||(f=a.querySelector(ll(h)),f||(t=x({src:t,async:!0},n),(n=$n.get(h))&&Af(t,n),f=a.createElement("script"),At(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function NA(t,n){$i.M(t,n);var a=za;if(a&&t){var l=Wn(a).hoistableScripts,h=qa(t),f=l.get(h);f||(f=a.querySelector(ll(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&Af(t,n),f=a.createElement("script"),At(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function N_(t,n,a,l){var h=(h=Te.current)?hc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ba(a.href),a=Wn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ba(a.href);var f=Wn(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ol(t)))&&!f._p&&(y.instance=f,y.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||IA(h,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(a),a=Wn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ba(t){return'href="'+yt(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function IA(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$t(n,"link",a),At(n),t.head.appendChild(n))}function qa(t){return'[src="'+yt(t)+'"]'}function ll(t){return"script[async]"+t}function C_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return n.instance=l,At(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),$t(l,"style",h),dc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ba(a.href);var f=t.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,At(f),f;l=I_(a),(h=$n.get(h))&&Ef(l,h),f=(t.ownerDocument||t).createElement("link"),At(f);var y=f;return y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),$t(f,"link",l),n.state.loading|=4,dc(f,a.precedence,t),n.instance=f;case"script":return f=qa(a.src),(h=t.querySelector(ll(f)))?(n.instance=h,At(h),h):(l=a,(h=$n.get(f))&&(l=x({},a),Af(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),$t(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,dc(l,a.precedence,t));return n.instance}function dc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var T=l[y];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fc=null;function D_(t,n,a){if(fc===null){var l=new Map,h=fc=new Map;h.set(a,l)}else h=fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ni]||f[gt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=l.get(y);T?T.push(f):l.set(y,[f])}}return l}function O_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function CA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DA(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(l.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=mc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=n.ownerDocument||n,l=I_(l),(h=$n.get(h))&&Ef(l,h),f=f.createElement("link"),At(f);var y=f;y._p=new Promise(function(T,C){y.onload=T,y.onerror=C}),$t(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=mc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var wf=0;function OA(t,n){return t.stylesheets&&t.count===0&&gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wf===0&&(wf=62500*dA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&gc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function gc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(MA,t),pc=null,mc.call(t))}function MA(t,n){if(!(n.state.loading&4)){var a=pc.get(t);if(a)var l=a.get(null);else{a=new Map,pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ul={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function kA(t,n,a,l,h,f,y,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function k_(t,n,a,l,h,f,y,T,C,P,Q,Z){return t=new kA(t,n,a,y,C,P,Q,Z,T),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=nd(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ad(f),t}function V_(t){return t?(t=va,t):va}function U_(t,n,a,l,h,f){h=V_(h),l.context===null?l.context=h:l.pendingContext=h,l=ks(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Vs(t,l,n),a!==null&&(Sn(a,t,n),Bo(a,t,n))}function j_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Sf(t,n){j_(t,n),(t=t.alternate)&&j_(t,n)}function L_(t){if(t.tag===13||t.tag===31){var n=Cr(t,67108864);n!==null&&Sn(n,t,67108864),Sf(t,67108864)}}function P_(t){if(t.tag===13||t.tag===31){var n=Un();n=yo(n);var a=Cr(t,n);a!==null&&Sn(a,t,n),Sf(t,n)}}var yc=!0;function VA(t,n,a,l){var h=G.T;G.T=null;var f=ae.p;try{ae.p=2,xf(t,n,a,l)}finally{ae.p=f,G.T=h}}function UA(t,n,a,l){var h=G.T;G.T=null;var f=ae.p;try{ae.p=8,xf(t,n,a,l)}finally{ae.p=f,G.T=h}}function xf(t,n,a,l){if(yc){var h=Rf(l);if(h===null)df(t,n,l,_c,a),B_(t,l);else if(LA(h,t,n,a,l))l.stopPropagation();else if(B_(t,l),n&4&&-1<jA.indexOf(t)){for(;h!==null;){var f=Ci(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Zn(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var C=1<<31-cn(y);T.entanglements[1]|=C,y&=~C}yi(f),(Ye&6)===0&&(ec=Ft()+500,il(0))}}break;case 31:case 13:T=Cr(f,2),T!==null&&Sn(T,f,2),nc(),Sf(f,2)}if(f=Rf(l),f===null&&df(t,n,l,_c,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Rf(t){return t=ha(t),Nf(t)}var _c=null;function Nf(t){if(_c=null,t=Ii(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _c=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jl()){case Vt:return 2;case Lt:return 8;case Si:case Zl:return 32;case fo:return 268435456;default:return 32}default:return 32}}var If=!1,Qs=null,Ks=null,Ys=null,cl=new Map,hl=new Map,Xs=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function dl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ci(n),n!==null&&L_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function LA(t,n,a,l,h){switch(n){case"focusin":return Qs=dl(Qs,t,n,a,l,h),!0;case"dragenter":return Ks=dl(Ks,t,n,a,l,h),!0;case"mouseover":return Ys=dl(Ys,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,dl(cl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,dl(hl.get(f)||null,t,n,a,l,h)),!0}return!1}function q_(t){var n=Ii(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,eu(t.priority,function(){P_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,eu(t.priority,function(){P_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ca=l,a.target.dispatchEvent(l),ca=null}else return n=Ci(a),n!==null&&L_(n),t.blockedOn=a,!1;n.shift()}return!0}function H_(t,n,a){vc(t)&&a.delete(n)}function PA(){If=!1,Qs!==null&&vc(Qs)&&(Qs=null),Ks!==null&&vc(Ks)&&(Ks=null),Ys!==null&&vc(Ys)&&(Ys=null),cl.forEach(H_),hl.forEach(H_)}function bc(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PA)))}var Tc=null;function F_(t){Tc!==t&&(Tc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=Ci(a);f!==null&&(t.splice(n,3),n-=3,xd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ha(t){function n(C){return bc(C,t)}Qs!==null&&bc(Qs,t),Ks!==null&&bc(Ks,t),Ys!==null&&bc(Ys,t),cl.forEach(n),hl.forEach(n);for(var a=0;a<Xs.length;a++){var l=Xs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[Qt]||null;if(typeof f=="function")y||F_(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Qt]||null)T=y.formAction;else if(Nf(h)!==null)continue}else T=y.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),F_(a)}}}function G_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cf(t){this._internalRoot=t}Ec.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Un();U_(a,l,t,n,null,null)},Ec.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;U_(t.current,2,null,t,null,null),nc(),n[li]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ri();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Xs.length&&n!==0&&n<Xs[a].priority;a++);Xs.splice(a,0,t),a===0&&q_(t)}};var Q_=e.version;if(Q_!=="19.2.4")throw Error(r(527,Q_,"19.2.4"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{us=Ac.inject(zA),nn=Ac}catch{}}return ml.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=Wg,f=ey,y=ty;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=k_(t,1,!1,null,null,a,l,null,h,f,y,G_),t[li]=n.current,hf(t),new Cf(n)},ml.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Wg,y=ey,T=ty,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=k_(t,1,!0,n,a??null,l,h,C,f,y,T,G_),n.context=V_(null),a=n.current,l=Un(),l=yo(l),h=ks(l),h.callback=null,Vs(a,h,l),a=l,n.current.lanes=a,ds(n,a),yi(n),t[li]=n.current,hf(t),new Ec(n)},ml.version="19.2.4",ml}var n0;function JA(){if(n0)return Mf.exports;n0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mf.exports=$A(),Mf.exports}var ZA=JA();const WA=Nv(ZA);var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},e1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],p=s[i++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,E=u>>2,x=(u&3)<<4|p>>4;let D=(p&15)<<2|_>>6,q=_&63;g||(q=64,d||(D=64)),r.push(i[E],i[x],i[D],i[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Iv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):e1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||p==null||_==null||x==null)throw new t1;const D=u<<2|p>>4;if(r.push(D),_!==64){const q=p<<4&240|_>>2;if(r.push(q),x!==64){const K=_<<6&192|x;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class t1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n1=function(s){const e=Iv(s);return Cv.encodeByteArray(e,!0)},Hc=function(s){return n1(s).replace(/\./g,"")},Dv=function(s){try{return Cv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=()=>i1().__FIREBASE_DEFAULTS__,r1=()=>{if(typeof process>"u"||typeof i0>"u")return;const s=i0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},a1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},oh=()=>{try{return s1()||r1()||a1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>{var e,i;return(i=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},Mv=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},kv=()=>{var s;return(s=oh())===null||s===void 0?void 0:s.config},Vv=s=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function u1(){var s;const e=(s=oh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f1(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function m1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class wi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=y1,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?_1(u,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new wi(o,p,r)}}function _1(s,e){return s.replace(v1,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const v1=/\{\$([^}]+)}/g;function b1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Fc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const u=s[o],d=e[o];if(s0(u)&&s0(d)){if(!Fc(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function s0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function T1(s,e){const i=new E1(s,e);return i.subscribe.bind(i)}class E1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");A1(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=jf),o.error===void 0&&(o.error=jf),o.complete===void 0&&(o.complete=jf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(s){return s&&s._delegate?s._delegate:s}class ur{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new o1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x1(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(o)}return o}onInit(e,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S1(s){return s===Hr?void 0:s}function x1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new w1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const N1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},I1=ze.INFO,C1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},D1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=C1[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=I1,this._logHandler=D1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const O1=(s,e)=>e.some(i=>s instanceof i);let r0,a0;function M1(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,Wf=new WeakMap,Lv=new WeakMap,Lf=new WeakMap,Dm=new WeakMap;function V1(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(sr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&jv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function U1(s){if(Wf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Wf.set(s,e)}let em={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function j1(s){em=s(em)}function L1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Pf(this),e,...i);return Lv.set(r,e.sort?e.sort():[e]),sr(r)}:k1().includes(s)?function(...e){return s.apply(Pf(this),e),sr(jv.get(this))}:function(...e){return sr(s.apply(Pf(this),e))}}function P1(s){return typeof s=="function"?L1(s):(s instanceof IDBTransaction&&U1(s),O1(s,M1())?new Proxy(s,em):s)}function sr(s){if(s instanceof IDBRequest)return V1(s);if(Lf.has(s))return Lf.get(s);const e=P1(s);return e!==s&&(Lf.set(s,e),Dm.set(e,s)),e}const Pf=s=>Dm.get(s);function z1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(s,e),p=sr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(sr(d.result),g.oldVersion,g.newVersion,sr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const B1=["get","getKey","getAll","getAllKeys","count"],q1=["put","add","delete","clear"],zf=new Map;function o0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zf.get(e))return zf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=q1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||B1.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&g.done]))[0]};return zf.set(e,u),u}j1(s=>({...s,get:(e,i,r)=>o0(e,i)||s.get(e,i,r),has:(e,i)=>!!o0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(F1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function F1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tm="@firebase/app",l0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Cm("@firebase/app"),G1="@firebase/app-compat",Q1="@firebase/analytics-compat",K1="@firebase/analytics",Y1="@firebase/app-check-compat",X1="@firebase/app-check",$1="@firebase/auth",J1="@firebase/auth-compat",Z1="@firebase/database",W1="@firebase/data-connect",ew="@firebase/database-compat",tw="@firebase/functions",nw="@firebase/functions-compat",iw="@firebase/installations",sw="@firebase/installations-compat",rw="@firebase/messaging",aw="@firebase/messaging-compat",ow="@firebase/performance",lw="@firebase/performance-compat",uw="@firebase/remote-config",cw="@firebase/remote-config-compat",hw="@firebase/storage",dw="@firebase/storage-compat",fw="@firebase/firestore",mw="@firebase/vertexai-preview",pw="@firebase/firestore-compat",gw="firebase",yw="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",_w={[tm]:"fire-core",[G1]:"fire-core-compat",[K1]:"fire-analytics",[Q1]:"fire-analytics-compat",[X1]:"fire-app-check",[Y1]:"fire-app-check-compat",[$1]:"fire-auth",[J1]:"fire-auth-compat",[Z1]:"fire-rtdb",[W1]:"fire-data-connect",[ew]:"fire-rtdb-compat",[tw]:"fire-fn",[nw]:"fire-fn-compat",[iw]:"fire-iid",[sw]:"fire-iid-compat",[rw]:"fire-fcm",[aw]:"fire-fcm-compat",[ow]:"fire-perf",[lw]:"fire-perf-compat",[uw]:"fire-rc",[cw]:"fire-rc-compat",[hw]:"fire-gcs",[dw]:"fire-gcs-compat",[fw]:"fire-fst",[pw]:"fire-fst-compat",[mw]:"fire-vertex","fire-js":"fire-js",[gw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,vw=new Map,im=new Map;function u0(s,e){try{s.container.addComponent(e)}catch(i){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Kr(s){const e=s.name;if(im.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,s);for(const i of Gc.values())u0(i,s);for(const i of vw.values())u0(i,s);return!0}function lh(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Wi(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new jl("app","Firebase",bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=yw;function Pv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw rr.create("no-options");const u=Gc.get(o);if(u){if(Fc(i,u.options)&&Fc(r,u.config))return u;throw rr.create("duplicate-app",{appName:o})}const d=new R1(o);for(const g of im.values())d.addComponent(g);const p=new Tw(i,r,d);return Gc.set(o,p),p}function Om(s=nm){const e=Gc.get(s);if(!e&&s===nm&&kv())return Pv();if(!e)throw rr.create("no-app",{appName:s});return e}function _i(s,e,i){var r;let o=(r=_w[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(p.join(" "));return}Kr(new ur(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebase-heartbeat-database",Aw=1,Rl="firebase-heartbeat-store";let Bf=null;function zv(){return Bf||(Bf=z1(Ew,Aw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),Bf}async function ww(s){try{const i=(await zv()).transaction(Rl),r=await i.objectStore(Rl).get(Bv(s));return await i.done,r}catch(e){if(e instanceof wi)ss.warn(e.message);else{const i=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(i.message)}}}async function c0(s,e){try{const r=(await zv()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,Bv(s)),await r.done}catch(i){if(i instanceof wi)ss.warn(i.message);else{const r=rr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ss.warn(r.message)}}}function Bv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1024,xw=720*60*60*1e3;class Rw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=xw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=h0(),{heartbeatsToSend:r,unsentEntries:o}=Nw(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ss.warn(i),""}}}function h0(){return new Date().toISOString().substring(0,10)}function Nw(s,e=Sw){const i=[];let r=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),d0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ww(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function d0(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(s){Kr(new ur("platform-logger",e=>new H1(e),"PRIVATE")),Kr(new ur("heartbeat",e=>new Rw(e),"PRIVATE")),_i(tm,l0,s),_i(tm,l0,"esm2017"),_i("fire-js","")}Cw("");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,qv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function R(){}R.prototype=w.prototype,S.D=w.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(I,O,V){for(var N=Array(arguments.length-2),et=2;et<arguments.length;et++)N[et-2]=arguments[et];return w.prototype[O].apply(I,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,w,R){R||(R=0);var I=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)I[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)I[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=S.g[0],R=S.g[1],O=S.g[2];var V=S.g[3],N=w+(V^R&(O^V))+I[0]+3614090360&4294967295;w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[1]+3905402710&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[3]+3250441966&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(V^R&(O^V))+I[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[5]+1200080426&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[7]+4249261313&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(V^R&(O^V))+I[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[9]+2336552879&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[11]+2304563134&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(V^R&(O^V))+I[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=V+(O^w&(R^O))+I[13]+4254626195&4294967295,V=w+(N<<12&4294967295|N>>>20),N=O+(R^V&(w^R))+I[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=R+(w^O&(V^w))+I[15]+1236535329&4294967295,R=O+(N<<22&4294967295|N>>>10),N=w+(O^V&(R^O))+I[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[6]+3225465664&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[0]+3921069994&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(O^V&(R^O))+I[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[10]+38016083&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[4]+3889429448&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(O^V&(R^O))+I[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[14]+3275163606&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[8]+1163531501&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(O^V&(R^O))+I[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=V+(R^O&(w^R))+I[2]+4243563512&4294967295,V=w+(N<<9&4294967295|N>>>23),N=O+(w^R&(V^w))+I[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=R+(V^w&(O^V))+I[12]+2368359562&4294967295,R=O+(N<<20&4294967295|N>>>12),N=w+(R^O^V)+I[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[8]+2272392833&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[14]+4259657740&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(R^O^V)+I[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[4]+1272893353&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[10]+3200236656&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(R^O^V)+I[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[0]+3936430074&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[6]+76029189&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(R^O^V)+I[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=V+(w^R^O)+I[12]+3873151461&4294967295,V=w+(N<<11&4294967295|N>>>21),N=O+(V^w^R)+I[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=R+(O^V^w)+I[2]+3299628645&4294967295,R=O+(N<<23&4294967295|N>>>9),N=w+(O^(R|~V))+I[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[7]+1126891415&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[5]+4237533241&4294967295,R=O+(N<<21&4294967295|N>>>11),N=w+(O^(R|~V))+I[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[3]+2399980690&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[1]+2240044497&4294967295,R=O+(N<<21&4294967295|N>>>11),N=w+(O^(R|~V))+I[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[15]+4264355552&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[13]+1309151649&4294967295,R=O+(N<<21&4294967295|N>>>11),N=w+(O^(R|~V))+I[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=V+(R^(w|~O))+I[11]+3174756917&4294967295,V=w+(N<<10&4294967295|N>>>22),N=O+(w^(V|~R))+I[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=R+(V^(O|~w))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+V&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var R=w-this.blockSize,I=this.B,O=this.h,V=0;V<w;){if(O==0)for(;V<=R;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<w;)if(I[O++]=S.charCodeAt(V++),O==this.blockSize){o(this,I),O=0;break}}else for(;V<w;)if(I[O++]=S[V++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var R=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=R&255,R/=256;for(this.u(S),S=Array(16),w=R=0;4>w;++w)for(var I=0;32>I;I+=8)S[R++]=this.g[w]>>>I&255;return S};function u(S,w){var R=p;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=w(S)}function d(S,w){this.h=w;for(var R=[],I=!0,O=S.length-1;0<=O;O--){var V=S[O]|0;I&&V==w||(R[O]=V,I=!1)}this.g=R}var p={};function g(S){return-128<=S&&128>S?u(S,function(w){return new d([w|0],0>w?-1:0)}):new d([S|0],0>S?-1:0)}function _(S){if(isNaN(S)||!isFinite(S))return x;if(0>S)return J(_(-S));for(var w=[],R=1,I=0;S>=R;I++)w[I]=S/R|0,R*=4294967296;return new d(w,0)}function E(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return J(E(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(w,8)),I=x,O=0;O<S.length;O+=8){var V=Math.min(8,S.length-O),N=parseInt(S.substring(O,O+V),w);8>V?(V=_(Math.pow(w,V)),I=I.j(V).add(_(N))):(I=I.j(R),I=I.add(_(N)))}return I}var x=g(0),D=g(1),q=g(16777216);s=d.prototype,s.m=function(){if(ie(this))return-J(this).m();for(var S=0,w=1,R=0;R<this.g.length;R++){var I=this.i(R);S+=(0<=I?I:4294967296+I)*w,w*=4294967296}return S},s.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(K(this))return"0";if(ie(this))return"-"+J(this).toString(S);for(var w=_(Math.pow(S,6)),R=this,I="";;){var O=X(R,w).g;R=le(R,O.j(w));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=O,K(R))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},s.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function K(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function ie(S){return S.h==-1}s.l=function(S){return S=le(this,S),ie(S)?-1:K(S)?0:1};function J(S){for(var w=S.g.length,R=[],I=0;I<w;I++)R[I]=~S.g[I];return new d(R,~S.h).add(D)}s.abs=function(){return ie(this)?J(this):this},s.add=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0,O=0;O<=w;O++){var V=I+(this.i(O)&65535)+(S.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);I=N>>>16,V&=65535,N&=65535,R[O]=N<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function le(S,w){return S.add(J(w))}s.j=function(S){if(K(this)||K(S))return x;if(ie(this))return ie(S)?J(this).j(J(S)):J(J(this).j(S));if(ie(S))return J(this.j(J(S)));if(0>this.l(q)&&0>S.l(q))return _(this.m()*S.m());for(var w=this.g.length+S.g.length,R=[],I=0;I<2*w;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<S.g.length;O++){var V=this.i(I)>>>16,N=this.i(I)&65535,et=S.i(O)>>>16,rt=S.i(O)&65535;R[2*I+2*O]+=N*rt,te(R,2*I+2*O),R[2*I+2*O+1]+=V*rt,te(R,2*I+2*O+1),R[2*I+2*O+1]+=N*et,te(R,2*I+2*O+1),R[2*I+2*O+2]+=V*et,te(R,2*I+2*O+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function te(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function ne(S,w){this.g=S,this.h=w}function X(S,w){if(K(w))throw Error("division by zero");if(K(S))return new ne(x,x);if(ie(S))return w=X(J(S),w),new ne(J(w.g),J(w.h));if(ie(w))return w=X(S,J(w)),new ne(J(w.g),w.h);if(30<S.g.length){if(ie(S)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,I=w;0>=I.l(S);)R=pe(R),I=pe(I);var O=z(R,1),V=z(I,1);for(I=z(I,2),R=z(R,2);!K(I);){var N=V.add(I);0>=N.l(S)&&(O=O.add(R),V=N),I=z(I,1),R=z(R,1)}return w=le(S,O.j(w)),new ne(O,w)}for(O=x;0<=S.l(w);){for(R=Math.max(1,Math.floor(S.m()/w.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=_(R),N=V.j(w);ie(N)||0<N.l(S);)R-=I,V=_(R),N=V.j(w);K(V)&&(V=D),O=O.add(V),S=le(S,N)}return new ne(O,S)}s.A=function(S){return X(this,S).h},s.and=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)&S.i(I);return new d(R,this.h&S.h)},s.or=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)|S.i(I);return new d(R,this.h|S.h)},s.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],I=0;I<w;I++)R[I]=this.i(I)^S.i(I);return new d(R,this.h^S.h)};function pe(S){for(var w=S.g.length+1,R=[],I=0;I<w;I++)R[I]=S.i(I)<<1|S.i(I-1)>>>31;return new d(R,S.h)}function z(S,w){var R=w>>5;w%=32;for(var I=S.g.length-R,O=[],V=0;V<I;V++)O[V]=0<w?S.i(V+R)>>>w|S.i(V+R+1)<<32-w:S.i(V+R);return new d(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,Gr=d}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,yl,Fv,Mc,sm,Gv,Qv,Kv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(c,m){if(m)e:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var F=v++;return{value:m(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function _(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,v){return c.call.apply(c.bind,arguments)}function x(c,m,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function D(c,m,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:x,D.apply(null,arguments)}function q(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function K(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,F){for(var oe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)oe[$e-2]=arguments[$e];return m.prototype[j].apply(A,oe)}}function ie(c){const m=c.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function J(c,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const j=c.length||0,F=A.length||0;c.length=j+F;for(let oe=0;oe<F;oe++)c[j+oe]=A[oe]}else c.push(A)}}class le{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var pe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function z(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function S(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function w(c){const m={};for(const v in c)m[v]=c[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let F=0;F<R.length;F++)v=R[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function O(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function V(c){p.setTimeout(()=>{throw c},0)}function N(){var c=Be;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,v){const A=rt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var rt=new le(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new et,He=()=>{const c=p.Promise.resolve(void 0);ae=()=>{c.then(k)}};var k=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var m=rt;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}me=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return c})();function ve(c,m){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(pe){e:{try{X(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}K(ve,se);var Te={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function re(c,m,v,A,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++Rt,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c){this.src=c,this.g={},this.h=0}Me.prototype.add=function(c,m,v,A,j){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var oe=ht(c,m,A,j);return-1<oe?(m=c[oe],v||(m.fa=!1)):(m=new re(m,this.src,F,!!A,j),m.fa=v,c.push(m)),m};function ft(c,m){var v=m.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=j)&&Array.prototype.splice.call(A,j,1),F&&(be(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ht(c,m,v,A){for(var j=0;j<c.length;++j){var F=c[j];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==A)return j}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),Xe={};function pt(c,m,v,A,j){if(Array.isArray(m)){for(var F=0;F<m.length;F++)pt(c,m[F],v,A,j);return null}return v=Jl(v),c&&c[Oe]?c.K(m,v,_(A)?!!A.capture:!1,j):_n(c,m,v,!1,A,j)}function _n(c,m,v,A,j,F){if(!m)throw Error("Invalid event type");var oe=_(j)?!!j.capture:!!j,$e=ho(c);if($e||(c[Re]=$e=new Me(c)),v=$e.add(m,v,A,oe,F),v.proxy)return v;if(A=$l(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ue||(j=oe),j===void 0&&(j=!1),c.addEventListener(m.toString(),A,j);else if(c.attachEvent)c.attachEvent(sa(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $l(){function c(v){return m.call(c.src,c.listener,v)}const m=Nh;return c}function ia(c,m,v,A,j){if(Array.isArray(m))for(var F=0;F<m.length;F++)ia(c,m[F],v,A,j);else A=_(A)?!!A.capture:!!A,v=Jl(v),c&&c[Oe]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],v=ht(F,v,A,j),-1<v&&(be(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=ho(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ht(m,v,A,j)),(v=-1<c?m[c]:null)&&pr(v))}function pr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Oe])ft(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(sa(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ho(m))?(ft(v,c),v.h==0&&(v.src=null,m[Re]=null)):be(c)}}}function sa(c){return c in Xe?Xe[c]:Xe[c]="on"+c}function Nh(c,m){if(c.da)c=!0;else{m=new ve(m,this);var v=c.listener,A=c.ha||c.src;c.fa&&pr(c),c=v.call(A,m)}return c}function ho(c){return c=c[Re],c instanceof Me?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(m){return c.handleEvent(m)}),c[Ft])}function Vt(){Y.call(this),this.i=new Me(this),this.M=this,this.F=null}K(Vt,Y),Vt.prototype[Oe]=!0,Vt.prototype.removeEventListener=function(c,m,v,A){ia(this,c,m,v,A)};function Lt(c,m){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new se(m,c);else if(m instanceof se)m.target=m.target||c;else{var j=m;m=new se(A,c),I(m,j)}if(j=!0,v)for(var F=v.length-1;0<=F;F--){var oe=m.g=v[F];j=Si(oe,A,!0,m)&&j}if(oe=m.g=c,j=Si(oe,A,!0,m)&&j,j=Si(oe,A,!1,m)&&j,v)for(F=0;F<v.length;F++)oe=m.g=v[F],j=Si(oe,A,!1,m)&&j}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],A=0;A<v.length;A++)be(v[A]);delete c.g[m],c.h--}}this.F=null},Vt.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},Vt.prototype.L=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function Si(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,F=0;F<m.length;++F){var oe=m[F];if(oe&&!oe.da&&oe.capture==v){var $e=oe.listener,Nt=oe.ha||oe.src;oe.fa&&ft(c.i,oe),j=$e.call(Nt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Zl(c,m,v){if(typeof c=="function")v&&(c=D(c,v));else if(c&&typeof c.handleEvent=="function")c=D(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function fo(c){c.g=Zl(()=>{c.g=null,c.i&&(c.i=!1,fo(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Ih extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(c){Y.call(this),this.h=c,this.g={}}K(gr,Y);var us=[];function nn(c){z(c.g,function(m,v){this.g.hasOwnProperty(v)&&pr(m)},c),c.g={}}gr.prototype.N=function(){gr.aa.N.call(this),nn(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=p.JSON.stringify,cn=p.JSON.parse,Ch=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function mo(){}mo.prototype.h=null;function Wl(c){return c.h||(c.h=c.i())}function yr(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cs(){se.call(this,"d")}K(cs,se);function Zn(){se.call(this,"c")}K(Zn,se);var zn={},hs=null;function ra(){return hs=hs||new Vt}zn.La="serverreachability";function po(c){se.call(this,zn.La,c)}K(po,se);function xi(c){const m=ra();Lt(m,new po(m))}zn.STAT_EVENT="statevent";function ds(c,m){se.call(this,zn.STAT_EVENT,c),this.stat=m}K(ds,se);function Gt(c){const m=ra();Lt(m,new ds(m,c))}zn.Ma="timingevent";function go(c,m){se.call(this,zn.Ma,c),this.size=m}K(go,se);function fs(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function yo(c,m,v,A,j,F){c.info(function(){if(c.g)if(F)for(var oe="",$e=F.split("&"),Nt=0;Nt<$e.length;Nt++){var De=$e[Nt].split("=");if(1<De.length){var zt=De[0];De=De[1];var Bt=zt.split("_");oe=2<=Bt.length&&Bt[1]=="type"?oe+(zt+"="+De+"&"):oe+(zt+"=redacted&")}}else oe=null;else oe=F;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+oe})}function _o(c,m,v,A,j,F,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+F+" "+oe})}function Ri(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+oi(c,v)+(A?" "+A:"")})}function eu(c,m){c.info(function(){return"TIMEOUT: "+m})}ms.prototype.info=function(){};function oi(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Pn(v)}catch{return m}}var gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ps(){}K(ps,mo),ps.prototype.g=function(){return new XMLHttpRequest},ps.prototype.i=function(){return{}},li=new ps;function ui(c,m,v,A){this.j=c,this.i=m,this.l=v,this.R=A||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var vo={},Ni={};function _r(c,m,v){c.L=1,c.v=Tr(yt(m)),c.m=v,c.P=!0,Ii(c,null)}function Ii(c,m){c.F=Date.now(),Wn(c),c.A=yt(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Oi(v.i,"t",A),c.C=0,v=c.j.J,c.h=new tu,c.g=yu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Ih(D(c.Y,c,c.g),c.O)),m=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(us[0]=j.toString()),j=us);for(var F=0;F<j.length;F++){var oe=pt(v,j[F],A||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),xi(),yo(c.i,c.u,c.A,c.l,c.R,c.m)}ui.prototype.ca=function(c){c=c.target;const m=this.M;m&&fn(c)==3?m.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=fn(this.g);var m=this.g.Ba();const Ns=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||wr(this.g)))){this.J||Bt!=4||m==7||(m==8||0>=Ns?xi(3):xi(2)),aa(this);var v=this.g.Z();this.X=v;t:if(Ci(this)){var A=wr(this.g);c="";var j=A.length,F=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),gs(this);var oe="";break t}this.h.i=new p.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(F&&m==j-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,_o(this.i,this.u,this.A,this.l,this.R,Bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Nt=this.g;if(($e=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te($e)){var De=$e;break t}}De=null}if(v=De)Ri(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ci(this,v);else{this.o=!1,this.s=3,Gt(12),hn(this),gs(this);break e}}if(this.P){v=!0;let bn;for(;!this.J&&this.C<oe.length;)if(bn=vr(this,oe),bn==Ni){Bt==4&&(this.s=4,Gt(14),v=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==vo){this.s=4,Gt(15),Ri(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Ri(this.i,this.l,bn,null),ci(this,bn);if(Ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||oe.length!=0||this.h.h||(this.s=1,Gt(16),v=!1),this.o=this.o&&v,!v)Ri(this.i,this.l,oe,"[Invalid Chunked Response]"),hn(this),gs(this);else if(0<oe.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Co(zt),zt.M=!0,Gt(11))}}else Ri(this.i,this.l,oe,null),ci(this,oe);Bt==4&&hn(this),this.o&&!this.J&&(Bt==4?mu(this.j,this):(this.o=!1,Wn(this)))}else lu(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),hn(this),gs(this)}}}catch{}finally{}};function Ci(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Ni:(v=Number(m.substring(v,A)),isNaN(v)?vo:(A+=1,A+v>m.length?Ni:(m=m.slice(A,A+v),c.C=A+v,m)))}ui.prototype.cancel=function(){this.J=!0,hn(this)};function Wn(c){c.S=Date.now()+c.I,At(c,c.I)}function At(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fs(D(c.ba,c),m)}function aa(c){c.B&&(p.clearTimeout(c.B),c.B=null)}ui.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(eu(this.i,this.A),this.L!=2&&(xi(),Gt(17)),hn(this),this.s=2,gs(this)):At(this,this.S-c)};function gs(c){c.j.G==0||c.J||mu(c.j,c)}function hn(c){aa(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,nn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ci(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||ys(v.h,c))){if(!c.K&&ys(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)xs(v),Ss(v);else break e;Io(v),Gt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=fs(D(v.Za,v),6e3));if(1>=nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ki(v,11)}else if((c.K||v.g==c)&&xs(v),!te(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let De=j[m];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const zt=De[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Bt=De[4];Bt!=null&&(v.Aa=Bt,v.j.info("SVER="+v.Aa));const Ns=De[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(A=1.5*Ns,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const bn=c.g;if(bn){const Rr=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var F=A.h;F.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(_s(F,F.h),F.h=null))}if(A.D){const Vi=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vi&&(A.ya=Vi,Fe(A.I,A.D,Vi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=c;if(A.qa=gu(A,A.J?A.ia:null,A.W),oe.K){Bn(A.h,oe);var $e=oe,Nt=A.L;Nt&&($e.I=Nt),$e.B&&(aa($e),Wn($e)),A.g=oe}else du(A);0<v.i.length&&ma(v)}else De[0]!="stop"&&De[0]!="close"||ki(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ki(v,7):Ro(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}xi(4)}catch{}}var Dh=class{constructor(c,m){this.g=c,this.map=m}};function bo(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function To(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nu(c){return c.h?1:c.g?c.g.size:0}function ys(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function _s(c,m){c.g?c.g.add(m):c.h=m}function Bn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bo.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return ie(c.i)}function iu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],v=c.length,A=0;A<v;A++)m.push(c[A]);return m}m=[],v=0;for(A in c)m[v++]=c[A];return m}function Oh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const A in c)m[v++]=A;return m}}}function oa(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Oh(c),A=iu(c),j=A.length,F=0;F<j;F++)m.call(void 0,A[F],v&&v[F],c)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var F=c[v].substring(0,A);j=c[v].substring(A+1)}else F=c[v];m(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,br(this,c.s),this.l=c.l;var m=c.i,v=new hi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),ua(this,v),this.m=c.m}else c&&(m=String(c).match(Eo))?(this.h=!1,vs(this,m[1]||"",!0),this.o=bs(m[2]||""),this.g=bs(m[3]||"",!0),br(this,m[4]),this.l=bs(m[5]||"",!0),ua(this,m[6]||"",!0),this.m=bs(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Di.prototype.toString=function(){var c=[],m=this.j;m&&c.push(qn(m,Ao,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(qn(m,Ao,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(qn(v,v.charAt(0)=="/"?wo:su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",qn(v,Vh)),c.join("")};function yt(c){return new Di(c)}function vs(c,m,v){c.j=v?bs(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ua(c,m,v){m instanceof hi?(c.i=m,ru(c.i,c.h)):(v||(m=qn(m,kh)),c.i=new hi(m,c.h))}function Fe(c,m,v){c.i.set(m,v)}function Tr(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bs(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qn(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Mh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ao=/[#\/\?@]/g,su=/[#\?:]/g,wo=/[#\?]/g,kh=/[#\?@]/g,Vh=/#/g;function hi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Pt(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hi.prototype,s.add=function(c,m){Pt(this),this.i=null,c=Nn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function ca(c,m){Pt(c),m=Nn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ha(c,m){return Pt(c),m=Nn(c,m),c.g.has(m)}s.forEach=function(c,m){Pt(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(m,j,A,this)},this)},this)},s.na=function(){Pt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const j=c[A];for(let F=0;F<j.length;F++)v.push(m[A])}return v},s.V=function(c){Pt(this);let m=[];if(typeof c=="string")ha(this,c)&&(m=m.concat(this.g.get(Nn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},s.set=function(c,m){return Pt(this),this.i=null,c=Nn(this,c),ha(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Oi(c,m,v){ca(c,m),0<v.length&&(c.i=null,c.g.set(Nn(c,m),ie(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const F=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var j=F;oe[A]!==""&&(j+="="+encodeURIComponent(String(oe[A]))),c.push(j)}}return this.i=c.join("&")};function Nn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ru(c,m){m&&!c.j&&(Pt(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(ca(this,A),Oi(this,j,v))},c)),c.j=m}function So(c,m){const v=new ms;if(p.Image){const A=new Image;A.onload=q(vn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=q(vn,v,"TestLoadImage: error",!1,m,A),A.onabort=q(vn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(vn,v,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function au(c,m){const v=new ms,A=new AbortController,j=setTimeout(()=>{A.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(j),F.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),vn(v,"TestPingServer: error",!1,m)})}function vn(c,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function ei(){this.g=new Ch}function xo(c,m,v){const A=v||"";try{oa(c,function(j,F){let oe=j;_(j)&&(oe=Pn(j)),m.push(A+F+"="+encodeURIComponent(oe))})}catch(j){throw m.push(A+"type="+encodeURIComponent("_badmap")),j}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}K(di,mo),di.prototype.g=function(){return new In(this.l,this.j)},di.prototype.i=(function(c){return function(){return c}})({});function In(c,m){Vt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(In,Vt),s=In.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ts(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?fi(this):Ts(this),this.readyState==3&&da(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,fi(this))},s.Qa=function(c){this.g&&(this.response=c,fi(this))},s.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ts(c)}s.setRequestHeader=function(c,m){this.u.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Ts(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(In.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Er(c){let m="";return z(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Es(c,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Er(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Fe(c,m,v))}function at(c){Vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(at,Vt);var sn=/^https?$/i,Mi=["POST","PUT"];s=at.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?Wl(this.o):Wl(li),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){Ar(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Mi,m,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,oe]of v)this.g.setRequestHeader(F,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Ar(this,F)}};function Ar(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,As(c),ws(c)}function As(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),ws(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ws(this,!0)),at.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ou(this):this.bb())},s.bb=function(){ou(this)};function ou(c){if(c.h&&typeof d<"u"&&(!c.v[1]||fn(c)!=4||c.Z()!=2)){if(c.u&&fn(c)==4)Zl(c.Ea,0,c);else if(Lt(c,"readystatechange"),fn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=oe===0){var j=String(c.D).match(Eo)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),A=!sn.test(j?j.toLowerCase():"")}v=A}if(v)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var F=2<fn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",As(c)}}finally{ws(c)}}}}function ws(c,m){if(c.g){fa(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Lt(c,"ready");try{v.onreadystatechange=A}catch{}}}function fa(c){c.I&&(p.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function fn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),cn(m)}};function wr(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lu(c){const m={};c=(c.g&&2<=fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(te(c[A]))continue;var v=O(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[j]||[];m[j]=F,F.push(v)}S(m,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function uu(c){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,c),this.cb=Sr("retryDelaySeedMs",1e4,c),this.Wa=Sr("forwardChannelMaxRetries",2,c),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(c&&c.concurrentRequestLimit),this.Da=new ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=uu.prototype,s.la=8,s.G=1,s.connect=function(c,m,v,A){Gt(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),ma(this)};function Ro(c){if(cu(c),c.G==3){var m=c.U++,v=yt(c.I);if(Fe(v,"SID",c.K),Fe(v,"RID",m),Fe(v,"TYPE","terminate"),xr(c,v),m=new ui(c,c.j,m),m.L=2,m.v=Tr(yt(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wn(m)}Do(c)}function Ss(c){c.g&&(Co(c),c.g.cancel(),c.g=null)}function cu(c){Ss(c),c.u&&(p.clearTimeout(c.u),c.u=null),xs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ma(c){if(!To(c.h)&&!c.s){c.s=!0;var m=c.Ga;ae||He(),me||(ae(),me=!0),Be.add(m,c),c.B=0}}function Uh(c,m){return nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fs(D(c.Ga,c,m),pu(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ui(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=No(this,j,m),v=yt(this.I),Fe(v,"RID",c),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),xr(this,v),F&&(this.O?m="headers="+encodeURIComponent(String(Er(F)))+"&"+m:this.m&&Es(v,this.m,F)),_s(this.h,j),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",m),Fe(v,"SID","null"),j.T=!0,_r(j,v,null)):_r(j,v,m),this.G=2}}else this.G==3&&(c?hu(this,c):this.i.length==0||To(this.h)||hu(this))};function hu(c,m){var v;m?v=m.l:v=c.U++;const A=yt(c.I);Fe(A,"SID",c.K),Fe(A,"RID",v),Fe(A,"AID",c.T),xr(c,A),c.m&&c.o&&Es(A,c.m,c.o),v=new ui(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=No(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_s(c.h,v),_r(v,A,m)}function xr(c,m){c.H&&z(c.H,function(v,A){Fe(m,A,v)}),c.l&&oa({},function(v,A){Fe(m,A,v)})}function No(c,m,v){v=Math.min(c.i.length,v);var A=c.l?D(c.l.Na,c.l,c):null;e:{var j=c.i;let F=-1;for(;;){const oe=["count="+v];F==-1?0<v?(F=j[0].g,oe.push("ofs="+F)):F=0:oe.push("ofs="+F);let $e=!0;for(let Nt=0;Nt<v;Nt++){let De=j[Nt].g;const zt=j[Nt].map;if(De-=F,0>De)F=Math.max(0,j[Nt].g-100),$e=!1;else try{xo(zt,oe,"req"+De+"_")}catch{A&&A(zt)}}if($e){A=oe.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,A}function du(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ae||He(),me||(ae(),me=!0),Be.add(m,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fs(D(c.Fa,c),pu(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fs(D(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Ss(this),fu(this))};function Co(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new ui(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=yt(c.qa);Fe(m,"RID","rpc"),Fe(m,"SID",c.K),Fe(m,"AID",c.T),Fe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(m,"TO",c.ja),Fe(m,"TYPE","xmlhttp"),xr(c,m),c.m&&c.o&&Es(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Tr(yt(m)),v.m=null,v.P=!0,Ii(v,c)}s.Za=function(){this.C!=null&&(this.C=null,Ss(this),Io(this),Gt(19))};function xs(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function mu(c,m){var v=null;if(c.g==m){xs(c),Co(c),c.g=null;var A=2}else if(ys(c.h,m))v=m.D,Bn(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;A=ra(),Lt(A,new go(A,v)),ma(c)}else du(c);else if(j=m.s,j==3||j==0&&0<m.X||!(A==1&&Uh(c,m)||A==2&&Io(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),j){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function pu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function ki(c,m){if(c.j.info("Error code "+m),m==2){var v=D(c.fb,c),A=c.Xa;const j=!A;A=new Di(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||vs(A,"https"),Tr(A),j?So(A.toString(),v):au(A.toString(),v)}else Gt(2);c.G=0,c.l&&c.l.sa(m),Do(c),cu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Do(c){if(c.G=0,c.ka=[],c.l){const m=dn(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ka,m),J(c.ka,c.i),c.h.i.length=0,ie(c.i),c.i.length=0),c.l.ra()}}function gu(c,m,v){var A=v instanceof Di?yt(v):new Di(v);if(A.g!="")m&&(A.g=m+"."+A.g),br(A,A.s);else{var j=p.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var F=new Di(null);A&&vs(F,A),m&&(F.g=m),j&&br(F,j),v&&(F.l=v),A=F}return v=c.D,m=c.ya,v&&m&&Fe(A,v,m),Fe(A,"VER",c.la),xr(c,A),A}function yu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new at(new di({eb:v})):new at(c.pa),m.Ha(c.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function pa(){}pa.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){Vt.call(this),this.g=new uu(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!te(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Rs(this)}K(mn,Vt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ro(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Pn(c),c=v);m.i.push(new Dh(m.Ya++,c)),m.G==3&&ma(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,mn.aa.N.call(this)};function vu(c){cs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}K(vu,cs);function bu(){Zn.call(this),this.status=1}K(bu,Zn);function Rs(c){this.g=c}K(Rs,_u),Rs.prototype.ua=function(){Lt(this.g,"a")},Rs.prototype.ta=function(c){Lt(this.g,new vu(c))},Rs.prototype.sa=function(c){Lt(this.g,new bu)},Rs.prototype.ra=function(){Lt(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Kv=function(){return new pa},Qv=function(){return ra()},Gv=zn,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,Mc=gt,Qt.COMPLETE="complete",Fv=Qt,yr.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,yl=yr,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,Hv=at}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Cm("@firebase/firestore");function pl(){return Yr.logLevel}function de(s,...e){if(Yr.logLevel<=ze.DEBUG){const i=e.map(Mm);Yr.debug(`Firestore (${oo}): ${s}`,...i)}}function rs(s,...e){if(Yr.logLevel<=ze.ERROR){const i=e.map(Mm);Yr.error(`Firestore (${oo}): ${s}`,...i)}}function Za(s,...e){if(Yr.logLevel<=ze.WARN){const i=e.map(Mm);Yr.warn(`Firestore (${oo}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+s;throw rs(e),new Error(e)}function We(s,e){s||Ae()}function xe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends wi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class Ow{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Mw{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){We(this.o===void 0);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new Yv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new on(e)}}class kw{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vw{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new kw(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){We(this.o===void 0);const r=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(We(typeof i.token=="string"),this.R=i.token,new Uw(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Lw(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=e.charAt(o[u]%e.length))}return r}}function Ke(s,e){return s<e?-1:s>e?1:0}function Wa(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*i));return new jt(i,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new jt(0,0))}static max(){return new Se(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(),r===void 0?r=e.length-i:r>e.length-i&&Ae(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Nl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const u=e.get(o),d=i.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class ut extends Nl{construct(e,i,r){return new ut(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ut(i)}static emptyPath(){return new ut([])}}const Pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Nl{construct(e,i,r){return new Wt(e,i,r)}static isValidIdentifier(e){return Pw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(u(),o++)}if(u(),d)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ut.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}function zw(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new jt(i+1,0):new jt(i,r));return new cr(o,ye.empty(),e)}function Bw(s){return new cr(s.readTime,s.key,-1)}class cr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new cr(Se.min(),ye.empty(),-1)}static max(){return new cr(Se.max(),ye.empty(),-1)}}function qw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Ke(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==Hw)throw s;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.reject(i)}static resolve(e){return new ee(((i,r)=>{i(e)}))}static reject(e){return new ee(((i,r)=>{r(e)}))}static waitFor(e){return new ee(((i,r)=>{let o=0,u=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&i()}),(g=>r(g)))})),d=!0,u===o&&i()}))}static or(e){let i=ee.resolve(!1);for(const r of e)i=i.next((o=>o?ee.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(e,i){return new ee(((r,o)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;i(e[_]).next((E=>{d[_]=E,++p,p===u&&r(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new ee(((r,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):r()};u()}))}}function Gw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}km.oe=-1;function uh(s){return s==null}function Qc(s){return s===0&&1/s==-1/0}function Qw(s){return typeof s=="number"&&Number.isInteger(s)&&!Qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ea(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function $v(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,i){this.comparator=e,this.root=i||Zt.EMPTY}insert(e,i){return new mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,i,r,o,u){this.key=e,this.value=i,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,u){return new Zt(e??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,i,r,o,u){return this}insert(e,i,r){return new Zt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new en(this.comparator);return i.data=e,i}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new jn([])}unionWith(e){let i=new en(Wt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Jv("Invalid base64 string: "+u):u}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(We(!!s),typeof s=="string"){let e=0;const i=Kw.exec(s);if(We(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Um(s){const e=s.mapValue.fields.__previous_value__;return Vm(e)?Um(e):e}function Il(s){const e=hr(s.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,i,r,o,u,d,p,g,_){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_}}class Cl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={mapValue:{}};function $r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vm(s)?4:$w(s)?9007199254740991:Xw(s)?10:11:Ae()}function Ai(s,e){if(s===e)return!0;const i=$r(s);if(i!==$r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Il(s).isEqual(Il(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=hr(o.timestampValue),p=hr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=xt(o.doubleValue),p=xt(u.doubleValue);return d===p?Qc(d)===Qc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Wa(s.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(p0(d)!==p0(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Ai(d[g],p[g])))return!1;return!0})(s,e);default:return Ae()}}function Dl(s,e){return(s.values||[]).find((i=>Ai(i,e)))!==void 0}function eo(s,e){if(s===e)return 0;const i=$r(s),r=$r(e);if(i!==r)return Ke(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=xt(u.integerValue||u.doubleValue),g=xt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return y0(s.timestampValue,e.timestampValue);case 4:return y0(Il(s),Il(e));case 5:return Ke(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Xr(u),g=Xr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const E=Ke(p[_],g[_]);if(E!==0)return E}return Ke(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=Ke(xt(u.latitude),xt(d.latitude));return p!==0?p:Ke(xt(u.longitude),xt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return _0(s.arrayValue,e.arrayValue);case 10:return(function(u,d){var p,g,_,E;const x=u.fields||{},D=d.fields||{},q=(p=x.value)===null||p===void 0?void 0:p.arrayValue,K=(g=D.value)===null||g===void 0?void 0:g.arrayValue,ie=Ke(((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0,((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0);return ie!==0?ie:_0(q,K)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===xc.mapValue&&d===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=d.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let x=0;x<g.length&&x<E.length;++x){const D=Ke(g[x],E[x]);if(D!==0)return D;const q=eo(p[g[x]],_[E[x]]);if(q!==0)return q}return Ke(g.length,E.length)})(s.mapValue,e.mapValue);default:throw Ae()}}function y0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ke(s,e);const i=hr(s),r=hr(e),o=Ke(i.seconds,r.seconds);return o!==0?o:Ke(i.nanos,r.nanos)}function _0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=eo(i[o],r[o]);if(u)return u}return Ke(i.length,r.length)}function to(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=hr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=rm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${rm(i.fields[d])}`;return o+"}"})(s.mapValue):Ae()}function v0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function am(s){return!!s&&"integerValue"in s}function jm(s){return!!s&&"arrayValue"in s}function b0(s){return!!s&&"nullValue"in s}function T0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function kc(s){return!!s&&"mapValue"in s}function Xw(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Tl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ea(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Tl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Tl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function $w(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(i)}setAll(e){let i=Wt.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Tl(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(e){const i=this.field(e.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){ea(i,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new xn(Tl(this.value))}}function Zv(s){const e=[];return ea(s.fields,((i,r)=>{const o=new Wt([i]);if(kc(r)){const u=Zv(r.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,i,r,o,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,Se.min(),Se.min(),Se.min(),xn.empty(),0)}static newFoundDocument(e,i,r,o){return new ln(e,1,i,Se.min(),r,o,0)}static newNoDocument(e,i){return new ln(e,2,i,Se.min(),Se.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,Se.min(),Se.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i){this.position=e,this.inclusive=i}}function E0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],d=s.position[o];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(d.referenceValue),i.key):r=eo(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function A0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ai(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Jw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{}class kt extends Wv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Ww(e,i,r):i==="array-contains"?new nS(e,r):i==="in"?new iS(e,r):i==="not-in"?new sS(e,r):i==="array-contains-any"?new rS(e,r):new kt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new eS(e,r):new tS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(eo(i,this.value)):i!==null&&$r(this.value)===$r(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Wv{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new ri(e,i)}matches(e){return eb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eb(s){return s.op==="and"}function tb(s){return Zw(s)&&eb(s)}function Zw(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function om(s){if(s instanceof kt)return s.field.canonicalString()+s.op.toString()+to(s.value);if(tb(s))return s.filters.map((e=>om(e))).join(",");{const e=s.filters.map((i=>om(i))).join(",");return`${s.op}(${e})`}}function nb(s,e){return s instanceof kt?(function(r,o){return o instanceof kt&&r.op===o.op&&r.field.isEqual(o.field)&&Ai(r.value,o.value)})(s,e):s instanceof ri?(function(r,o){return o instanceof ri&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,d,p)=>u&&nb(d,o.filters[p])),!0):!1})(s,e):void Ae()}function ib(s){return s instanceof kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(s):s instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(ib).join(" ,")+"}"})(s):"Filter"}class Ww extends kt{constructor(e,i,r){super(e,i,r),this.key=ye.fromName(r.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class eS extends kt{constructor(e,i){super(e,"in",i),this.keys=sb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class tS extends kt{constructor(e,i){super(e,"not-in",i),this.keys=sb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function sb(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>ye.fromName(r.referenceValue)))}class nS extends kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jm(i)&&Dl(i.arrayValue,this.value)}}class iS extends kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class sS extends kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Dl(this.value.arrayValue,i)}}class rS extends kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Dl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i=null,r=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.ue=null}}function w0(s,e=null,i=[],r=[],o=null,u=null,d=null){return new aS(s,e,i,r,o,u,d)}function Lm(s){const e=xe(s);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>om(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),uh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>to(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>to(r))).join(",")),e.ue=i}return e.ue}function Pm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Jw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!nb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!A0(s.startAt,e.startAt)&&A0(s.endAt,e.endAt)}function lm(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i=null,r=[],o=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oS(s,e,i,r,o,u,d,p){return new Bl(s,e,i,r,o,u,d,p)}function zm(s){return new Bl(s)}function S0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function rb(s){return s.collectionGroup!==null}function El(s){const e=xe(s);if(e.ce===null){e.ce=[];const i=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new en(Wt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Yc(u,r))})),i.has(Wt.keyField().canonicalString())||e.ce.push(new Yc(Wt.keyField(),r))}return e.ce}function vi(s){const e=xe(s);return e.le||(e.le=lS(e,El(s))),e.le}function lS(s,e){if(s.limitType==="F")return w0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Yc(o.field,u)}));const i=s.endAt?new Kc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Kc(s.startAt.position,s.startAt.inclusive):null;return w0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function um(s,e){const i=s.filters.concat([e]);return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function cm(s,e,i){return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ch(s,e){return Pm(vi(s),vi(e))&&s.limitType===e.limitType}function ab(s){return`${Lm(vi(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>ib(o))).join(", ")}]`),uh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>to(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>to(o))).join(",")),`Target(${r})`})(vi(s))}; limitType=${s.limitType})`}function hh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of El(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const _=E0(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,El(r),o)||r.endAt&&!(function(d,p,g){const _=E0(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,El(r),o))})(s,e)}function uS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ob(s){return(e,i)=>{let r=!1;for(const o of El(s)){const u=cS(o,e,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function cS(s,e,i){const r=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),_=p.data.field(u);return g!==null&&_!==null?eo(g,_):Ae()})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((i,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return $v(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new mt(ye.comparator);function as(){return hS}const lb=new mt(ye.comparator);function _l(...s){let e=lb;for(const i of s)e=e.insert(i.key,i);return e}function ub(s){let e=lb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Fr(){return Al()}function cb(){return Al()}function Al(){return new lo((s=>s.toString()),((s,e)=>s.isEqual(e)))}const dS=new mt(ye.comparator),fS=new en(ye.comparator);function Le(...s){let e=fS;for(const i of s)e=e.add(i);return e}const mS=new en(Ke);function pS(){return mS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function hb(s){return{integerValue:""+s}}function gS(s,e){return Qw(e)?hb(e):Bm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function yS(s,e,i){return s instanceof Xc?(function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vm(u)&&(u=Um(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,e):s instanceof Ol?fb(s,e):s instanceof Ml?mb(s,e):(function(o,u){const d=db(o,u),p=x0(d)+x0(o.Pe);return am(d)&&am(o.Pe)?hb(p):Bm(o.serializer,p)})(s,e)}function _S(s,e,i){return s instanceof Ol?fb(s,e):s instanceof Ml?mb(s,e):i}function db(s,e){return s instanceof $c?(function(r){return am(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Xc extends dh{}class Ol extends dh{constructor(e){super(),this.elements=e}}function fb(s,e){const i=pb(e);for(const r of s.elements)i.some((o=>Ai(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Ml extends dh{constructor(e){super(),this.elements=e}}function mb(s,e){let i=pb(e);for(const r of s.elements)i=i.filter((o=>!Ai(o,r)));return{arrayValue:{values:i}}}class $c extends dh{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function x0(s){return xt(s.integerValue||s.doubleValue)}function pb(s){return jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function vS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Ol&&o instanceof Ol||r instanceof Ml&&o instanceof Ml?Wa(r.elements,o.elements,Ai):r instanceof $c&&o instanceof $c?Ai(r.Pe,o.Pe):r instanceof Xc&&o instanceof Xc})(s.transform,e.transform)}class bS{constructor(e,i){this.version=e,this.transformResults=i}}class Jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class fh{}function gb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qm(s.key,Jn.none()):new ql(s.key,s.data,Jn.none());{const i=s.data,r=xn.empty();let o=new en(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new mr(s.key,r,new jn(o.toArray()),Jn.none())}}function TS(s,e,i){s instanceof ql?(function(o,u,d){const p=o.value.clone(),g=N0(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof mr?(function(o,u,d){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=N0(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(yb(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function wl(s,e,i,r){return s instanceof ql?(function(u,d,p,g){if(!Vc(u.precondition,d))return p;const _=u.value.clone(),E=I0(u.fieldTransforms,g,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof mr?(function(u,d,p,g){if(!Vc(u.precondition,d))return p;const _=I0(u.fieldTransforms,g,d),E=d.data;return E.setAll(yb(u)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(u,d,p){return Vc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function ES(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=db(r.transform,o||null);u!=null&&(i===null&&(i=xn.empty()),i.set(r.field,u))}return i||null}function R0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Wa(r,o,((u,d)=>vS(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ql extends fh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mr extends fh{constructor(e,i,r,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function N0(s,e,i){const r=new Map;We(s.length===i.length);for(let o=0;o<i.length;o++){const u=s[o],d=u.transform,p=e.data.field(u.field);r.set(u.field,_S(d,p,i[o]))}return r}function I0(s,e,i){const r=new Map;for(const o of s){const u=o.transform,d=i.data.field(o.field);r.set(o.field,yS(u,d,e))}return r}class qm extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AS extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TS(u,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=wl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=wl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=cb();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(o.key)?null:p;const g=gb(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((i,r)=>R0(i,r)))&&Wa(this.baseMutations,e.baseMutations,((i,r)=>R0(i,r)))}}class Hm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){We(e.mutations.length===r.length);let o=(function(){return dS})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Hm(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,qe;function RS(s){switch(s){default:return Ae();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function _b(s){if(s===void 0)return rs("GRPC error has no .code"),W.UNKNOWN;switch(s){case Mt.OK:return W.OK;case Mt.CANCELLED:return W.CANCELLED;case Mt.UNKNOWN:return W.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return W.INTERNAL;case Mt.UNAVAILABLE:return W.UNAVAILABLE;case Mt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Mt.NOT_FOUND:return W.NOT_FOUND;case Mt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Mt.ABORTED:return W.ABORTED;case Mt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Mt.DATA_LOSS:return W.DATA_LOSS;default:return Ae()}}(qe=Mt||(Mt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Gr([4294967295,4294967295],0);function C0(s){const e=NS().encode(s),i=new qv;return i.update(e),new Uint8Array(i.digest())}function D0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([i,r],0),new Gr([o,u],0)]}class Fm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Gr.fromNumber(this.Ie)}Ee(e,i,r){let o=e.add(i.multiply(Gr.fromNumber(r)));return o.compare(IS)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=C0(e),[r,o]=D0(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(r,o,u);if(!this.de(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Fm(u,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.Ie===0)return;const i=C0(e),[r,o]=D0(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(r,o,u);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,i,r,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new mh(Se.min(),o,new mt(Ke),as(),Le())}}class Hl{constructor(e,i,r,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Hl(r,i,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,r,o){this.Re=e,this.removedTargetIds=i,this.key=r,this.Ve=o}}class vb{constructor(e,i){this.targetId=e,this.me=i}}class bb{constructor(e,i,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class O0{constructor(){this.fe=0,this.ge=k0(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),i=Le(),r=Le();return this.ge.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ae()}})),new Hl(this.pe,this.ye,e,i,r)}Ce(){this.we=!1,this.ge=k0()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CS{constructor(e){this.Le=e,this.Be=new Map,this.ke=as(),this.qe=M0(),this.Qe=new mt(Ke)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const r=this.Ge(i);switch(e.state){case 0:this.ze(i)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),r.De(e.resumeToken));break;default:Ae()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((r,o)=>{this.ze(o)&&i(o)}))}He(e){const i=e.targetId,r=e.me.count,o=this.Je(i);if(o){const u=o.target;if(lm(u))if(r===0){const d=new ye(u.path);this.Ue(i,d,ln.newNoDocument(d,Se.min()))}else We(r===1);else{const d=this.Ye(i);if(d!==r){const p=this.Ze(e),g=p?this.Xe(p,e,d):1;if(g!==0){this.je(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,_)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let d,p;try{d=Xr(r).toUint8Array()}catch(g){if(g instanceof Jv)return Za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Fm(d,o,u)}catch(g){return Za(g instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.Ie===0?null:p}Xe(e,i,r){return i.me.count===r-this.nt(e,i.targetId)?0:2}nt(e,i){const r=this.Le.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const d=this.Le.tt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Ue(i,u,null),o++)})),o}rt(e){const i=new Map;this.Be.forEach(((u,d)=>{const p=this.Je(d);if(p){if(u.current&&lm(p.target)){const g=new ye(p.target.path);this.ke.get(g)!==null||this.it(d,g)||this.Ue(d,g,ln.newNoDocument(g,e))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let r=Le();this.qe.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(e)));const o=new mh(e,i,this.Qe,this.ke,r);return this.ke=as(),this.qe=M0(),this.Qe=new mt(Ke),o}$e(e,i){if(!this.ze(e))return;const r=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,r),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,i)?o.Fe(i,1):o.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),r&&(this.ke=this.ke.insert(i,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new O0,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new en(Ke),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new O0),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function M0(){return new mt(ye.comparator)}function k0(){return new mt(ye.comparator)}const DS={asc:"ASCENDING",desc:"DESCENDING"},OS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MS={and:"AND",or:"OR"};class kS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hm(s,e){return s.useProto3Json||uh(e)?e:{value:e}}function Jc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function VS(s,e){return Jc(s,e.toTimestamp())}function bi(s){return We(!!s),Se.fromTimestamp((function(i){const r=hr(i);return new jt(r.seconds,r.nanos)})(s))}function Gm(s,e){return dm(s,e).canonicalString()}function dm(s,e){const i=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Eb(s){const e=ut.fromString(s);return We(Rb(e)),e}function fm(s,e){return Gm(s.databaseId,e.path)}function qf(s,e){const i=Eb(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(wb(i))}function Ab(s,e){return Gm(s.databaseId,e)}function US(s){const e=Eb(s);return e.length===4?ut.emptyPath():wb(e)}function mm(s){return new ut(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function wb(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function V0(s,e,i){return{name:fm(s,e),fields:i.value.mapValue.fields}}function jS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(_,E){return _.useProto3Json?(We(E===void 0||typeof E=="string"),tn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),tn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?W.UNKNOWN:_b(_.code);return new ce(E,_.message||"")})(d);i=new bb(r,o,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qf(s,r.document.name),u=bi(r.document.updateTime),d=r.document.createTime?bi(r.document.createTime):Se.min(),p=new xn({mapValue:{fields:r.document.fields}}),g=ln.newFoundDocument(o,u,d,p),_=r.targetIds||[],E=r.removedTargetIds||[];i=new Uc(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qf(s,r.document),u=r.readTime?bi(r.readTime):Se.min(),d=ln.newNoDocument(o,u),p=r.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qf(s,r.document),u=r.removedTargetIds||[];i=new Uc([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new xS(o,u),p=r.targetId;i=new vb(p,d)}}return i}function LS(s,e){let i;if(e instanceof ql)i={update:V0(s,e.key,e.value)};else if(e instanceof qm)i={delete:fm(s,e.key)};else if(e instanceof mr)i={update:V0(s,e.key,e.data),updateMask:KS(e.fieldMask)};else{if(!(e instanceof AS))return Ae();i={verify:fm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:d.field.canonicalString(),increment:p.Pe};throw Ae()})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:VS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()})(s,e.precondition)),i}function PS(s,e){return s&&s.length>0?(We(e!==void 0),s.map((i=>(function(o,u){let d=o.updateTime?bi(o.updateTime):bi(u);return d.isEqual(Se.min())&&(d=bi(u)),new bS(d,o.transformResults||[])})(i,e)))):[]}function zS(s,e){return{documents:[Ab(s,e.path)]}}function BS(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Ab(s,o);const u=(function(_){if(_.length!==0)return xb(ri.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((E=>(function(D){return{field:Ga(D.field),direction:FS(D.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=hm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:i,parent:o}}function qS(s){let e=US(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){We(r===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(x){const D=Sb(x);return D instanceof ri&&tb(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((D=>(function(K){return new Yc(Qa(K.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let D;return D=typeof x=="object"?x.value:x,uh(D)?null:D})(i.limit));let g=null;i.startAt&&(g=(function(x){const D=!!x.before,q=x.values||[];return new Kc(q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const D=!x.before,q=x.values||[];return new Kc(q,D)})(i.endAt)),oS(e,o,d,u,p,"F",g,_)}function HS(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Sb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Qa(i.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qa(i.unaryFilter.field);return kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return kt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}})(s):s.fieldFilter!==void 0?(function(i){return kt.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((r=>Sb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}})(i.compositeFilter.op))})(s):Ae()}function FS(s){return DS[s]}function GS(s){return OS[s]}function QS(s){return MS[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Wt.fromServerFormat(s.fieldPath)}function xb(s){return s instanceof kt?(function(i){if(i.op==="=="){if(T0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(b0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(T0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(b0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:GS(i.op),value:i.value}}})(s):s instanceof ri?(function(i){const r=i.getFilters().map((o=>xb(o)));return r.length===1?r[0]:{compositeFilter:{op:QS(i.op),filters:r}}})(s):Ae()}function KS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Rb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,i,r,o,u=Se.min(),d=Se.min(),p=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.ct=e}}function XS(s){const e=qS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.un=new JS}addToCollectionParentIndex(e,i){return this.un.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(cr.min())}updateCollectionGroup(e,i,r){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class JS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new en(ut.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new no(0)}static kn(){return new no(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.changes=new lo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ee.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&wl(r.mutation,o,jn.empty(),jt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Le()){const o=Fr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((u=>{let d=_l();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Fr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Le())))}populateOverlays(e,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let u=as();const d=Al(),p=(function(){return Al()})();return i.forEach(((g,_)=>{const E=r.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof mr)?u=u.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),wl(E.mutation,_,E.mutation.getFieldMask(),jt.now())):d.set(_.key,jn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>{var x;return p.set(_,new WS(E,(x=d.get(_))!==null&&x!==void 0?x:null))})),p)))}recalculateAndSaveOverlays(e,i){const r=Al();let o=new mt(((d,p)=>d-p)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let E=r.get(g)||jn.empty();E=p.applyToLocalView(_,E),r.set(g,E);const x=(o.get(p.batchId)||Le()).add(g);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,E=g.value,x=cb();E.forEach((D=>{if(!u.has(D)){const q=gb(i.get(D),r.get(D));q!==null&&x.set(D,q),u=u.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):rb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-u.size):ee.resolve(Fr());let p=-1,g=u;return d.next((_=>ee.forEach(_,((E,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,Le()))).next((E=>({batchId:p,changes:ub(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const u=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(e,u).next((p=>ee.forEach(p,(g=>{const _=(function(x,D){return new Bl(D,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((E=>{E.forEach(((x,D)=>{d=d.insert(x,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,o)))).next((d=>{u.forEach(((g,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,ln.newInvalidDocument(E)))}));let p=_l();return d.forEach(((g,_)=>{const E=u.get(g);E!==void 0&&wl(E.mutation,_,jn.empty(),jt.now()),hh(i,_)&&(p=p.insert(g,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return ee.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(o){return{name:o.name,query:XS(o.bundledQuery),readTime:bi(o.readTime)}})(i)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.overlays=new mt(ye.comparator),this.Ir=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Fr();return ee.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,u)=>{this.ht(e,i,u)})),ee.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,i,r){const o=Fr(),u=i.length+1,d=new ye(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let u=new mt(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let E=u.get(_.largestBatchId);E===null&&(E=Fr(),u=u.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Fr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return ee.resolve(p)}ht(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new SS(i,r));let u=this.Ir.get(i);u===void 0&&(u=Le(),this.Ir.set(i,u)),this.Ir.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Tr=new en(Ht.Er),this.dr=new en(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const r=new Ht(e,i);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Vr(new Ht(e,i))}mr(e,i){e.forEach((r=>this.removeReference(r,i)))}gr(e){const i=new ye(new ut([])),r=new Ht(i,e),o=new Ht(i,e+1),u=[];return this.dr.forEachInRange([r,o],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ye(new ut([])),r=new Ht(i,e),o=new Ht(i,e+1);let u=Le();return this.dr.forEachInRange([r,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Ht(e,0),r=this.Tr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ye.comparator(e.key,i.key)||Ke(e.wr,i.wr)}static Ar(e,i){return Ke(e.wr,i.wr)||ye.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new en(Ht.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wS(u,i,r,o);this.mutationQueue.push(d);for(const p of o)this.br=this.br.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.vr(r),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([r,o],(d=>{const p=this.Dr(d.wr);u.push(p)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new en(Ke);return i.forEach((o=>{const u=new Ht(o,0),d=new Ht(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(p=>{r=r.add(p.wr)}))})),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const d=new Ht(new ye(u),0);let p=new en(Ke);return this.br.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.wr)),!0)}),d),ee.resolve(this.Cr(p))}Cr(e){const i=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){We(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(i.mutations,(o=>{const u=new Ht(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,i){const r=new Ht(i,0),o=this.br.firstAfterOrEqual(r);return ee.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.Mr=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,d=this.Mr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ee.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let r=as();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),ee.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let u=as();const d=i.path,p=new ye(d.child("")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||qw(Bw(E),r)<=0||(o.has(E.key)||hh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,i,r,o){Ae()}Or(e,i){return ee.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new ax(this)}getSize(e){return ee.resolve(this.size)}}class ax extends ZS{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),ee.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.persistence=e,this.Nr=new lo((i=>Lm(i)),Pm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qm,this.targetCount=0,this.kr=no.Bn()}forEachTarget(e,i){return this.Nr.forEach(((r,o)=>i(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.Lr&&(this.Lr=i),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new no(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Kn(i),ee.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,r){let o=0;const u=[];return this.Nr.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const r=this.Nr.get(i)||null;return ee.resolve(r)}addMatchingKeys(e,i,r){return this.Br.Rr(i,r),ee.resolve()}removeMatchingKeys(e,i,r){this.Br.mr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Br.yr(i);return ee.resolve(r)}containsKey(e,i){return ee.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,i){this.qr={},this.overlays={},this.Qr=new km(0),this.Kr=!1,this.Kr=!0,this.$r=new ix,this.referenceDelegate=e(this),this.Ur=new ox(this),this.indexManager=new $S,this.remoteDocumentCache=(function(o){return new rx(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new YS(i),this.Gr=new tx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new nx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.qr[e.toKey()];return r||(r=new sx(i,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,r){de("MemoryPersistence","Starting transaction:",e);const o=new ux(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((u=>this.referenceDelegate.jr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Hr(e,i){return ee.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,i))))}}class ux extends Fw{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Jr=new Qm,this.Yr=null}static Zr(e){return new Km(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,i,r){return this.Jr.addReference(r,i),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,i,r){return this.Jr.removeReference(r,i),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.Xr.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,(r=>{const o=ye.fromPath(r);return this.ei(e,o).next((u=>{u||i.removeEntry(o,Se.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((r=>{r?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return ee.or([()=>ee.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.$i=r,this.Ui=o}static Wi(e,i){let r=Le(),o=Le();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return m1()?8:Gw(un())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,r,o){const u={result:null};return this.Yi(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(e,i,o,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new cx;return this.Xi(e,i,d).next((p=>{if(u.result=p,this.zi)return this.es(e,i,d,p.size)}))})).next((()=>u.result))}es(e,i,r,o){return r.documentReadCount<this.ji?(pl()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(pl()<=ze.DEBUG&&de("QueryEngine","Query:",Fa(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(pl()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):ee.resolve())}Yi(e,i){if(S0(i))return ee.resolve(null);let r=vi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=cm(i,null,"F"),r=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Le(...u);return this.Ji.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const _=this.ts(i,p);return this.ns(i,_,d,g.readTime)?this.Yi(e,cm(i,null,"F")):this.rs(e,_,i,g)}))))})))))}Zi(e,i,r,o){return S0(i)||o.isEqual(Se.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next((u=>{const d=this.ts(i,u);return this.ns(i,d,r,o)?ee.resolve(null):(pl()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.rs(e,d,i,zw(o,-1)).next((p=>p)))}))}ts(e,i){let r=new en(ob(e));return i.forEach(((o,u)=>{hh(e,u)&&(r=r.add(u))})),r}ns(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,i,r){return pl()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.Ji.getDocumentsMatchingQuery(e,i,cr.min(),r)}rs(e,i,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,i,r,o){this.persistence=e,this.ss=i,this.serializer=o,this.os=new mt(Ke),this._s=new lo((u=>Lm(u)),Pm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ex(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function fx(s,e,i,r){return new dx(s,e,i,r)}async function Nb(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.ls(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Le();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of u){p.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(r,g).next((_=>({hs:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function mx(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,E){const x=_.batch,D=x.keys();let q=ee.resolve();return D.forEach((K=>{q=q.next((()=>E.getEntry(g,K))).next((ie=>{const J=_.docVersions.get(K);We(J!==null),ie.version.compareTo(J)<0&&(x.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),E.addEntry(ie)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(g,x)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Le();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Ib(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function px(s,e){const i=xe(s),r=e.snapshotVersion;let o=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});o=i.os;const p=[];e.targetChanges.forEach(((E,x)=>{const D=o.get(x);if(!D)return;p.push(i.Ur.removeMatchingKeys(u,E.removedDocuments,x).next((()=>i.Ur.addMatchingKeys(u,E.addedDocuments,x))));let q=D.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?q=q.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),o=o.insert(x,q),(function(ie,J,le){return ie.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(D,q,E)&&p.push(i.Ur.updateTargetData(u,q))}));let g=as(),_=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(gx(u,d,e.documentUpdates).next((E=>{g=E.Ps,_=E.Is}))),!r.isEqual(Se.min())){const E=i.Ur.getLastRemoteSnapshotVersion(u).next((x=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return ee.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(i.os=o,u)))}function gx(s,e,i){let r=Le(),o=Le();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=as();return i.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):de("LocalStore","Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{Ps:d,Is:o}}))}function yx(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _x(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Ur.getTargetData(r,e).next((u=>u?(o=u,ee.resolve(o)):i.Ur.allocateTargetId(r).next((d=>(o=new ir(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.os=i.os.insert(r.targetId,r),i._s.set(e,r.targetId)),r}))}async function pm(s,e,i){const r=xe(s),o=r.os.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!zl(d))throw d;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function U0(s,e,i){const r=xe(s);let o=Se.min(),u=Le();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,E){const x=xe(g),D=x._s.get(E);return D!==void 0?ee.resolve(x.os.get(D)):x.Ur.getTargetData(_,E)})(r,d,vi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.ss.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?u:Le()))).next((p=>(vx(r,uS(e),p),{documents:p,Ts:u})))))}function vx(s,e,i){let r=s.us.get(e)||Se.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.us.set(e,r)}class j0{constructor(){this.activeTargetIds=pS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bx{constructor(){this.so=new j0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,r){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new j0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function Hf(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class wx extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const r=i.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+i.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(i,r,o,u,d){const p=Hf(),g=this.xo(i,r.toUriEncodedString());de("RestConnection",`Sending RPC '${i}' ${p}:`,g,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,d),this.No(i,g,_,o).then((E=>(de("RestConnection",`Received RPC '${i}' ${p}: `,E),E)),(E=>{throw Za("RestConnection",`RPC '${i}' ${p} failed with error: `,E,"url: ",g,"request:",o),E}))}Lo(i,r,o,u,d,p){return this.Mo(i,r,o,u,d)}Oo(i,r,o){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((u,d)=>i[d]=u)),o&&o.headers.forEach(((u,d)=>i[d]=u))}xo(i,r){const o=Ex[i];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,r,o){const u=Hf();return new Promise(((d,p)=>{const g=new Hv;g.setWithCredentials(!0),g.listenOnce(Fv.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mc.NO_ERROR:const E=g.getResponseJson();de(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),d(E);break;case Mc.TIMEOUT:de(an,`RPC '${e}' ${u} timed out`),p(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const x=g.getStatus();if(de(an,`RPC '${e}' ${u} failed with status:`,x,"response text:",g.getResponseText()),x>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const q=D==null?void 0:D.error;if(q&&q.status&&q.message){const K=(function(J){const le=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(le)>=0?le:W.UNKNOWN})(q.status);p(new ce(K,q.message))}else p(new ce(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{de(an,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);de(an,`RPC '${e}' ${u} sending request:`,o),g.send(i,"POST",_,r,15)}))}Bo(e,i,r){const o=Hf(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Kv(),p=Qv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const E=u.join("");de(an,`Creating RPC '${e}' stream ${o}: ${E}`,g);const x=d.createWebChannel(E,g);let D=!1,q=!1;const K=new Ax({Io:J=>{q?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(D||(de(an,`Opening RPC '${e}' stream ${o} transport.`),x.open(),D=!0),de(an,`RPC '${e}' stream ${o} sending:`,J),x.send(J))},To:()=>x.close()}),ie=(J,le,te)=>{J.listen(le,(ne=>{try{te(ne)}catch(X){setTimeout((()=>{throw X}),0)}}))};return ie(x,yl.EventType.OPEN,(()=>{q||(de(an,`RPC '${e}' stream ${o} transport opened.`),K.yo())})),ie(x,yl.EventType.CLOSE,(()=>{q||(q=!0,de(an,`RPC '${e}' stream ${o} transport closed`),K.So())})),ie(x,yl.EventType.ERROR,(J=>{q||(q=!0,Za(an,`RPC '${e}' stream ${o} transport errored:`,J),K.So(new ce(W.UNAVAILABLE,"The operation could not be completed")))})),ie(x,yl.EventType.MESSAGE,(J=>{var le;if(!q){const te=J.data[0];We(!!te);const ne=te,X=ne.error||((le=ne[0])===null||le===void 0?void 0:le.error);if(X){de(an,`RPC '${e}' stream ${o} received error:`,X);const pe=X.status;let z=(function(R){const I=Mt[R];if(I!==void 0)return _b(I)})(pe),S=X.message;z===void 0&&(z=W.INTERNAL,S="Unknown error status: "+pe+" with message "+X.message),q=!0,K.So(new ce(z,S)),x.close()}else de(an,`RPC '${e}' stream ${o} received:`,te),K.bo(te)}})),ie(p,Gv.STAT_EVENT,(J=>{J.stat===sm.PROXY?de(an,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===sm.NOPROXY&&de(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.wo()}),0),K}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(s){return new kS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,i,r=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=i,this.ko=r,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,i-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,i,r,o,u,d,p,g){this.ui=e,this.Ho=r,this.Jo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Cb(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===i&&this.P_(r,o)}),(r=>{e((()=>{const o=new ce(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,i){const r=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sx extends Db{constructor(e,i,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=u}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=jS(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?bi(d.readTime):Se.min()})(e);return this.listener.d_(i,r)}A_(e){const i={};i.database=mm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=lm(g)?{documents:zS(u,g)}:{query:BS(u,g)._t},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Tb(u,d.resumeToken);const _=hm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=Jc(u,d.snapshotVersion.toTimestamp());const _=hm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=HS(this.serializer,e);r&&(i.labels=r),this.a_(i)}R_(e){const i={};i.database=mm(this.serializer),i.removeTarget=e,this.a_(i)}}class xx extends Db{constructor(e,i,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=PS(e.writeResults,e.commitTime),r=bi(e.commitTime);return this.listener.g_(r,i)}p_(){const e={};e.database=mm(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>LS(this.serializer,r)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx extends class{}{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(e,dm(i,r),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(W.UNKNOWN,u.toString())}))}Lo(e,i,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Lo(e,dm(i,r),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(W.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Nx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rs(i),this.D_=!1):de("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,i,r,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{r.enqueueAndForget((async()=>{ta(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await(async function(g){const _=xe(g);_.L_.add(4),await Fl(_),_.q_.set("Unknown"),_.L_.delete(4),await gh(_)})(this))}))})),this.q_=new Nx(r,o)}}async function gh(s){if(ta(s))for(const e of s.B_)await e(!0)}async function Fl(s){for(const e of s.B_)await e(!1)}function Ob(s,e){const i=xe(s);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Zm(i)?Jm(i):uo(i).r_()&&$m(i,e))}function Xm(s,e){const i=xe(s),r=uo(i);i.N_.delete(e),r.r_()&&Mb(i,e),i.N_.size===0&&(r.r_()?r.o_():ta(i)&&i.q_.set("Unknown"))}function $m(s,e){if(s.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}uo(s).A_(e)}function Mb(s,e){s.Q_.xe(e),uo(s).R_(e)}function Jm(s){s.Q_=new CS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>s.N_.get(e)||null,tt:()=>s.datastore.serializer.databaseId}),uo(s).start(),s.q_.v_()}function Zm(s){return ta(s)&&!uo(s).n_()&&s.N_.size>0}function ta(s){return xe(s).L_.size===0}function kb(s){s.Q_=void 0}async function Cx(s){s.q_.set("Online")}async function Dx(s){s.N_.forEach(((e,i)=>{$m(s,e)}))}async function Ox(s,e){kb(s),Zm(s)?(s.q_.M_(e),Jm(s)):s.q_.set("Unknown")}async function Mx(s,e,i){if(s.q_.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.N_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.N_.delete(p),o.Q_.removeTarget(p))})(s,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(s,r)}else if(e instanceof Uc?s.Q_.Ke(e):e instanceof vb?s.Q_.He(e):s.Q_.We(e),!i.isEqual(Se.min()))try{const r=await Ib(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Q_.rt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.N_.get(_);E&&u.N_.set(_,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const E=u.N_.get(g);if(!E)return;u.N_.set(g,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),Mb(u,g);const x=new ir(E.target,g,_,E.sequenceNumber);$m(u,x)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Zc(s,r)}}async function Zc(s,e,i){if(!zl(e))throw e;s.L_.add(1),await Fl(s),s.q_.set("Offline"),i||(i=()=>Ib(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await gh(s)}))}function Vb(s,e){return e().catch((i=>Zc(s,i,e)))}async function yh(s){const e=xe(s),i=dr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;kx(e);)try{const o=await yx(e.localStore,r);if(o===null){e.O_.length===0&&i.o_();break}r=o.batchId,Vx(e,o)}catch(o){await Zc(e,o)}Ub(e)&&jb(e)}function kx(s){return ta(s)&&s.O_.length<10}function Vx(s,e){s.O_.push(e);const i=dr(s);i.r_()&&i.V_&&i.m_(e.mutations)}function Ub(s){return ta(s)&&!dr(s).n_()&&s.O_.length>0}function jb(s){dr(s).start()}async function Ux(s){dr(s).p_()}async function jx(s){const e=dr(s);for(const i of s.O_)e.m_(i.mutations)}async function Lx(s,e,i){const r=s.O_.shift(),o=Hm.from(r,e,i);await Vb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await yh(s)}async function Px(s,e){e&&dr(s).V_&&await(async function(r,o){if((function(d){return RS(d)&&d!==W.ABORTED})(o.code)){const u=r.O_.shift();dr(r).s_(),await Vb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await yh(r)}})(s,e),Ub(s)&&jb(s)}async function P0(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=ta(i);i.L_.add(3),await Fl(i),r&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await gh(i)}async function zx(s,e){const i=xe(s);e?(i.L_.delete(2),await gh(i)):e||(i.L_.add(2),await Fl(i),i.q_.set("Unknown"))}function uo(s){return s.K_||(s.K_=(function(i,r,o){const u=xe(i);return u.w_(),new Sx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:Cx.bind(null,s),Ro:Dx.bind(null,s),mo:Ox.bind(null,s),d_:Mx.bind(null,s)}),s.B_.push((async e=>{e?(s.K_.s_(),Zm(s)?Jm(s):s.q_.set("Unknown")):(await s.K_.stop(),kb(s))}))),s.K_}function dr(s){return s.U_||(s.U_=(function(i,r,o){const u=xe(i);return u.w_(),new xx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ux.bind(null,s),mo:Px.bind(null,s),f_:jx.bind(null,s),g_:Lx.bind(null,s)}),s.B_.push((async e=>{e?(s.U_.s_(),await yh(s)):(await s.U_.stop(),s.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,i,r,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,u){const d=Date.now()+r,p=new Wm(e,i,d,o,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(s,e){if(rs("AsyncQueue",`${e}: ${s}`),zl(s))return new ce(W.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.comparator=e?(i,r)=>e(i,r)||ye.comparator(i.key,r.key):(i,r)=>ye.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Ya(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.W_=new mt(ye.comparator)}track(e){const i=e.doc.key,r=this.W_.get(i);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(i,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(i):e.type===1&&r.type===2?this.W_=this.W_.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,r)=>{e.push(r)})),e}}class io{constructor(e,i,r,o,u,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(e,i,Ya.emptySet(i),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class qx{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,r){const o=xe(i),u=o.queries;o.queries=B0(),u.forEach(((d,p)=>{for(const g of p.j_)g.onError(r)}))})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function B0(){return new lo((s=>ab(s)),ch)}async function Lb(s,e){const i=xe(s);let r=3;const o=e.query;let u=i.queries.get(o);u?!u.H_()&&e.J_()&&(r=2):(u=new Bx,r=e.J_()?0:1);try{switch(r){case 0:u.z_=await i.onListen(o,!0);break;case 1:u.z_=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ep(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,u),u.j_.push(e),e.Z_(i.onlineState),u.z_&&e.X_(u.z_)&&tp(i)}async function Pb(s,e){const i=xe(s),r=e.query;let o=3;const u=i.queries.get(r);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Hx(s,e){const i=xe(s);let r=!1;for(const o of e){const u=o.query,d=i.queries.get(u);if(d){for(const p of d.j_)p.X_(o)&&(r=!0);d.z_=o}}r&&tp(i)}function Fx(s,e,i){const r=xe(s),o=r.queries.get(e);if(o)for(const u of o.j_)u.onError(i);r.queries.delete(e)}function tp(s){s.Y_.forEach((e=>{e.next()}))}var gm,q0;(q0=gm||(gm={})).ea="default",q0.Cache="cache";class zb{constructor(e,i,r){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const r=i!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.key=e}}class qb{constructor(e){this.key=e}}class Gx{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=ob(e),this.Ra=new Ya(this.Aa)}get Va(){return this.Ta}ma(e,i){const r=i?i.fa:new z0,o=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,x)=>{const D=o.get(E),q=hh(this.query,x)?x:null,K=!!D&&this.mutatedKeys.has(D.key),ie=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;D&&q?D.data.isEqual(q.data)?K!==ie&&(r.track({type:3,doc:q}),J=!0):this.ga(D,q)||(r.track({type:2,doc:q}),J=!0,(g&&this.Aa(q,g)>0||_&&this.Aa(q,_)<0)&&(p=!0)):!D&&q?(r.track({type:0,doc:q}),J=!0):D&&!q&&(r.track({type:1,doc:D}),J=!0,(g||_)&&(p=!0)),J&&(q?(d=d.add(q),u=ie?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{Ra:d,fa:r,ns:p,mutatedKeys:u}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((E,x)=>(function(q,K){const ie=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return ie(q)-ie(K)})(E.type,x.type)||this.Aa(E.doc,x.doc))),this.pa(r),o=o!=null&&o;const p=i&&!o?this.ya():[],g=this.da.size===0&&this.current&&!o?1:0,_=g!==this.Ea;return this.Ea=g,d.length!==0||_?{snapshot:new io(this.query,e.Ra,u,d,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:p}:{wa:p}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new z0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const i=[];return e.forEach((r=>{this.da.has(r)||i.push(new qb(r))})),this.da.forEach((r=>{e.has(r)||i.push(new Bb(r))})),i}ba(e){this.Ta=e.Ts,this.da=Le();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Qx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Kx{constructor(e){this.key=e,this.va=!1}}class Yx{constructor(e,i,r,o,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new lo((p=>ab(p)),ch),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(ye.comparator),this.Na=new Map,this.La=new Qm,this.Ba={},this.ka=new Map,this.qa=no.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Xx(s,e,i=!0){const r=Yb(s);let o;const u=r.Fa.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await Hb(r,e,i,!0),o}async function $x(s,e){const i=Yb(s);await Hb(i,e,!0,!1)}async function Hb(s,e,i,r){const o=await _x(s.localStore,vi(e)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await Jx(s,e,u,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Ob(s.remoteStore,o),p}async function Jx(s,e,i,r,o){s.Ka=(x,D,q)=>(async function(ie,J,le,te){let ne=J.view.ma(le);ne.ns&&(ne=await U0(ie.localStore,J.query,!1).then((({documents:S})=>J.view.ma(S,ne))));const X=te&&te.targetChanges.get(J.targetId),pe=te&&te.targetMismatches.get(J.targetId)!=null,z=J.view.applyChanges(ne,ie.isPrimaryClient,X,pe);return F0(ie,J.targetId,z.wa),z.snapshot})(s,x,D,q);const u=await U0(s.localStore,e,!0),d=new Gx(e,u.Ts),p=d.ma(u.documents),g=Hl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,g);F0(s,i,_.wa);const E=new Qx(e,i,d);return s.Fa.set(e,E),s.Ma.has(i)?s.Ma.get(i).push(e):s.Ma.set(i,[e]),_.snapshot}async function Zx(s,e,i){const r=xe(s),o=r.Fa.get(e),u=r.Ma.get(o.targetId);if(u.length>1)return r.Ma.set(o.targetId,u.filter((d=>!ch(d,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Xm(r.remoteStore,o.targetId),ym(r,o.targetId)})).catch(Pl)):(ym(r,o.targetId),await pm(r.localStore,o.targetId,!0))}async function Wx(s,e){const i=xe(s),r=i.Fa.get(e),o=i.Ma.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(i.remoteStore,r.targetId))}async function e2(s,e,i){const r=o2(s);try{const o=await(function(d,p){const g=xe(d),_=jt.now(),E=p.reduce(((q,K)=>q.add(K.key)),Le());let x,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let K=as(),ie=Le();return g.cs.getEntries(q,E).next((J=>{K=J,K.forEach(((le,te)=>{te.isValidDocument()||(ie=ie.add(le))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,K))).next((J=>{x=J;const le=[];for(const te of p){const ne=ES(te,x.get(te.key).overlayedDocument);ne!=null&&le.push(new mr(te.key,ne,Zv(ne.value.mapValue),Jn.exists(!0)))}return g.mutationQueue.addMutationBatch(q,_,le,p)})).next((J=>{D=J;const le=J.applyToLocalDocumentSet(x,ie);return g.documentOverlayCache.saveOverlays(q,J.batchId,le)}))})).then((()=>({batchId:D.batchId,changes:ub(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let _=d.Ba[d.currentUser.toKey()];_||(_=new mt(Ke)),_=_.insert(p,g),d.Ba[d.currentUser.toKey()]=_})(r,o.batchId,i),await Gl(r,o.changes),await yh(r.remoteStore)}catch(o){const u=ep(o,"Failed to persist write");i.reject(u)}}async function Fb(s,e){const i=xe(s);try{const r=await px(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=i.Na.get(u);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?We(d.va):o.removedDocuments.size>0&&(We(d.va),d.va=!1))})),await Gl(i,r,e)}catch(r){await Pl(r)}}function H0(s,e,i){const r=xe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Fa.forEach(((u,d)=>{const p=d.view.Z_(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=xe(d);g.onlineState=p;let _=!1;g.queries.forEach(((E,x)=>{for(const D of x.j_)D.Z_(p)&&(_=!0)})),_&&tp(g)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t2(s,e,i){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Na.get(e),u=o&&o.key;if(u){let d=new mt(ye.comparator);d=d.insert(u,ln.newNoDocument(u,Se.min()));const p=Le().add(u),g=new mh(Se.min(),new Map,new mt(Ke),d,p);await Fb(r,g),r.Oa=r.Oa.remove(u),r.Na.delete(e),np(r)}else await pm(r.localStore,e,!1).then((()=>ym(r,e,i))).catch(Pl)}async function n2(s,e){const i=xe(s),r=e.batch.batchId;try{const o=await mx(i.localStore,e);Qb(i,r,null),Gb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(i,o)}catch(o){await Pl(o)}}async function i2(s,e,i){const r=xe(s);try{const o=await(function(d,p){const g=xe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return g.mutationQueue.lookupMutationBatch(_,p).next((x=>(We(x!==null),E=x.keys(),g.mutationQueue.removeMutationBatch(_,x)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>g.localDocuments.getDocuments(_,E)))}))})(r.localStore,e);Qb(r,e,i),Gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Gl(r,o)}catch(o){await Pl(o)}}function Gb(s,e){(s.ka.get(e)||[]).forEach((i=>{i.resolve()})),s.ka.delete(e)}function Qb(s,e,i){const r=xe(s);let o=r.Ba[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function ym(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Ma.get(e))s.Fa.delete(r),i&&s.Ca.$a(r,i);s.Ma.delete(e),s.isPrimaryClient&&s.La.gr(e).forEach((r=>{s.La.containsKey(r)||Kb(s,r)}))}function Kb(s,e){s.xa.delete(e.path.canonicalString());const i=s.Oa.get(e);i!==null&&(Xm(s.remoteStore,i),s.Oa=s.Oa.remove(e),s.Na.delete(i),np(s))}function F0(s,e,i){for(const r of i)r instanceof Bb?(s.La.addReference(r.key,e),s2(s,r)):r instanceof qb?(de("SyncEngine","Document no longer in limbo: "+r.key),s.La.removeReference(r.key,e),s.La.containsKey(r.key)||Kb(s,r.key)):Ae()}function s2(s,e){const i=e.key,r=i.path.canonicalString();s.Oa.get(i)||s.xa.has(r)||(de("SyncEngine","New document in limbo: "+i),s.xa.add(r),np(s))}function np(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const e=s.xa.values().next().value;s.xa.delete(e);const i=new ye(ut.fromString(e)),r=s.qa.next();s.Na.set(r,new Kx(i)),s.Oa=s.Oa.insert(i,r),Ob(s.remoteStore,new ir(vi(zm(i.path)),r,"TargetPurposeLimboResolution",km.oe))}}async function Gl(s,e,i){const r=xe(s),o=[],u=[],d=[];r.Fa.isEmpty()||(r.Fa.forEach(((p,g)=>{d.push(r.Ka(g,e,i).then((_=>{var E;if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:(E=i==null?void 0:i.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(_){o.push(_);const x=Ym.Wi(g.targetId,_);u.push(x)}})))})),await Promise.all(d),r.Ca.d_(o),await(async function(g,_){const E=xe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ee.forEach(_,(D=>ee.forEach(D.$i,(q=>E.persistence.referenceDelegate.addReference(x,D.targetId,q))).next((()=>ee.forEach(D.Ui,(q=>E.persistence.referenceDelegate.removeReference(x,D.targetId,q)))))))))}catch(x){if(!zl(x))throw x;de("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const D=x.targetId;if(!x.fromCache){const q=E.os.get(D),K=q.snapshotVersion,ie=q.withLastLimboFreeSnapshotVersion(K);E.os=E.os.insert(D,ie)}}})(r.localStore,u))}async function r2(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await Nb(i.localStore,e);i.currentUser=e,(function(u,d){u.ka.forEach((p=>{p.forEach((g=>{g.reject(new ce(W.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gl(i,r.hs)}}function a2(s,e){const i=xe(s),r=i.Na.get(e);if(r&&r.va)return Le().add(r.key);{let o=Le();const u=i.Ma.get(e);if(!u)return o;for(const d of u){const p=i.Fa.get(d);o=o.unionWith(p.view.Va)}return o}}function Yb(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t2.bind(null,e),e.Ca.d_=Hx.bind(null,e.eventManager),e.Ca.$a=Fx.bind(null,e.eventManager),e}function o2(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i2.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return fx(this.persistence,new hx,e.initialUser,this.serializer)}Ga(e){return new lx(Km.Zr,this.serializer)}Wa(e){return new bx}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r2.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qx})()}createDatastore(e){const i=ph(e.databaseInfo.databaseId),r=(function(u){return new wx(u)})(e.databaseInfo);return(function(u,d,p,g){return new Rx(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,u,d,p){return new Ix(r,o,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>H0(this.syncEngine,i,0)),(function(){return L0.D()?new L0:new Tx})())}createSyncEngine(e,i){return(function(o,u,d,p,g,_,E){const x=new Yx(o,u,d,p,g,_);return E&&(x.Qa=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const u=xe(o);de("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Fl(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,i,r,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{de("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ep(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(s,e){s.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Nb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function G0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await u2(s);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>P0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>P0(e.remoteStore,o))),s._onlineComponents=e}async function u2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Gf(s,new Wc)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Gf(s,new Wc);return s._offlineComponents}async function $b(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await G0(s,s._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await G0(s,new _m))),s._onlineComponents}function c2(s){return $b(s).then((e=>e.syncEngine))}async function vm(s){const e=await $b(s),i=e.eventManager;return i.onListen=Xx.bind(null,e.syncEngine),i.onUnlisten=Zx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$x.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Wx.bind(null,e.syncEngine),i}function h2(s,e,i={}){const r=new ar;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,g,_){const E=new Xb({next:D=>{E.Za(),d.enqueueAndForget((()=>Pb(u,x))),D.fromCache&&g.source==="server"?_.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),x=new zb(p,E,{includeMetadataChanges:!0,_a:!0});return Lb(u,x)})(await vm(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(s,e,i){if(!i)throw new ce(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function d2(s,e,i,r){if(e===!0&&r===!0)throw new ce(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function K0(s){if(!ye.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y0(s){if(ye.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _h(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae()}function is(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_h(s);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Dw;switch(r.type){case"firstParty":return new Vw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Q0.get(i);r&&(de("ComponentProvider","Removing Datastore"),Q0.delete(i),r.terminate())})(this),Promise.resolve()}}function f2(s,e,i,r={}){var o;const u=(s=is(s,vh))._getSettings(),d=`${e}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),r.mockUserToken){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=on.MOCK_USER;else{p=Uv(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new on(_)}s._authCredentials=new Ow(new Yv(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class Rn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class or extends na{constructor(e,i,r){super(e,i,zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ye(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function Nc(s,e,...i){if(s=bt(s),Zb("collection","path",e),s instanceof vh){const r=ut.fromString(e,...i);return Y0(r),new or(s,null,r)}{if(!(s instanceof Rn||s instanceof or))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ut.fromString(e,...i));return Y0(r),new or(s.firestore,null,r)}}function Ji(s,e,...i){if(s=bt(s),arguments.length===1&&(e=Xv.newId()),Zb("doc","path",e),s instanceof vh){const r=ut.fromString(e,...i);return K0(r),new Rn(s,null,new ye(r))}{if(!(s instanceof Rn||s instanceof or))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ut.fromString(e,...i));return K0(r),new Rn(s.firestore,s instanceof or?s.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Cb(this,"async_queue_retry"),this.Vu=()=>{const r=Ff();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new ar;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zl(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p})(r);throw rs("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=i,i}enqueueAfterDelay(e,i,r){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const o=Wm.createAndSchedule(this,e,i,r,(u=>this.yu(u)));return this.Tu.push(o),o}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function J0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class so extends vh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new $0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $0(e),this._firestoreClient=void 0,await e}}}function m2(s,e){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:"(default)",o=lh(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Mv("firestore");u&&f2(o,...u)}return o}function bh(s){if(s._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||p2(s),s._firestoreClient}function p2(s){var e,i,r;const o=s._freezeSettings(),u=(function(p,g,_,E){return new Yw(p,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Jb(E.experimentalLongPollingOptions),E.useFetchStreams)})(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new l2(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(tn.fromBase64String(e))}catch(i){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ro(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=/^__.*__$/;class y2{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ql(e,this.data,i,this.fieldTransforms)}}class Wb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function eT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class ap{constructor(e,i,r,o,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return eh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(eT(this.Cu)&&g2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||ph(e)}Qu(e,i,r,o=!1){return new ap({Cu:e,methodName:i,qu:r,path:Wt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(s){const e=s._freezeSettings(),i=ph(s._databaseId);return new _2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function tT(s,e,i,r,o,u={}){const d=s.Qu(u.merge||u.mergeFields?2:0,e,i,o);lp("Data must be an object, but it was:",d,r);const p=nT(r,d);let g,_;if(u.merge)g=new jn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const x of u.mergeFields){const D=bm(e,x,i);if(!d.contains(D))throw new ce(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);sT(E,D)||E.push(D)}g=new jn(E),_=d.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,_=d.fieldTransforms;return new y2(new xn(p),g,_)}class Eh extends ip{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function v2(s,e,i,r){const o=s.Qu(1,e,i);lp("Data must be an object, but it was:",o,r);const u=[],d=xn.empty();ea(r,((g,_)=>{const E=up(e,g,i);_=bt(_);const x=o.Nu(E);if(_ instanceof Eh)u.push(E);else{const D=Ql(_,x);D!=null&&(u.push(E),d.set(E,D))}}));const p=new jn(u);return new Wb(d,p,o.fieldTransforms)}function b2(s,e,i,r,o,u){const d=s.Qu(1,e,i),p=[bm(e,r,i)],g=[o];if(u.length%2!=0)throw new ce(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<u.length;D+=2)p.push(bm(e,u[D])),g.push(u[D+1]);const _=[],E=xn.empty();for(let D=p.length-1;D>=0;--D)if(!sT(_,p[D])){const q=p[D];let K=g[D];K=bt(K);const ie=d.Nu(q);if(K instanceof Eh)_.push(q);else{const J=Ql(K,ie);J!=null&&(_.push(q),E.set(q,J))}}const x=new jn(_);return new Wb(E,x,d.fieldTransforms)}function T2(s,e,i,r=!1){return Ql(i,s.Qu(r?4:3,e))}function Ql(s,e){if(iT(s=bt(s)))return lp("Unsupported field value:",e,s),nT(s,e);if(s instanceof ip)return(function(r,o){if(!eT(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const u=[];let d=0;for(const p of r){let g=Ql(p,o.Lu(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=jt.fromDate(r);return{timestampValue:Jc(o.serializer,u)}}if(r instanceof jt){const u=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,u)}}if(r instanceof sp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ro)return{bytesValue:Tb(o.serializer,r._byteString)};if(r instanceof Rn){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof rp)return(function(d,p){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Bu("VectorValues must only contain numeric values.");return Bm(p.serializer,g)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${_h(r)}`)})(s,e)}function nT(s,e){const i={};return $v(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(s,((r,o)=>{const u=Ql(o,e.Mu(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function iT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof sp||s instanceof ro||s instanceof Rn||s instanceof ip||s instanceof rp)}function lp(s,e,i){if(!iT(i)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(i)){const r=_h(i);throw r==="an object"?e.Bu(s+" a custom object"):e.Bu(s+" "+r)}}function bm(s,e,i){if((e=bt(e))instanceof Th)return e._internalPath;if(typeof e=="string")return up(s,e);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const E2=new RegExp("[~\\*/\\[\\]]");function up(s,e,i){if(e.search(E2)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Th(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,e,i,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ce(W.INVALID_ARGUMENT,p+s+g)}function sT(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i,r,o,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(cp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class A2 extends rT{data(){return super.data()}}function cp(s,e){return typeof e=="string"?up(s,e):e instanceof Th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class w2 extends hp{}function S2(s,e,...i){let r=[];e instanceof hp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof dp)).length,p=u.filter((g=>g instanceof Ah)).length;if(d>1||d>0&&p>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Ah extends w2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Ah(e,i,r)}_apply(e){const i=this._parse(e);return oT(e._query,i),new na(e.firestore,e.converter,um(e._query,i))}_parse(e){const i=op(e.firestore);return(function(u,d,p,g,_,E,x){let D;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){W0(x,E);const q=[];for(const K of x)q.push(Z0(g,u,K));D={arrayValue:{values:q}}}else D=Z0(g,u,x)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||W0(x,E),D=T2(p,d,x,E==="in"||E==="not-in");return kt.create(_,E,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function x2(s,e,i){const r=e,o=cp("where",s);return Ah._create(o,r,i)}class dp extends hp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,u){let d=o;const p=u.getFlattenedFilters();for(const g of p)oT(d,g),d=um(d,g)})(e._query,i),new na(e.firestore,e.converter,um(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z0(s,e,i){if(typeof(i=bt(i))=="string"){if(i==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rb(e)&&i.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ut.fromString(i));if(!ye.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v0(s,new ye(r))}if(i instanceof Rn)return v0(s,i._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(i)}.`)}function W0(s,e){if(!Array.isArray(s)||s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(s,e){const i=(function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class R2{convertValue(e,i="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ea(e,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(e){var i,r,o;const u=(o=(r=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((d=>xt(d.doubleValue)));return new rp(u)}convertGeoPoint(e){return new sp(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Um(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const i=hr(e);return new jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ut.fromString(e);We(Rb(r));const o=new Cl(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return o.isEqual(i)||rs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(s,e,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uT extends rT{constructor(e,i,r,o,u,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class jc extends uT{data(e={}){return super.data(e)}}class cT{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new jc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:N2(p.type),doc:g,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function N2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class fp extends R2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function I2(s){s=is(s,na);const e=is(s.firestore,so),i=bh(e),r=new fp(e);return aT(s._query),h2(i,s._query).then((o=>new cT(e,r,s,o)))}function Ic(s,e,i){s=is(s,Rn);const r=is(s.firestore,so),o=lT(s.converter,e,i);return hT(r,[tT(op(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Jn.none())])}function Qf(s,...e){var i,r,o;s=bt(s);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||J0(e[d])||(u=e[d],d++);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(J0(e[d])){const x=e[d];e[d]=(i=x.next)===null||i===void 0?void 0:i.bind(x),e[d+1]=(r=x.error)===null||r===void 0?void 0:r.bind(x),e[d+2]=(o=x.complete)===null||o===void 0?void 0:o.bind(x)}let g,_,E;if(s instanceof Rn)_=is(s.firestore,so),E=zm(s._key.path),g={next:x=>{e[d]&&e[d](C2(_,s,x))},error:e[d+1],complete:e[d+2]};else{const x=is(s,na);_=is(x.firestore,so),E=x._query;const D=new fp(_);g={next:q=>{e[d]&&e[d](new cT(_,D,x,q))},error:e[d+1],complete:e[d+2]},aT(s._query)}return(function(D,q,K,ie){const J=new Xb(ie),le=new zb(q,J,K);return D.asyncQueue.enqueueAndForget((async()=>Lb(await vm(D),le))),()=>{J.Za(),D.asyncQueue.enqueueAndForget((async()=>Pb(await vm(D),le)))}})(bh(_),E,p,g)}function hT(s,e){return(function(r,o){const u=new ar;return r.asyncQueue.enqueueAndForget((async()=>e2(await c2(r),o,u))),u.promise})(bh(s),e)}function C2(s,e,i){const r=i.docs.get(e._key),o=new fp(s);return new uT(s,o,e._key,r,new bl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=op(e)}set(e,i,r){this._verifyNotCommitted();const o=Kf(e,this._firestore),u=lT(o.converter,i,r),d=tT(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,Jn.none())),this}update(e,i,r,...o){this._verifyNotCommitted();const u=Kf(e,this._firestore);let d;return d=typeof(i=bt(i))=="string"||i instanceof Th?b2(this._dataReader,"WriteBatch.update",u._key,i,r,o):v2(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(d.toMutation(u._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Kf(e,this._firestore);return this._mutations=this._mutations.concat(new qm(i._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kf(s,e){if((s=bt(s)).firestore!==e)throw new ce(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){return bh(s=is(s,so)),new D2(s,(e=>hT(s,e)))}(function(e,i=!0){(function(o){oo=o})(Wr),Kr(new ur("firestore",((r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new so(new Mw(r.getProvider("auth-internal")),new jw(r.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(_.options.projectId,E)})(d,o),d);return u=Object.assign({useFetchStreams:i},u),p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),_i(m0,"4.7.3",e),_i(m0,"4.7.3","esm2017")})();function mp(s,e){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(i[r[o]]=s[r[o]]);return i}function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O2=dT,fT=new jl("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Cm("@firebase/auth");function M2(s,...e){th.logLevel<=ze.WARN&&th.warn(`Auth (${Wr}): ${s}`,...e)}function Lc(s,...e){th.logLevel<=ze.ERROR&&th.error(`Auth (${Wr}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(s,...e){throw pp(s,...e)}function Ti(s,...e){return pp(s,...e)}function mT(s,e,i){const r=Object.assign(Object.assign({},O2()),{[e]:i});return new jl("auth","Firebase",r).create(e,{appName:s.name})}function lr(s){return mT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return fT.create(s,...e)}function Ee(s,e,...i){if(!s)throw pp(e,...i)}function es(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lc(e),new Error(e)}function ls(s,e){s||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function k2(){return tv()==="http:"||tv()==="https:"}function tv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||h1()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ls(i>e,"Short delay should be less than long delay!"),this.isMobile=l1()||d1()}get(){return V2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(s,e){ls(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new Kl(3e4,6e4);function wh(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function co(s,e,i,r,o={}){return gT(s,o,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=Ll(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:g},u);return c1()||(_.referrerPolicy="no-referrer"),pT.fetch()(_T(s,s.config.apiHost,i,p),_)})}async function gT(s,e,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},j2),e);try{const o=new P2(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Cc(s,"user-disabled",d);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw mT(s,E,_);os(s,E)}}catch(o){if(o instanceof wi)throw o;os(s,"network-request-failed",{message:String(o)})}}async function yT(s,e,i,r,o={}){const u=await co(s,e,i,r,o);return"mfaPendingCredential"in u&&os(s,"multi-factor-auth-required",{_serverResponse:u}),u}function _T(s,e,i,r){const o=`${e}${i}?${r}`;return s.config.emulator?gp(s.config,o):`${s.config.apiScheme}://${o}`}class P2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),L2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Ti(s,e,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(s,e){return co(s,"POST","/v1/accounts:delete",e)}async function vT(s,e){return co(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B2(s,e=!1){const i=bt(s),r=await i.getIdToken(e),o=yp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Sl(Yf(o.auth_time)),issuedAtTime:Sl(Yf(o.iat)),expirationTime:Sl(Yf(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Yf(s){return Number(s)*1e3}function yp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Dv(i);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nv(s){const e=yp(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof wi&&q2(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function q2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(s){var e;const i=s.auth,r=await s.getIdToken(),o=await kl(s,vT(i,{idToken:r}));Ee(o==null?void 0:o.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bT(u.providerUserInfo):[],p=G2(s.providerData,d),g=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?_:!1,x={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Em(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,x)}async function F2(s){const e=bt(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G2(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function bT(s){return s.map(e=>{var{providerId:i}=e,r=mp(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(s,e){const i=await gT(s,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=_T(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",pT.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function K2(s,e){return co(s,"POST","/v2/accounts:revokeToken",wh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await Q2(e,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,d=new Xa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:i,auth:r,stsTokenManager:o}=e,u=mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Em(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await kl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return B2(this,e)}reload(){return F2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wi(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await kl(this,z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,o,u,d,p,g,_,E;const x=(r=i.displayName)!==null&&r!==void 0?r:void 0,D=(o=i.email)!==null&&o!==void 0?o:void 0,q=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,K=(d=i.photoURL)!==null&&d!==void 0?d:void 0,ie=(p=i.tenantId)!==null&&p!==void 0?p:void 0,J=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,le=(_=i.createdAt)!==null&&_!==void 0?_:void 0,te=(E=i.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:X,isAnonymous:pe,providerData:z,stsTokenManager:S}=i;Ee(ne&&S,e,"internal-error");const w=Xa.fromJSON(this.name,S);Ee(typeof ne=="string",e,"internal-error"),Js(x,e.name),Js(D,e.name),Ee(typeof X=="boolean",e,"internal-error"),Ee(typeof pe=="boolean",e,"internal-error"),Js(q,e.name),Js(K,e.name),Js(ie,e.name),Js(J,e.name),Js(le,e.name),Js(te,e.name);const R=new ts({uid:ne,auth:e,email:D,emailVerified:X,displayName:x,isAnonymous:pe,photoURL:K,phoneNumber:q,tenantId:ie,stsTokenManager:w,createdAt:le,lastLoginAt:te});return z&&Array.isArray(z)&&(R.providerData=z.map(I=>Object.assign({},I))),J&&(R._redirectEventId=J),R}static async _fromIdTokenResponse(e,i,r=!1){const o=new Xa;o.updateFromServerResponse(i);const u=new ts({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await nh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Xa;p.updateFromIdToken(r);const g=new ts({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function ns(s){ls(s instanceof Function,"Expected a class definition");let e=iv.get(s);return e?(ls(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,iv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}TT.type="NONE";const sv=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class $a{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Pc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Pc("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new $a(ns(sv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ns(sv);const d=Pc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){const x=ts._fromJSON(e,E);_!==u&&(p=x),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new $a(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ST(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ET(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(NT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||wT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ET(s=un()){return/firefox\//i.test(s)}function AT(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wT(s=un()){return/crios\//i.test(s)}function ST(s=un()){return/iemobile/i.test(s)}function xT(s=un()){return/android/i.test(s)}function RT(s=un()){return/blackberry/i.test(s)}function NT(s=un()){return/webos/i.test(s)}function _p(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Y2(s=un()){var e;return _p(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return f1()&&document.documentMode===10}function IT(s=un()){return _p(s)||xT(s)||NT(s)||RT(s)||/windows phone/i.test(s)||ST(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(s,e=[]){let i;switch(s){case"Browser":i=rv(un());break;case"Worker":i=`${rv(un())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(s,e={}){return co(s,"GET","/v2/passwordPolicy",wh(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=6;class W2{constructor(e){var i,r,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:Z2,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,o,u,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new $2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await vT(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Wi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wi(this.app))return Promise.reject(lr(this));const i=e?bt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wi(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wi(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J2(this),i=new W2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await K2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ns(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&M2(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Sh(s){return bt(s)}class av{constructor(e){this.auth=e,this.observer=null,this.addObserver=T1(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tR(s){vp=s}function nR(s){return vp.loadJS(s)}function iR(){return vp.gapiScript}function sR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(s,e){const i=lh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Fc(u,e??{}))return o;os(o,"already-initialized")}return i.initialize({options:e})}function aR(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ns);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oR(s,e,i){const r=Sh(s);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=DT(e),{host:d,port:p}=lR(e),g=p===null?"":`:${p}`;r.config.emulator={url:`${u}//${d}${g}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),uR()}function DT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lR(s){const e=DT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:ov(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:ov(d)}}}function ov(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uR(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,i){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(s,e){return yT(s,"POST","/v1/accounts:signInWithIdp",wh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="http://localhost";class Jr extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):os("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=i,u=mp(i,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Jr(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ja(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ll(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends MT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Yl{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Jr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ws.credential(i,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Yl{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Yl{constructor(){super("twitter.com")}static credential(e,i){return Jr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return tr.credential(i,r)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(s,e){return yT(s,"POST","/v1/accounts:signUp",wh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const u=await ts._fromIdTokenResponse(e,r,o),d=lv(r);return new fr({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=lv(r);return new fr({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function lv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(s){var e;if(Wi(s.app))return Promise.reject(lr(s));const i=Sh(s);if(await i._initializationPromise,!((e=i.currentUser)===null||e===void 0)&&e.isAnonymous)return new fr({user:i.currentUser,providerId:null,operationType:"signIn"});const r=await hR(i,{returnSecureToken:!0}),o=await fr._fromIdTokenResponse(i,"signIn",r,!0);return await i._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends wi{constructor(e,i,r,o){var u;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new ih(e,i,r,o)}}function kT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,u,e,r):u})}async function fR(s,e,i=!1){const r=await kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return fr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(s,e,i=!1){const{auth:r}=s;if(Wi(r.app))return Promise.reject(lr(r));const o="reauthenticate";try{const u=await kl(s,kT(r,o,e,s),i);Ee(u.idToken,r,"internal-error");const d=yp(u.idToken);Ee(d,r,"internal-error");const{sub:p}=d;return Ee(s.uid===p,r,"user-mismatch"),fr._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&os(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(s,e,i=!1){if(Wi(s.app))return Promise.reject(lr(s));const r="signIn",o=await kT(s,r,e),u=await fr._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}function gR(s,e,i,r){return bt(s).onIdTokenChanged(e,i,r)}function yR(s,e,i){return bt(s).beforeAuthStateChanged(e,i)}function _R(s,e,i,r){return bt(s).onAuthStateChanged(e,i,r)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1e3,bR=10;class UT extends VT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);X2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bR):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const TR=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends VT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}jT.type="SESSION";const LT=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,u)),g=await ER(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const _=bp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const D=x;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(D.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function wR(s){Ei().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function SR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function RR(){return PT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebaseLocalStorageDb",NR=1,rh="firebaseLocalStorage",BT="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function IR(){const s=indexedDB.deleteDatabase(zT);return new Xl(s).toPromise()}function Am(){const s=indexedDB.open(zT,NR);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(rh,{keyPath:BT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await IR(),e(await Am()))})})}async function uv(s,e,i){const r=Rh(s,!0).put({[BT]:e,value:i});return new Xl(r).toPromise()}async function CR(s,e){const i=Rh(s,!1).get(e),r=await new Xl(i).toPromise();return r===void 0?null:r.value}function cv(s,e){const i=Rh(s,!0).delete(e);return new Xl(i).toPromise()}const DR=800,OR=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>OR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(RR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await SR(),!this.activeServiceWorker)return;this.sender=new AR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await uv(e,sh,"1"),await cv(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>uv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>CR(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>cv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new Xl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const MR=qT;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(s,e){return e?ns(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends OT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function VR(s){return pR(s.auth,new Tp(s),s.bypassAuthState)}function UR(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),mR(i,new Tp(s),s.bypassAuthState)}async function jR(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),fR(i,new Tp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,i,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VR;case"linkViaPopup":case"linkViaRedirect":return jR;case"reauthViaPopup":case"reauthViaRedirect":return UR;default:os(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Kl(2e3,1e4);class Ka extends HT{constructor(e,i,r,o,u){super(e,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="pendingRedirect",zc=new Map;class zR extends HT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const r=await BR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(s,e){const i=FR(e),r=HR(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function qR(s,e){zc.set(s._key(),e)}function HR(s){return ns(s._redirectPersistence)}function FR(s){return Pc(PR,s.config.apiKey,s.name)}async function GR(s,e,i=!1){if(Wi(s.app))return Promise.reject(lr(s));const r=Sh(s),o=kR(r,e),d=await new zR(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=600*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!FT(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Ti(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QR&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(e))}saveEventToCache(e){this.cachedEventUids.add(hv(e)),this.lastProcessedEventTime=Date.now()}}function hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function FT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(s,e={}){return co(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JR=/^https?/;async function ZR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await XR(s);for(const i of e)try{if(WR(i))return}catch{}os(s,"unauthorized-domain")}function WR(s){const e=Tm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!JR.test(i))return!1;if($R.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Kl(3e4,6e4);function dv(){const s=Ei().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tN(s){return new Promise((e,i)=>{var r,o,u;function d(){dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(Ti(s,"network-request-failed"))},timeout:eN.get()})}if(!((o=(r=Ei().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)d();else{const p=sR("iframefcb");return Ei()[p]=()=>{gapi.load?d():i(Ti(s,"network-request-failed"))},nR(`${iR()}?onload=${p}`).catch(g=>i(g))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function nN(s){return Bc=Bc||tN(s),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Kl(5e3,15e3),sN="__/auth/iframe",rN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?gp(e,rN):`https://${s.config.authDomain}/${sN}`,r={apiKey:e.apiKey,appName:s.name,v:Wr},o=oN.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Ll(r).slice(1)}`}async function uN(s){const e=await nN(s),i=Ei().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:lN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),p=Ei().setTimeout(()=>{u(d)},iN.get());function g(){Ei().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hN=500,dN=600,fN="_blank",mN="http://localhost";class fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(s,e,i,r=hN,o=dN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g=Object.assign(Object.assign({},cN),{width:r.toString(),height:o.toString(),top:u,left:d}),_=un().toLowerCase();i&&(p=wT(_)?fN:i),ET(_)&&(e=e||mN,g.scrollbars="yes");const E=Object.entries(g).reduce((D,[q,K])=>`${D}${q}=${K},`,"");if(Y2(_)&&p!=="_self")return gN(e||"",p),new fv(null);const x=window.open(e||"",p,E);Ee(x,s,"popup-blocked");try{x.focus()}catch{}return new fv(x)}function gN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="__/auth/handler",_N="emulator/auth/handler",vN=encodeURIComponent("fac");async function mv(s,e,i,r,o,u){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Wr,eventId:o};if(e instanceof MT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",b1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,x]of Object.entries({}))d[E]=x}if(e instanceof Yl){const E=e.getScopes().filter(x=>x!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),_=g?`#${vN}=${encodeURIComponent(g)}`:"";return`${bN(s)}?${Ll(p).slice(1)}${_}`}function bN({config:s}){return s.emulator?gp(s,_N):`https://${s.authDomain}/${yN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="webStorageSupport";class TN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=GR,this._overrideRedirectResult=qR}async _openPopup(e,i,r,o){var u;ls((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await mv(e,i,r,Tm(),o);return pN(e,d,bp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const u=await mv(e,i,r,Tm(),o);return wR(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(ls(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await uN(e),r=new KR(e);return i.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xf,{type:Xf},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Xf];d!==void 0&&i(!!d),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return IT()||AT()||_p()}}const EN=TN;var pv="@firebase/auth",gv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SN(s){Kr(new ur("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(s)},_=new eR(r,o,u,g);return aR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Kr(new ur("auth-internal",e=>{const i=Sh(e.getProvider("auth").getImmediate());return(r=>new AN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(pv,gv,wN(s)),_i(pv,gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=300,RN=Vv("authIdTokenMaxAge")||xN;let yv=null;const NN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>RN)return;const o=i==null?void 0:i.token;yv!==o&&(yv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IN(s=Om()){const e=lh(s,"auth");if(e.isInitialized())return e.getImmediate();const i=rR(s,{popupRedirectResolver:EN,persistence:[MR,TR,LT]}),r=Vv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=NN(u.toString());yR(i,d,()=>d(i.currentUser)),gR(i,p=>d(p))}}const o=Ov("auth");return o&&oR(i,`http://${o}`),i}function CN(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}tR({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=Ti("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",CN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SN("Browser");const GT=["Imbituba","Laguna","Tubaro","Cricima"],DN=["Salo da igreja","Sala de msica","Espao infantil","Outro"],ON=[{id:"c1",name:"Santa Barbara - Cricima",adm:"Cricima"},{id:"c2",name:"Mina do Toco - Cricima",adm:"Cricima"},{id:"c3",name:"Monte Castelo - Cricima",adm:"Cricima"},{id:"c4",name:"Nossa Senhora da Salete - Cricima",adm:"Cricima"},{id:"c5",name:"Pinheirinho - Cricima",adm:"Cricima"},{id:"c6",name:"Quarta Linha - Cricima",adm:"Cricima"},{id:"c7",name:"So Jos - Rio Maina - Cricima",adm:"Cricima"},{id:"c8",name:"So Sebastio - Cricima",adm:"Cricima"},{id:"c9",name:"Vila Manaus - Cricima",adm:"Cricima"},{id:"c10",name:"Coloninha - Ararangu",adm:"Cricima"},{id:"c11",name:"Jardim Sibele - Ararangu",adm:"Cricima"},{id:"c12",name:"Mato Alto - Ararangu",adm:"Cricima"},{id:"c13",name:"Mangueirinha - Balnerio Arroio do Silva",adm:"Cricima"},{id:"c14",name:"Centro - Balnerio Rinco",adm:"Cricima"},{id:"c15",name:"Jardim Elizabete - Cocal do Sul",adm:"Cricima"},{id:"c16",name:"Saturno - Forquilhinha",adm:"Cricima"},{id:"c17",name:"Raichask - Iara",adm:"Cricima"},{id:"c18",name:"Urussangua Velha - Iara",adm:"Cricima"},{id:"c19",name:"Vila Nova - Iara",adm:"Cricima"},{id:"c20",name:"Centro - Jacinto Machado",adm:"Cricima"},{id:"c21",name:"Vila Beatriz - Maracaj",adm:"Cricima"},{id:"c22",name:"Centro - Morro da Fumaa",adm:"Cricima"},{id:"c23",name:"Estao Cocal - Morro da Fumaa",adm:"Cricima"},{id:"c24",name:"Caravaggio - Nova Veneza",adm:"Cricima"},{id:"c25",name:"Progresso - Passo de Torres",adm:"Cricima"},{id:"c26",name:"Alvorada - Praia Grande",adm:"Cricima"},{id:"c27",name:"Rodovia SC-443 - KM 2 - Sango",adm:"Cricima"},{id:"c28",name:"Parque Rosita - Santa Rosa do Sul",adm:"Cricima"},{id:"c29",name:"So Cristvo - Santa Rosa do Sul",adm:"Cricima"},{id:"c30",name:"Vila Nova - Santa Rosa do Sul",adm:"Cricima"},{id:"c31",name:"Centro - Siderpolis",adm:"Cricima"},{id:"c32",name:"Vila Nova Braslia - Sombrio",adm:"Cricima"},{id:"c33",name:"Januria - Sombrio",adm:"Cricima"},{id:"c34",name:"Vila So Francisco - Sombrio",adm:"Cricima"},{id:"c35",name:"So Luiz - Timb do Sul",adm:"Cricima"},{id:"c36",name:"Vila Esperana - Treviso",adm:"Cricima"},{id:"c37",name:"Vila Manentti - Turvo",adm:"Cricima"},{id:"c38",name:"De Villa - Urussangua",adm:"Cricima"},{id:"i1",name:"Vila Nova - Imbituba",adm:"Imbituba"},{id:"i2",name:"Alto Arroio - Imbituba",adm:"Imbituba"},{id:"i3",name:"Guaiuba - Imbituba",adm:"Imbituba"},{id:"i4",name:"Ibiraquera - Imbituba",adm:"Imbituba"},{id:"i5",name:"Roa Grande - Imbituba",adm:"Imbituba"},{id:"i6",name:"Vila Nova Alvorada (Divinia) - Imbituba",adm:"Imbituba"},{id:"i7",name:"Areias de Palhocinha - Garopaba",adm:"Imbituba"},{id:"i8",name:"Campo D'una - Garopaba",adm:"Imbituba"},{id:"i9",name:"Centro - Imaru",adm:"Imbituba"},{id:"i10",name:"Canguiri de Fora - Imaru",adm:"Imbituba"},{id:"i11",name:"Fazenda Rio das Garas - Imaru",adm:"Imbituba"},{id:"i12",name:"Laranjal - Imaru",adm:"Imbituba"},{id:"l1",name:"Bentos - Laguna",adm:"Laguna"},{id:"l2",name:"Cabeudas - Laguna",adm:"Laguna"},{id:"l3",name:"Campos Novos - Laguna",adm:"Laguna"},{id:"l4",name:"Central - Laguna",adm:"Laguna"},{id:"l5",name:"Cigana - Laguna",adm:"Laguna"},{id:"l6",name:"Farol de Santa Marta - Laguna",adm:"Laguna"},{id:"l7",name:"Mar Grosso - Laguna",adm:"Laguna"},{id:"l8",name:"Morro Grande - Laguna",adm:"Laguna"},{id:"l9",name:"Portinho - Laguna",adm:"Laguna"},{id:"l10",name:"Ribeiro Pequeno - Laguna",adm:"Laguna"},{id:"l11",name:"KM 37 - Pescaria Brava",adm:"Laguna"},{id:"l12",name:"Ponta das Laranjeiras - Pescaria Brava",adm:"Laguna"},{id:"t1",name:"Andrino - Tubaro",adm:"Tubaro"},{id:"t2",name:"Bela Vista - Brao do Norte",adm:"Tubaro"},{id:"t3",name:"Bom Pastor - Tubaro",adm:"Tubaro"},{id:"t4",name:"Camacho - Jaguaruna",adm:"Tubaro"},{id:"t5",name:"Caruru - Tubaro",adm:"Tubaro"},{id:"t6",name:"Central - Tubaro",adm:"Tubaro"},{id:"t7",name:"Centro - Bom Jardim da Serra",adm:"Tubaro"},{id:"t8",name:"Centro - Capivari de Baixo",adm:"Tubaro"},{id:"t9",name:"Centro - Gro Par",adm:"Tubaro"},{id:"t10",name:"Centro - Jaguaruna",adm:"Tubaro"},{id:"t11",name:"Centro - Lauro Muller",adm:"Tubaro"},{id:"t12",name:"Centro - Treze de Maio",adm:"Tubaro"},{id:"t13",name:"Comasa - Tubaro",adm:"Tubaro"},{id:"t14",name:"Copa - Jaguaruna",adm:"Tubaro"},{id:"t15",name:"Encosta do Sol - So Ludgero",adm:"Tubaro"},{id:"t16",name:"Estiva - Pescaria Brava",adm:"Tubaro"},{id:"t17",name:"Fabio Silva - Tubaro",adm:"Tubaro"},{id:"t18",name:"Guarda ME - Tubaro",adm:"Tubaro"},{id:"t19",name:"Guat - Lauro Muller",adm:"Tubaro"},{id:"t20",name:"Humait Centro - Tubaro",adm:"Tubaro"},{id:"t21",name:"Humait de Cima - Tubaro",adm:"Tubaro"},{id:"t22",name:"Ilhota - Pedras Grandes",adm:"Tubaro"},{id:"t23",name:"Indaial - Gravatal",adm:"Tubaro"},{id:"t24",name:"KM 63 - Tubaro",adm:"Tubaro"},{id:"t25",name:"Mato Alto - Tubaro",adm:"Tubaro"},{id:"t26",name:"Pedrinhas - Pedras Grandes",adm:"Tubaro"},{id:"t27",name:"So Cristvo - Tubaro",adm:"Tubaro"},{id:"t28",name:"So Geronimo - Orleans",adm:"Tubaro"},{id:"t29",name:"So Martinho - Tubaro",adm:"Tubaro"},{id:"t30",name:"So Martinho - So Martinho",adm:"Tubaro"},{id:"t31",name:"So Sebastio - Treze de Maio",adm:"Tubaro"},{id:"t32",name:"Serto dos Correias - Tubaro",adm:"Tubaro"},{id:"t33",name:"Serto dos Medeiros - Gravatal",adm:"Tubaro"},{id:"t34",name:"Termas do Gravatal - Gravatal",adm:"Tubaro"},{id:"t35",name:"Varzea das Canoas - Gravatal",adm:"Tubaro"},{id:"t36",name:"Vila So Francisco - Armazem",adm:"Tubaro"}];/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),_v=s=>{const e=kN(s);return e.charAt(0).toUpperCase()+e.slice(1)},QT=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),VN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...p},g)=>Ie.createElement("svg",{ref:g,...UN,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:QT("lucide",o),...!u&&!VN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>Ie.createElement(_,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(s,e)=>{const i=Ie.forwardRef(({className:r,...o},u)=>Ie.createElement(jN,{ref:u,iconNode:e,className:QT(`lucide-${MN(_v(s))}`,`lucide-${s}`,r),...o}));return i.displayName=_v(s),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PN=ct("arrow-right",LN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],KT=ct("calendar",zN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vv=ct("chart-column",BN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qc=ct("chevron-right",qN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ep=ct("circle-alert",HN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],GN=ct("circle-check",FN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KN=ct("circle-question-mark",QN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],XN=ct("download",YN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wm=ct("file-text",$N);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],ZN=ct("funnel-x",JN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ah=ct("history",WN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],tI=ct("house",eI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YT=ct("lock",nI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sI=ct("map-pin",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["path",{d:"m9 9 12-2",key:"1e64n2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Vl=ct("music-4",rI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Sm=ct("pencil",aI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xm=ct("plus",oI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XT=ct("save",lI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ao=ct("search",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ul=ct("trash-2",cI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dI=ct("trash",hI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mI=ct("triangle-alert",fI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gI=ct("user",pI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],bv=ct("wrench",yI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zi=ct("x",_I),vI=({isAdmPending:s,onSelectAdm:e,onOpenReports:i})=>b.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[GT.map(r=>{const o=s(r);return b.jsxs("button",{onClick:()=>e(r),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden ${o?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[o&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx(Ep,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx(Vl,{size:32,className:o?"text-red-500":"text-sky-300 group-hover:text-sky-400"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:r})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx(Vl,{size:140,className:"text-sky-200"})})]},r)}),b.jsxs("button",{onClick:i,className:"relative group bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-700 transition-all hover:shadow-2xl hover:bg-slate-900 hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden",children:[b.jsx("div",{className:"p-4 bg-slate-700 rounded-2xl w-fit border border-slate-600 group-hover:bg-indigo-600 transition-colors",children:b.jsx(vv,{size:32,className:"text-indigo-300"})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-bold text-white",children:"Relatrios Gerais"}),b.jsxs("div",{className:"flex items-center gap-1 text-indigo-400 text-xs font-bold uppercase tracking-wider",children:["Visualizar Registros",b.jsx(qc,{size:14})]})]}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-10 pointer-events-none group-hover:opacity-20 transition-opacity",children:b.jsx(vv,{size:160,className:"text-white"})})]})]})}),bI=({adm:s,state:e,isLocationPending:i,onSelectLocation:r})=>{const[o,u]=Ie.useState(""),p=e.locations.filter(g=>g.adm===s).filter(g=>g.name.toLowerCase().includes(o.toLowerCase()));return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:s}),b.jsxs("div",{className:"max-w-md mx-auto relative group",children:[b.jsx(ao,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar localidade...",value:o,onChange:g=>u(g.target.value),className:"w-full pl-12 pr-12 py-4 bg-white border border-slate-200 rounded-2xl shadow-sm outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-slate-700"}),o&&b.jsx("button",{onClick:()=>u(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1",children:b.jsx(Zi,{size:16})})]})]}),p.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(ao,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhuma localidade encontrada"}),b.jsx("p",{className:"text-slate-500",children:"Tente ajustar sua pesquisa ou verifique se o nome est correto."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(g=>{const _=i(g.id);return b.jsxs("button",{onClick:()=>r(g.id),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-56 overflow-hidden ${_?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[_&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx(Ep,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx(Vl,{size:32,className:_?"text-red-500":"text-sky-300 group-hover:text-sky-400"})}),b.jsx("div",{children:b.jsx("h3",{className:`text-xl font-bold ${_?"text-red-600":"text-slate-800"}`,children:g.name})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx(Vl,{size:120,className:"text-sky-200"})})]},g.id)})})]})},TI=({locationId:s,state:e,isMaintenancePending:i,onRegisterOrgan:r,onEditOrgan:o,onDeleteOrgan:u,onEditMaintenance:d,onDeleteMaintenance:p,onRegisterMaintenance:g})=>{const[_,E]=Ie.useState(""),[x,D]=Ie.useState(null),[q,K]=Ie.useState(null),ie=e.locations.find(z=>z.id===s),J=e.organs.filter(z=>z.locationId===s),le=J.filter(z=>z.model.toLowerCase().includes(_.toLowerCase())||z.serialNumber.toLowerCase().includes(_.toLowerCase())||z.patrimonyNumber.toLowerCase().includes(_.toLowerCase()));if(!ie)return null;const te=J.filter(z=>i(z.id)).length,ne=J.length>0,X=e.organs.find(z=>z.id===x),pe=e.maintenances.filter(z=>z.organId===x).sort((z,S)=>new Date(S.date).getTime()-new Date(z.date).getTime());return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:ie.name}),b.jsx("p",{className:"text-slate-500 mt-1",children:"rgos cadastrados nesta localidade"})]}),b.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:-translate-y-0.5 border border-blue-500",children:[b.jsx(xm,{size:20,className:"text-sky-100"}),"Cadastrar Novo rgo"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:"rgos Locais"}),b.jsx("div",{className:"text-5xl font-black text-slate-800 mt-1",children:J.length})]}),b.jsxs("div",{className:`p-6 rounded-3xl border shadow-sm transition-colors duration-300 ${ne?te>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[b.jsx("span",{className:`${ne?te>0?"text-red-400":"text-green-400":"text-slate-400"} text-xs font-black uppercase tracking-widest`,children:"Status Manuteno"}),b.jsx("div",{className:`mt-1 font-black leading-tight ${ne?"text-5xl "+(te>0?"text-red-600":"text-green-600"):"text-xl text-slate-400 py-2"}`,children:ne?te===0?"Ok":te:"Nenhum rgo cadastrado"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex flex-col justify-center",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Busca Rpida"}),b.jsxs("div",{className:"relative group",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:18}),b.jsx("input",{type:"text",placeholder:"Modelo, N Srie ou N Patrimnio...",value:_,onChange:z=>E(z.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-sm text-slate-700"}),_&&b.jsx("button",{onClick:()=>E(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(Zi,{size:14})})]})]})]}),b.jsx("div",{className:"space-y-6",children:ne?le.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(ao,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhum rgo corresponde  busca"}),b.jsx("p",{className:"text-slate-500",children:"Tente buscar por modelo, nmero de srie ou patrimnio."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:le.map(z=>{const S=i(z.id);return b.jsxs("div",{className:`relative group bg-white p-6 rounded-3xl border transition-all hover:shadow-md flex flex-col ${S?"border-red-200 bg-red-50/20":"border-slate-200"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:z.churchLocation}),b.jsx("h5",{className:`text-xl font-bold leading-tight ${S?"text-red-700":"text-slate-800"}`,children:z.model})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>D(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 transition-all",title:"Ver Histrico",children:b.jsx(ah,{size:14})}),b.jsx("button",{onClick:()=>o(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover:opacity-100",title:"Editar Cadastro",children:b.jsx(Sm,{size:14})}),b.jsx("button",{onClick:()=>u(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover:opacity-100",title:"Excluir rgo",children:b.jsx(Ul,{size:14})})]})]}),b.jsxs("div",{className:"mb-4 text-xs space-y-0.5",children:[b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:z.serialNumber})]}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:z.patrimonyNumber})]})]}),b.jsx("div",{className:"mb-6 flex items-center gap-2",children:S?b.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-[10px] font-black uppercase flex items-center gap-1 shadow-sm border border-red-600",children:[b.jsx(mI,{size:10,className:"text-white"}),"Pendente"]}):b.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase flex items-center gap-1 border border-green-200",children:[b.jsx(GN,{size:10,className:"text-green-500"}),"Ok"]})}),b.jsx("div",{className:"mt-auto",children:b.jsxs("button",{onClick:()=>g(z.id),className:`w-full flex items-center justify-center gap-2 py-3 rounded-2xl text-sm font-bold transition-all border ${S?"bg-red-600 text-white hover:bg-red-700 shadow-md shadow-red-100 border-red-500":"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200"}`,children:[b.jsx(bv,{size:16,className:S?"text-white":"text-sky-300"}),"Registrar Manuteno"]})})]},z.id)})}):b.jsxs("div",{className:"bg-slate-100 rounded-3xl p-12 text-center border border-dashed border-slate-300",children:[b.jsx("div",{className:"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 shadow-sm border border-slate-200",children:b.jsx(Vl,{size:48,className:"text-sky-300"})}),b.jsx("h4",{className:"text-xl font-bold text-slate-400",children:"Nenhum instrumento aqui"}),b.jsx("p",{className:"text-slate-400 mt-1",children:"Utilize o boto acima para cadastrar o primeiro rgo desta localidade."})]})}),q&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-lg animate-in fade-in duration-300",onClick:()=>K(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",children:[b.jsx("button",{onClick:()=>K(null),className:"absolute -top-4 -right-4 z-10 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",title:"Fechar",children:b.jsx(Zi,{size:24})}),b.jsx("img",{src:q,alt:"Visualizao Ampliada",className:"object-contain max-w-full max-h-full rounded-2xl shadow-2xl animate-in zoom-in-90 duration-300",onClick:z=>z.stopPropagation()})]})}),x&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] rounded-[40px] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center",children:b.jsx(ah,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-900 leading-tight",children:"Histrico de Manuteno"}),b.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:[X==null?void 0:X.model,"  N Patrimnio: ",X==null?void 0:X.patrimonyNumber]})]})]}),b.jsx("button",{onClick:()=>D(null),className:"w-10 h-10 bg-white border border-slate-200 text-slate-400 rounded-full flex items-center justify-center hover:bg-slate-50 transition-colors shadow-sm",children:b.jsx(Zi,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:pe.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-dashed border-slate-200",children:b.jsx(KT,{size:32,className:"text-slate-300"})}),b.jsx("p",{className:"text-slate-400 font-bold",children:"Nenhum registro encontrado"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Este instrumento ainda no possui histrico de servios."})]}):pe.map(z=>b.jsxs("div",{className:"relative p-6 bg-white border border-slate-200 rounded-3xl shadow-sm hover:shadow-md transition-shadow group/item",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest leading-none",children:"Data"}),b.jsx("span",{className:"text-lg font-bold text-slate-800",children:new Date(z.date).toLocaleDateString("pt-BR")})]})}),b.jsxs("div",{className:"flex gap-1",children:[b.jsxs("button",{onClick:()=>{D(null),d(z.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(Sm,{size:14}),"Editar"]}),b.jsxs("button",{onClick:()=>{D(null),p(z.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(Ul,{size:14}),"Excluir"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(gI,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Tcnicos:"}),b.jsx("span",{className:"text-slate-800 font-bold",children:z.technicians.join(" & ")})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(bv,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Peas Trocadas:"}),b.jsx("span",{className:`font-bold ${z.hasPartExchange?"text-amber-600":"text-slate-800"}`,children:z.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(wm,{size:14,className:"text-slate-400"}),b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ocorrncia"})]}),b.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed italic",children:['"',z.occurrence,'"']})]}),z.photos.length>0&&b.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:z.photos.map((S,w)=>b.jsx("img",{src:S,onClick:()=>K(S),className:"w-16 h-16 object-cover rounded-xl border-2 border-white shadow-lg cursor-pointer transition-transform hover:scale-110 hover:shadow-md",alt:`Thumbnail ${w+1}`},w))})]},z.id))}),b.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-center",children:b.jsxs("button",{onClick:()=>{D(null),g(x)},className:"px-8 py-3 bg-indigo-600 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[b.jsx(xm,{size:18}),"Novo Registro Agora"]})})]})}),q&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>K(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] rounded-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[b.jsx("img",{src:q,alt:"Visualizao Ampliada",className:"w-full h-full object-contain"}),b.jsx("button",{onClick:()=>K(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:b.jsx(Zi,{size:20})})]})}),q&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>K(null),children:b.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full",onClick:z=>z.stopPropagation(),children:[b.jsx("img",{src:q,alt:"Visualizao Ampliada",className:"object-contain w-full h-full"}),b.jsx("button",{onClick:()=>K(null),className:"absolute top-4 right-4 w-10 h-10 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:b.jsx(Zi,{size:20})})]})})]})},Jt=[];for(let s=0;s<256;++s)Jt.push((s+256).toString(16).slice(1));function EI(s,e=0){return(Jt[s[e+0]]+Jt[s[e+1]]+Jt[s[e+2]]+Jt[s[e+3]]+"-"+Jt[s[e+4]]+Jt[s[e+5]]+"-"+Jt[s[e+6]]+Jt[s[e+7]]+"-"+Jt[s[e+8]]+Jt[s[e+9]]+"-"+Jt[s[e+10]]+Jt[s[e+11]]+Jt[s[e+12]]+Jt[s[e+13]]+Jt[s[e+14]]+Jt[s[e+15]]).toLowerCase()}let $f;const AI=new Uint8Array(16);function wI(){if(!$f){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$f=crypto.getRandomValues.bind(crypto)}return $f(AI)}const SI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tv={randomUUID:SI};function xI(s,e,i){var o;s=s||{};const r=s.random??((o=s.rng)==null?void 0:o.call(s))??wI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,EI(r)}function Rm(s,e,i){return Tv.randomUUID&&!s?Tv.randomUUID():xI(s)}const RI=({locationId:s,locations:e,initialData:i,onSubmit:r,onCancel:o})=>{const[u,d]=Ie.useState({churchLocation:"Salo da igreja",model:"",serialNumber:"",patrimonyNumber:""});Ie.useEffect(()=>{i&&d({churchLocation:i.churchLocation,model:i.model,serialNumber:i.serialNumber,patrimonyNumber:i.patrimonyNumber})},[i]);const p=e.find(_=>_.id===((i==null?void 0:i.locationId)||s)),g=_=>{_.preventDefault();const E={id:(i==null?void 0:i.id)||Rm(),locationId:(i==null?void 0:i.locationId)||s,...u,createdAt:(i==null?void 0:i.createdAt)||new Date().toISOString()};r(E)};return b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:i?"Editar Instrumento":"Cadastro de Instrumento"}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["Localidade: ",b.jsx("span",{className:"text-blue-600 font-bold",children:p==null?void 0:p.name})]})]}),b.jsxs("form",{onSubmit:g,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Posio no Local"}),b.jsx("select",{value:u.churchLocation,onChange:_=>d({...u,churchLocation:_.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner",children:DN.map(_=>b.jsx("option",{value:_,children:_},_))})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Modelo do rgo"}),b.jsx("input",{type:"text",value:u.model,onChange:_=>d({...u,model:_.target.value}),placeholder:"Ex: Tokai MD-10, Minuetto...",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Srie"}),b.jsx("input",{type:"text",value:u.serialNumber,onChange:_=>d({...u,serialNumber:_.target.value}),placeholder:"Cdigo do fabricante",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Patrimnio"}),b.jsx("input",{type:"text",value:u.patrimonyNumber,onChange:_=>d({...u,patrimonyNumber:_.target.value}),placeholder:"Cdigo de controle",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-6 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-blue-100 border border-blue-500",children:[b.jsx(XT,{size:20,className:"text-blue-100"}),i?"Salvar Alteraes":"Finalizar Cadastro"]}),b.jsxs("button",{type:"button",onClick:o,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(Zi,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebasestorage.googleapis.com",JT="storageBucket",NI=120*1e3,II=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends wi{constructor(e,i,r=0){super(Jf(e),`Firebase Storage: ${i} (${Jf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function Jf(s){return"storage/"+s}function Ap(){const s="An unknown error occurred, please check the error payload for server response.";return new Et(Tt.UNKNOWN,s)}function CI(s){return new Et(Tt.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function DI(s){return new Et(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(Tt.UNAUTHENTICATED,s)}function MI(){return new Et(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kI(s){return new Et(Tt.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function VI(){return new Et(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UI(){return new Et(Tt.CANCELED,"User canceled the upload/download.")}function jI(s){return new Et(Tt.INVALID_URL,"Invalid URL '"+s+"'.")}function LI(s){return new Et(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function PI(){return new Et(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JT+"' property when initializing the app?")}function zI(){return new Et(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BI(){return new Et(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qI(s){return new Et(Tt.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nm(s){return new Et(Tt.INVALID_ARGUMENT,s)}function ZT(){return new Et(Tt.APP_DELETED,"The Firebase app was deleted.")}function HI(s){return new Et(Tt.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xl(s,e){return new Et(Tt.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function gl(s){throw new Et(Tt.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=Ln.makeFromUrl(e,i)}catch{return new Ln(e,"")}if(r.path==="")return r;throw LI(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function _(X){X.path_=decodeURIComponent(X.path)}const E="v[A-Za-z0-9_]+",x=i.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",q=new RegExp(`^https?://${x}/${E}/b/${o}/o${D}`,"i"),K={bucket:1,path:3},ie=i===$T?"(?:storage.googleapis.com|storage.cloud.google.com)":i,J="([^?#]*)",le=new RegExp(`^https?://${ie}/${o}/${J}`,"i"),ne=[{regex:p,indices:g,postModify:u},{regex:q,indices:K,postModify:_},{regex:le,indices:{bucket:1,path:2},postModify:_}];for(let X=0;X<ne.length;X++){const pe=ne[X],z=pe.regex.exec(e);if(z){const S=z[pe.indices.bucket];let w=z[pe.indices.path];w||(w=""),r=new Ln(S,w),pe.postModify(r);break}}if(r==null)throw jI(e);return r}}class FI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(s,e,i){let r=1,o=null,u=null,d=!1,p=0;function g(){return p===2}let _=!1;function E(...J){_||(_=!0,e.apply(null,J))}function x(J){o=setTimeout(()=>{o=null,s(q,g())},J)}function D(){u&&clearTimeout(u)}function q(J,...le){if(_){D();return}if(J){D(),E.call(null,J,...le);return}if(g()||d){D(),E.call(null,J,...le);return}r<64&&(r*=2);let ne;p===1?(p=2,ne=0):ne=(r+Math.random())*1e3,x(ne)}let K=!1;function ie(J){K||(K=!0,D(),!_&&(o!==null?(J||(p=2),clearTimeout(o),x(0)):J||(p=1)))}return x(0),u=setTimeout(()=>{d=!0,ie(!0)},i),ie}function QI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s){return s!==void 0}function YI(s){return typeof s=="object"&&!Array.isArray(s)}function wp(s){return typeof s=="string"||s instanceof String}function Ev(s){return Sp()&&s instanceof Blob}function Sp(){return typeof Blob<"u"}function Av(s,e,i,r){if(r<e)throw Nm(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>i)throw Nm(`Invalid value for '${s}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(s,e,i){let r=e;return i==null&&(r=`https://${e}`),`${i}://${r}/v0${s}`}function WT(s){const e=encodeURIComponent;let i="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Qr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Qr||(Qr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(s,e){const i=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,i,r,o,u,d,p,g,_,E,x,D=!0){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=x,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,K)=>{this.resolve_=q,this.reject_=K,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Dc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const g=p.loaded,_=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,_)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Qr.NO_ERROR,g=u.getStatus();if(!p||XI(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Qr.ABORT;r(!1,new Dc(!1,null,E));return}const _=this.successCodes_.indexOf(g)!==-1;r(!0,new Dc(_,u))})},i=(r,o)=>{const u=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());KI(g)?u(g):u()}catch(g){d(g)}else if(p!==null){const g=Ap();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?ZT():UI();d(g)}else{const g=VI();d(g)}};this.canceled_?i(!1,new Dc(!1,null,!0)):this.backoffId_=GI(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dc{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function JI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function ZI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function eC(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function tC(s,e,i,r,o,u,d=!0){const p=WT(s.urlParams),g=s.url+p,_=Object.assign({},s.headers);return WI(_,e),JI(_,i),ZI(_,u),eC(_,r),new $I(g,s.method,_,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iC(...s){const e=nC();if(e!==void 0){const i=new e;for(let r=0;r<s.length;r++)i.append(s[r]);return i.getBlob()}else{if(Sp())return new Blob(s);throw new Et(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sC(s,e,i){return s.webkitSlice?s.webkitSlice(e,i):s.mozSlice?s.mozSlice(e,i):s.slice?s.slice(e,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(s){if(typeof atob>"u")throw qI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zf{constructor(e,i){this.data=e,this.contentType=i||null}}function eE(s,e){switch(s){case si.RAW:return new Zf(tE(e));case si.BASE64:case si.BASE64URL:return new Zf(nE(s,e));case si.DATA_URL:return new Zf(oC(e),lC(e))}throw Ap()}function tE(s){const e=[];for(let i=0;i<s.length;i++){let r=s.charCodeAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<s.length-1&&(s.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{const u=r,d=s.charCodeAt(++i);r=65536|(u&1023)<<10|d&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function aC(s){let e;try{e=decodeURIComponent(s)}catch{throw xl(si.DATA_URL,"Malformed data URL.")}return tE(e)}function nE(s,e){switch(s){case si.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw xl(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case si.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw xl(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=rC(e)}catch(o){throw o.message.includes("polyfill")?o:xl(s,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class iE{constructor(e){this.base64=!1,this.contentType=null;const i=e.match(/^data:([^,]+)?,/);if(i===null)throw xl(si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=uC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oC(s){const e=new iE(s);return e.base64?nE(si.BASE64,e.rest):aC(e.rest)}function lC(s){return new iE(s).contentType}function uC(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,i){let r=0,o="";Ev(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,i){if(Ev(this.data_)){const r=this.data_,o=sC(r,e,i);return o===null?null:new nr(o)}else{const r=new Uint8Array(this.data_.buffer,e,i-e);return new nr(r,!0)}}static getBlob(...e){if(Sp()){const i=e.map(r=>r instanceof nr?r.data_:r);return new nr(iC.apply(null,i))}else{const i=e.map(d=>wp(d)?eE(si.RAW,d).data:d.data_);let r=0;i.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let u=0;return i.forEach(d=>{for(let p=0;p<d.length;p++)o[u++]=d[p]}),new nr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s){let e;try{e=JSON.parse(s)}catch{return null}return YI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function hC(s,e){const i=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?i:s+"/"+i}function rE(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(s,e){return e}class gn{constructor(e,i,r,o){this.server=e,this.local=i||e,this.writable=!!r,this.xform=o||dC}}let Oc=null;function fC(s){return!wp(s)||s.length<2?s:rE(s)}function aE(){if(Oc)return Oc;const s=[];s.push(new gn("bucket")),s.push(new gn("generation")),s.push(new gn("metageneration")),s.push(new gn("name","fullPath",!0));function e(u,d){return fC(d)}const i=new gn("name");i.xform=e,s.push(i);function r(u,d){return d!==void 0?Number(d):d}const o=new gn("size");return o.xform=r,s.push(o),s.push(new gn("timeCreated")),s.push(new gn("updated")),s.push(new gn("md5Hash",null,!0)),s.push(new gn("cacheControl",null,!0)),s.push(new gn("contentDisposition",null,!0)),s.push(new gn("contentEncoding",null,!0)),s.push(new gn("contentLanguage",null,!0)),s.push(new gn("contentType",null,!0)),s.push(new gn("metadata","customMetadata",!0)),Oc=s,Oc}function mC(s,e){function i(){const r=s.bucket,o=s.fullPath,u=new Ln(r,o);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:i})}function pC(s,e,i){const r={};r.type="file";const o=i.length;for(let u=0;u<o;u++){const d=i[u];r[d.local]=d.xform(r,e[d.server])}return mC(r,s),r}function oE(s,e,i){const r=sE(e);return r===null?null:pC(s,r,i)}function gC(s,e,i,r){const o=sE(e);if(o===null||!wp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(_=>{const E=s.bucket,x=s.fullPath,D="/b/"+d(E)+"/o/"+d(x),q=xp(D,i,r),K=WT({alt:"media",token:_});return q+K})[0]}function yC(s,e){const i={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(i[u.server]=s[u.local])}return JSON.stringify(i)}class lE{constructor(e,i,r,o){this.url=e,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(s){if(!s)throw Ap()}function _C(s,e){function i(r,o){const u=oE(s,o,e);return uE(u!==null),u}return i}function vC(s,e){function i(r,o){const u=oE(s,o,e);return uE(u!==null),gC(u,o,s.host,s._protocol)}return i}function cE(s){function e(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=MI():o=OI():i.getStatus()===402?o=DI(s.bucket):i.getStatus()===403?o=kI(s.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return e}function bC(s){const e=cE(s);function i(r,o){let u=e(r,o);return r.getStatus()===404&&(u=CI(s.path)),u.serverResponse=o.serverResponse,u}return i}function TC(s,e,i){const r=e.fullServerUrl(),o=xp(r,s.host,s._protocol),u="GET",d=s.maxOperationRetryTime,p=new lE(o,u,vC(s,i),d);return p.errorHandler=bC(e),p}function EC(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function AC(s,e,i){const r=Object.assign({},i);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=EC(null,e)),r}function wC(s,e,i,r,o){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let ne="";for(let X=0;X<2;X++)ne=ne+Math.random().toString().slice(2);return ne}const g=p();d["Content-Type"]="multipart/related; boundary="+g;const _=AC(e,r,o),E=yC(_,i),x="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+g+`\r
Content-Type: `+_.contentType+`\r
\r
`,D=`\r
--`+g+"--",q=nr.getBlob(x,r,D);if(q===null)throw zI();const K={name:_.fullPath},ie=xp(u,s.host,s._protocol),J="POST",le=s.maxUploadRetryTime,te=new lE(ie,J,_C(s,i),le);return te.urlParams=K,te.headers=d,te.body=q.uploadData(),te.errorHandler=cE(e),te}class SC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,r,o){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xC extends SC{initXhr(){this.xhr_.responseType="text"}}function hE(){return new xC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,i){this._service=e,i instanceof Ln?this._location=i:this._location=Ln.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Zr(e,i)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rE(this._location.path)}get storage(){return this._service}get parent(){const e=cC(this._location.path);if(e===null)return null;const i=new Ln(this._location.bucket,e);return new Zr(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw HI(e)}}function RC(s,e,i){s._throwIfRoot("uploadBytes");const r=wC(s.storage,s._location,aE(),new nr(e,!0),i);return s.storage.makeRequestWithTokens(r,hE).then(o=>({metadata:o,ref:s}))}function NC(s,e,i=si.RAW,r){s._throwIfRoot("uploadString");const o=eE(i,e),u=Object.assign({},r);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),RC(s,o.data,u)}function IC(s){s._throwIfRoot("getDownloadURL");const e=TC(s.storage,s._location,aE());return s.storage.makeRequestWithTokens(e,hE).then(i=>{if(i===null)throw BI();return i})}function CC(s,e){const i=hC(s._location.path,e),r=new Ln(s._location.bucket,i);return new Zr(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(s){return/^[A-Za-z]+:\/\//.test(s)}function OC(s,e){return new Zr(s,e)}function dE(s,e){if(s instanceof Rp){const i=s;if(i._bucket==null)throw PI();const r=new Zr(i,i._bucket);return e!=null?dE(r,e):r}else return e!==void 0?CC(s,e):s}function MC(s,e){if(e&&DC(e)){if(s instanceof Rp)return OC(s,e);throw Nm("To use ref(service, url), the first argument must be a Storage instance.")}else return dE(s,e)}function wv(s,e){const i=e==null?void 0:e[JT];return i==null?null:Ln.makeFromBucketSpec(i,s)}function kC(s,e,i,r={}){s.host=`${e}:${i}`,s._protocol="http";const{mockUserToken:o}=r;o&&(s._overrideAuthToken=typeof o=="string"?o:Uv(o,s.app.options.projectId))}class Rp{constructor(e,i,r,o,u){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=$T,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NI,this._maxUploadRetryTime=II,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=wv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=wv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Av("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Av("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zr(this,e)}_makeRequest(e,i,r,o,u=!0){if(this._deleted)return new FI(ZT());{const d=tC(e,this._appId,r,o,i,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const Sv="@firebase/storage",xv="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="storage";function VC(s,e,i,r){return s=bt(s),NC(s,e,i,r)}function UC(s){return s=bt(s),IC(s)}function jC(s,e){return s=bt(s),MC(s,e)}function LC(s=Om(),e){s=bt(s);const r=lh(s,fE).getImmediate({identifier:e}),o=Mv("storage");return o&&PC(r,...o),r}function PC(s,e,i,r={}){kC(s,e,i,r)}function zC(s,{instanceIdentifier:e}){const i=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new Rp(i,r,o,e,Wr)}function BC(){Kr(new ur(fE,zC,"PUBLIC").setMultipleInstances(!0)),_i(Sv,xv,""),_i(Sv,xv,"esm2017")}BC();var qC="firebase",HC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(qC,HC,"app");const FC={apiKey:"AIzaSyAKfG5HMu8ZQffRCwdgPb4M8EHMhwlF3-M",authDomain:"pmpo-e71df.firebaseapp.com",projectId:"pmpo-e71df",storageBucket:"pmpo-e71df.firebasestorage.app",messagingSenderId:"837927216589",appId:"1:837927216589:web:135eab57995b696b079084"},Np=Pv(FC),yn=m2(Np),Rv=IN(Np),GC=LC(Np),QC=({organs:s,locations:e,initialOrganId:i,initialData:r,onSubmit:o,onCancel:u})=>{const[d,p]=Ie.useState({organId:i||"",date:new Date().toISOString().split("T")[0],technician1:"",technician2:"",occurrence:"",hasPartExchange:!1}),[g,_]=Ie.useState({description:"",reason:"",observation:""}),[E,x]=Ie.useState([]),[D,q]=Ie.useState(!1);Ie.useEffect(()=>{r?(p({organId:r.organId,date:r.date,technician1:r.technicians[0]||"",technician2:r.technicians[1]||"",occurrence:r.occurrence,hasPartExchange:r.hasPartExchange}),r.partExchangeDetails&&_(r.partExchangeDetails),x(r.photos||[])):i&&p(te=>({...te,organId:i}))},[i,r]);const K=te=>new Promise(ne=>{const X=new Image;X.src=URL.createObjectURL(te),X.onload=()=>{const pe=document.createElement("canvas"),z=800,S=z/X.width;pe.width=z,pe.height=X.height*S;const w=pe.getContext("2d");w?(w.drawImage(X,0,0,pe.width,pe.height),ne(pe.toDataURL("image/jpeg",.7))):ne(X.src)},X.onerror=()=>{ne(X.src)}}),ie=async te=>{const ne=te.target.files;if(ne){const X=10-E.length;if(X<=0){alert("Limite mximo de 10 fotos atingido.");return}const pe=Array.from(ne).slice(0,X);ne.length>X&&alert(`Apenas as primeiras ${X} fotos sero adicionadas para respeitar o limite de 10.`),pe.forEach(async z=>{const S=await K(z);x(w=>w.length>=10?w:[...w,S])})}},J=te=>{x(ne=>ne.filter((X,pe)=>pe!==te))},le=async te=>{if(te.preventDefault(),!d.organId)return alert("Selecione um rgo");if(D)return;const ne=[d.technician1,d.technician2].filter(pe=>pe!==""),X=(r==null?void 0:r.id)||Rm();q(!0);try{const pe=await Promise.all(E.map(async(S,w)=>{if(S.startsWith("http://")||S.startsWith("https://"))return S;const R=jC(GC,`maintenances/${X}/${w}-${Rm()}.jpg`);return await VC(R,S,"data_url"),await UC(R)})),z={id:X,organId:d.organId,date:d.date,technicians:ne,occurrence:d.occurrence,hasPartExchange:d.hasPartExchange,...d.hasPartExchange?{partExchangeDetails:g}:{},photos:pe};o(z)}catch(pe){console.error(pe),alert("Erro ao enviar fotos. Tente novamente.")}finally{q(!1)}};return b.jsxs("div",{className:"bg-white p-8 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:r?"Editar Manuteno":"Registrar Manuteno"}),b.jsx("p",{className:"text-slate-500 font-medium",children:"Preencha os dados tcnicos do atendimento"})]}),b.jsxs("form",{onSubmit:le,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"rgo Alvo"}),b.jsxs("select",{value:d.organId,onChange:te=>p({...d,organId:te.target.value}),required:!0,disabled:!!r,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner disabled:opacity-50",children:[b.jsx("option",{value:"",children:"Selecione o rgo..."}),s.map(te=>{const ne=e.find(X=>X.id===te.locationId);return b.jsxs("option",{value:te.id,children:[te.model," - ",ne==null?void 0:ne.adm," (",ne==null?void 0:ne.name,") - N Patrimnio: ",te.patrimonyNumber]},te.id)})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Data do Servio"}),b.jsx("input",{type:"date",value:d.date,onChange:te=>p({...d,date:te.target.value}),required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 1"}),b.jsx("input",{type:"text",value:d.technician1,onChange:te=>p({...d,technician1:te.target.value}),required:!0,placeholder:"Nome completo",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 2"}),b.jsx("input",{type:"text",value:d.technician2,onChange:te=>p({...d,technician2:te.target.value}),placeholder:"Opcional",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ocorrncia Detalhada"}),b.jsx("textarea",{value:d.occurrence,onChange:te=>p({...d,occurrence:te.target.value}),required:!0,rows:4,placeholder:"Descreva o servio executado...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsx("div",{className:"md:col-span-2",children:b.jsxs("label",{className:"flex items-center gap-3 cursor-pointer select-none bg-slate-50 p-4 rounded-2xl border border-slate-100 shadow-inner hover:bg-slate-100 transition-colors",children:[b.jsx("input",{type:"checkbox",checked:d.hasPartExchange,onChange:te=>p({...d,hasPartExchange:te.target.checked}),className:"w-6 h-6 rounded-lg text-blue-600 focus:ring-blue-500 border border-slate-300"}),b.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Houve troca de peas ou componentes?"})]})}),d.hasPartExchange&&b.jsxs("div",{className:"md:col-span-2 p-8 bg-blue-50/50 rounded-3xl border border-blue-100 space-y-5 animate-in slide-in-from-top-4 duration-300",children:[b.jsx("h4",{className:"font-black text-blue-800 uppercase tracking-widest text-xs",children:"Especificao da Troca"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Pea(s) Substituda(s)"}),b.jsx("input",{type:"text",value:g.description,onChange:te=>_({...g,description:te.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Motivo"}),b.jsx("input",{type:"text",value:g.reason,onChange:te=>_({...g,reason:te.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Observaes Extras"}),b.jsx("input",{type:"text",value:g.observation,onChange:te=>_({...g,observation:te.target.value}),className:"w-full p-3 bg-white border border-slate-200 rounded-xl outline-none"})]})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Evidncias Fotogrficas"}),b.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${E.length===10?"text-red-500":"text-slate-400"}`,children:[E.length," / 10 fotos"]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[E.map((te,ne)=>b.jsxs("div",{className:"relative group",children:[b.jsx("img",{src:te,alt:`Upload ${ne}`,className:"w-24 h-24 object-cover rounded-2xl border-2 border-white shadow-md transition-transform hover:scale-105"}),b.jsx("button",{type:"button",onClick:()=>J(ne),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg border border-red-600",children:b.jsx(Ul,{size:12,className:"text-white"})})]},ne)),E.length<10&&b.jsxs("label",{className:"w-24 h-24 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 rounded-2xl cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all text-slate-400 bg-slate-50 shadow-inner",children:[b.jsx(xm,{size:24,className:"text-sky-300"}),b.jsx("span",{className:"text-[10px] font-black uppercase mt-1",children:"Add Foto"}),b.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:ie})]})]}),b.jsx("p",{className:"mt-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest italic",children:"Mximo 10 fotos por atendimento"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-8 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",disabled:D,className:"flex-1 bg-green-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-green-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-green-100 border border-green-500 disabled:opacity-60 disabled:cursor-not-allowed",children:[b.jsx(XT,{size:20,className:"text-white"}),D?"Enviando...":r?"Atualizar Registro":"Gravar Manuteno"]}),b.jsxs("button",{type:"button",onClick:u,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(Zi,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})},KC=({state:s,isMaintenancePending:e,onEditMaintenance:i,onDeleteMaintenance:r,isHistoryAuthorized:o,onRequestHistoryAccess:u})=>{const[d,p]=Ie.useState("maintenances"),[g,_]=Ie.useState("all"),[E,x]=Ie.useState("all"),[D,q]=Ie.useState(""),[K,ie]=Ie.useState(""),J=Ie.useMemo(()=>g==="all"?s.locations:s.locations.filter(z=>z.adm===g),[g,s.locations]),le=Ie.useMemo(()=>s.maintenances.filter(z=>{const S=s.organs.find(N=>N.id===z.organId);if(!S)return!1;const w=s.locations.find(N=>N.id===S.locationId);if(!w)return!1;const R=g==="all"||w.adm===g,I=E==="all"||w.id===E,O=!D||z.date>=D,V=!K||z.date<=K;return R&&I&&O&&V}).sort((z,S)=>S.date.localeCompare(z.date)),[s.maintenances,s.organs,s.locations,g,E,D,K]),te=Ie.useMemo(()=>s.deletedItems.filter(z=>{var V,N,et;const S=g==="all"||((V=z.metadata)==null?void 0:V.adm)===g,w=E==="all"||((N=s.locations.find(rt=>rt.id===E))==null?void 0:N.name)===((et=z.metadata)==null?void 0:et.locationName),R=z.deletedAt.split("T")[0],I=!D||R>=D,O=!K||R<=K;return S&&w&&I&&O}).sort((z,S)=>S.deletedAt.localeCompare(z.deletedAt)),[s.deletedItems,g,E,D,K,s.locations]),ne=()=>{_("all"),x("all"),q(""),ie("")},X=()=>{const z=d==="maintenances"?le:te;if(d==="maintenances"){const S=["Data","Instrumento","N Patrimnio","ADM","Local","Tcnicos","Ocorrncia"],w=z.map(I=>{const O=s.organs.find(N=>N.id===I.organId),V=s.locations.find(N=>N.id===(O==null?void 0:O.locationId));return[I.date,(O==null?void 0:O.model)||"",(O==null?void 0:O.patrimonyNumber)||"",(V==null?void 0:V.adm)||"",(V==null?void 0:V.name)||"",I.technicians.join(" & "),I.occurrence.replace(/,/g,";")]}),R=[S,...w].map(I=>I.join(",")).join(`
`);pe(R,"relatorio_manutencao.csv")}else{const S=["Data Excluso","Tipo","Instrumento/Info","N Patrimnio","ADM","Local","Motivo"],w=z.map(I=>{var et,rt;const O=I.type==="organ",V=O?I.data.model:`Manuteno de ${I.data.date}`,N=O?I.data.patrimonyNumber:"";return[new Date(I.deletedAt).toLocaleString("pt-BR"),I.type==="organ"?"rgo":"Manuteno",V,N,((et=I.metadata)==null?void 0:et.adm)||"",((rt=I.metadata)==null?void 0:rt.locationName)||"",I.reason.replace(/,/g,";")]}),R=[S,...w].map(I=>I.join(",")).join(`
`);pe(R,"historico_exclusoes.csv")}},pe=(z,S)=>{const w=new Blob([z],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),I=URL.createObjectURL(w);R.setAttribute("href",I),R.setAttribute("download",S),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex p-1 bg-slate-200/50 rounded-2xl w-fit",children:[b.jsxs("button",{onClick:()=>p("maintenances"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="maintenances"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(wm,{size:18,className:d==="maintenances"?"text-blue-500":"text-slate-400"}),"Atendimentos Ativos"]}),b.jsxs("button",{onClick:()=>{o?p("deleted"):u()},className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="deleted"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[o?b.jsx(ah,{size:18,className:"text-red-500"}):b.jsx(YT,{size:18,className:"text-slate-400"}),"Histrico de Excluso"]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-700",children:[b.jsx(ao,{size:20,className:"text-sky-300"}),"Filtros de ",d==="maintenances"?"Relatrio":"Excluso"]}),b.jsxs("button",{onClick:ne,className:"flex items-center gap-1.5 text-xs font-bold text-slate-400 hover:text-blue-500 transition-colors",children:[b.jsx(ZN,{size:14}),"Limpar Filtros"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Adm"}),b.jsxs("select",{value:g,onChange:z=>{_(z.target.value),x("all")},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),GT.map(z=>b.jsx("option",{value:z,children:z},z))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Localidade"}),b.jsxs("select",{value:E,onChange:z=>x(z.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),J.map(z=>b.jsx("option",{value:z.id,children:z.name},z.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"De"}),b.jsx("input",{type:"date",value:D,onChange:z=>q(z.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"At"}),b.jsx("input",{type:"date",value:K,onChange:z=>ie(z.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]})]}),b.jsx("div",{className:"mt-4 flex justify-end",children:b.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-900 transition-colors text-sm font-medium border border-slate-700 shadow-sm",children:[b.jsx(XN,{size:16,className:"text-sky-100"}),"Exportar CSV"]})})]}),b.jsx("div",{className:"space-y-4",children:d==="maintenances"?le.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(ao,{size:32,className:"text-sky-300"})}),"Nenhum atendimento encontrado para os filtros selecionados."]}):le.map(z=>{const S=s.organs.find(I=>I.id===z.organId),w=s.locations.find(I=>I.id===(S==null?void 0:S.locationId)),R=S?e(S.id):!1;return b.jsxs("div",{className:"relative group bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col md:flex-row",children:[b.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 z-10 transition-all",children:[b.jsx("button",{onClick:()=>i(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 shadow-sm",title:"Editar Registro",children:b.jsx(Sm,{size:14})}),b.jsx("button",{onClick:()=>r(z.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 shadow-sm",title:"Excluir Registro",children:b.jsx(Ul,{size:14})})]}),b.jsxs("div",{className:`p-6 border-b md:border-b-0 md:border-r border-slate-100 flex-1 ${R?"border-l-4 border-l-red-500":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(KT,{size:16,className:"text-sky-300"}),b.jsx("span",{className:"font-bold text-slate-800",children:new Date(z.date+"T00:00:00").toLocaleDateString("pt-BR")})]}),b.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-xs font-bold uppercase border border-slate-200",children:w==null?void 0:w.adm})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("h4",{className:"font-bold text-lg text-slate-800",children:S==null?void 0:S.model}),b.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-1",children:[b.jsx(sI,{size:14,className:"text-sky-300"}),w==null?void 0:w.name," - ",S==null?void 0:S.churchLocation]}),b.jsxs("div",{className:"mt-2 space-y-1",children:[b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:S==null?void 0:S.patrimonyNumber})]}),b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:S==null?void 0:S.serialNumber})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Tcnicos"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:z.technicians.join(" & ")})]}),b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Peas Trocadas"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:z.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 shadow-inner",children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase mb-2",children:"Ocorrncia"}),b.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:z.occurrence})]})]}),b.jsxs("div",{className:"w-full md:w-64 bg-slate-50 p-6 flex flex-wrap gap-2 items-start content-start",children:[b.jsx("span",{className:"block w-full text-xs font-semibold text-slate-400 uppercase mb-2",children:"Fotos do Registro"}),z.photos.length===0?b.jsxs("div",{className:"w-full h-32 flex flex-col items-center justify-center text-slate-300 border border-dashed border-slate-200 rounded-xl bg-white",children:[b.jsx(wm,{size:32,className:"text-sky-200"}),b.jsx("span",{className:"text-[10px] mt-1",children:"Sem fotos"})]}):z.photos.map((I,O)=>b.jsx("img",{src:I,alt:"Anexo",className:"w-16 h-16 object-cover rounded-lg border border-white shadow-sm cursor-zoom-in hover:scale-110 transition-transform"},O))]})]},z.id)}):te.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(ah,{size:32,className:"text-slate-300"})}),"Nenhum registro de excluso encontrado."]}):te.map(z=>{var S,w;return b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 bg-red-50/30 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 text-red-600 rounded-xl flex items-center justify-center",children:b.jsx(dI,{size:20})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none",children:"Excludo em"}),b.jsx("p",{className:"text-sm font-bold text-slate-800",children:new Date(z.deletedAt).toLocaleString("pt-BR")})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${z.type==="organ"?"bg-amber-100 text-amber-700 border-amber-200":"bg-indigo-100 text-indigo-700 border-indigo-200"}`,children:z.type==="organ"?"rgo":"Manuteno"})]}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Dados Originais"}),z.type==="organ"?b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsx("h5",{className:"font-bold text-slate-800",children:z.data.model}),b.jsxs("p",{className:"text-xs text-slate-500",children:["N Srie: ",z.data.serialNumber,"  N Patrimnio: ",z.data.patrimonyNumber]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[(S=z.metadata)==null?void 0:S.adm,"  ",(w=z.metadata)==null?void 0:w.locationName]})]}):b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("h5",{className:"font-bold text-slate-800",children:["Servio de ",z.data.date]}),b.jsxs("p",{className:"text-xs text-slate-500",children:["Tcnicos: ",z.data.technicians.join(", ")]}),b.jsxs("p",{className:"text-xs text-slate-700 mt-2 line-clamp-2 italic",children:['"',z.data.occurrence,'"']})]})]})}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"bg-red-50 p-5 rounded-2xl border border-red-100 shadow-inner",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-600",children:[b.jsx(Ep,{size:16}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Motivo da Excluso"})]}),b.jsxs("p",{className:"text-sm text-red-900 font-medium leading-relaxed italic",children:['"',z.reason,'"']})]})})]})]},z.id)})})]})},YC=()=>{const[s,e]=Ie.useState("home"),[i,r]=Ie.useState(null),[o,u]=Ie.useState(null),[d,p]=Ie.useState(null),[g,_]=Ie.useState(null),[E,x]=Ie.useState(!1),[D,q]=Ie.useState(""),[K,ie]=Ie.useState(""),[J,le]=Ie.useState(""),[te,ne]=Ie.useState(!1),[X,pe]=Ie.useState(null),[z,S]=Ie.useState(!1),[w,R]=Ie.useState({organs:[],maintenances:[],locations:ON,deletedItems:[]}),[I,O]=Ie.useState(!0),[V,N]=Ie.useState(!1),et=re=>{const be=Object.entries(re).filter(([,Me])=>Me!==void 0);return Object.fromEntries(be)};Ie.useEffect(()=>{const re=_R(Rv,be=>{if(be){N(!0);return}dR(Rv).catch(Me=>{console.error("Erro ao autenticar anonimamente:",Me)})});return()=>re()},[]),Ie.useEffect(()=>{if(!V)return;let re=3;const be=()=>{re-=1,re<=0&&O(!1)},Me=Qf(Nc(yn,"organs"),Re=>{const Xe=Re.docs.map(pt=>{const _n=pt.data();return{..._n,id:_n.id||pt.id}});R(pt=>({...pt,organs:Xe})),be()},Re=>{console.error("Erro ao carregar orgaos:",Re),be()}),ft=Qf(Nc(yn,"maintenances"),Re=>{const Xe=Re.docs.map(pt=>{const _n=pt.data();return{..._n,id:_n.id||pt.id}});R(pt=>({...pt,maintenances:Xe})),be()},Re=>{console.error("Erro ao carregar manutencoes:",Re),be()}),ht=Qf(Nc(yn,"deletedItems"),Re=>{const Xe=Re.docs.map(pt=>{const _n=pt.data();return{..._n,id:_n.id||pt.id}});R(pt=>({...pt,deletedItems:Xe})),be()},Re=>{console.error("Erro ao carregar historico:",Re),be()});return()=>{Me(),ft(),ht()}},[V]);const rt=()=>Math.floor(1e3+Math.random()*9e3).toString(),G=re=>re.split("").map((be,Me)=>{const ft=parseInt(be),ht=Me+1;return(ft+1)*ht%10}).join(""),ae=re=>{const be=w.maintenances.filter(Re=>Re.organId===re);if(be.length===0)return!0;const Me=be.reduce((Re,Xe)=>new Date(Xe.date)>new Date(Re)?Xe.date:Re,be[0].date),ft=new Date(Me+"T00:00:00"),ht=new Date;return ht.setFullYear(ht.getFullYear()-1),ft<ht},me=re=>{const be=w.organs.filter(Me=>Me.locationId===re);return be.length===0?!1:be.some(Me=>ae(Me.id))},Be=re=>w.locations.filter(Me=>Me.adm===re).some(Me=>me(Me.id)),He=async re=>{try{await Ic(Ji(yn,"organs",re.id),re),e("location-detail")}catch(be){console.error(be),alert("Erro ao salvar o orgao.")}},k=async re=>{try{await Ic(Ji(yn,"organs",re.id),re),e("location-detail")}catch(be){console.error(be),alert("Erro ao atualizar o orgao.")}},Y=async(re,be)=>{const Me=w.organs.find(Re=>Re.id===re);if(!Me)return;const ft=w.locations.find(Re=>Re.id===Me.locationId),ht={id:crypto.randomUUID(),type:"organ",data:Me,reason:be,deletedAt:new Date().toISOString(),metadata:{locationName:ft==null?void 0:ft.name,adm:ft==null?void 0:ft.adm}};try{const Re=ev(yn);Re.set(Ji(yn,"deletedItems",ht.id),ht),Re.delete(Ji(yn,"organs",re));const Xe=S2(Nc(yn,"maintenances"),x2("organId","==",re));(await I2(Xe)).forEach(_n=>Re.delete(Ji(yn,"maintenances",_n.id))),await Re.commit()}catch(Re){console.error(Re),alert("Erro ao excluir o orgao.")}},se=async re=>{try{await Ic(Ji(yn,"maintenances",re.id),et(re)),e("location-detail")}catch(be){console.error(be),alert("Erro ao salvar a manutencao.")}},ue=async re=>{try{await Ic(Ji(yn,"maintenances",re.id),et(re)),s==="edit-maintenance"&&e("reports")}catch(be){console.error(be),alert("Erro ao atualizar a manutencao.")}},ve=async(re,be)=>{const Me=w.maintenances.find(Xe=>Xe.id===re);if(!Me)return;const ft=w.organs.find(Xe=>Xe.id===Me.organId),ht=ft?w.locations.find(Xe=>Xe.id===ft.locationId):null,Re={id:crypto.randomUUID(),type:"maintenance",data:Me,reason:be,deletedAt:new Date().toISOString(),metadata:{locationName:ht==null?void 0:ht.name,adm:ht==null?void 0:ht.adm}};try{const Xe=ev(yn);Xe.set(Ji(yn,"deletedItems",Re.id),Re),Xe.delete(Ji(yn,"maintenances",re)),await Xe.commit()}catch(Xe){console.error(Xe),alert("Erro ao excluir a manutencao.")}},Te=(re,be,Me)=>{pe({type:re,id:be,mode:Me}),le(""),q(""),ie(rt()),x(!0)},Oe=re=>{re.preventDefault();const be=G(K);if(D===be){if(!X)return;if(X.mode==="edit")X.type==="organ"&&X.id?(p(X.id),e("edit-organ")):X.type==="maintenance"&&X.id&&(_(X.id),e("edit-maintenance"));else if(X.mode==="delete"){if(!J.trim()){alert("Por favor, informe o motivo da excluso.");return}X.type==="organ"&&X.id?Y(X.id,J):X.type==="maintenance"&&X.id&&ve(X.id,J)}else X.mode==="view"&&X.type==="history"&&S(!0);x(!1),q(""),le(""),ne(!1),pe(null)}else ne(!0),ie(rt()),q(""),setTimeout(()=>ne(!1),2e3)},Rt=w.locations.find(re=>re.id===o);return b.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[b.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[b.jsx("header",{className:"bg-white border-b border-slate-200 px-8 py-4 flex items-center justify-between shadow-sm",children:b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 overflow-hidden",children:[b.jsxs("button",{onClick:()=>{e("home"),r(null),u(null),p(null)},className:"hover:text-blue-600 flex items-center gap-1 font-medium transition-colors border border-slate-100 px-2 py-1 rounded-md",children:[b.jsx(tI,{size:16,className:"text-sky-300"}),"Incio"]}),i&&b.jsxs(b.Fragment,{children:[b.jsx(qc,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{e("adm-detail"),u(null),p(null)},className:`hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md ${s==="adm-detail"?"text-blue-600 font-bold":"font-medium"}`,children:i})]}),Rt&&b.jsxs(b.Fragment,{children:[b.jsx(qc,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{e("location-detail"),p(null)},className:`hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md ${s==="location-detail"?"text-blue-600 font-bold":"font-medium"}`,children:Rt.name})]}),(s==="register-organ"||s==="edit-organ"||s==="register-maintenance"||s==="edit-maintenance"||s==="reports")&&b.jsxs(b.Fragment,{children:[b.jsx(qc,{size:14,className:"text-slate-300"}),b.jsx("span",{className:"text-blue-600 font-bold whitespace-nowrap border border-blue-50 px-2 py-1 rounded-md bg-blue-50/30",children:s==="register-organ"?"Novo rgo":s==="edit-organ"?"Editar rgo":s==="register-maintenance"?"Manuteno":s==="edit-maintenance"?"Editar Manuteno":"Relatrios"})]})]})}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[I&&b.jsx("div",{className:"py-16 text-center text-slate-400 font-bold tracking-widest uppercase text-sm",children:"Carregando dados..."}),!I&&s==="home"&&b.jsx(vI,{isAdmPending:Be,onSelectAdm:re=>{r(re),e("adm-detail")},onOpenReports:()=>e("reports")}),!I&&s==="adm-detail"&&i&&b.jsx(bI,{adm:i,state:w,isLocationPending:me,onSelectLocation:re=>{u(re),e("location-detail")}}),!I&&s==="location-detail"&&o&&b.jsx(TI,{locationId:o,state:w,isMaintenancePending:ae,onRegisterOrgan:()=>e("register-organ"),onEditOrgan:re=>Te("organ",re,"edit"),onDeleteOrgan:re=>Te("organ",re,"delete"),onEditMaintenance:re=>Te("maintenance",re,"edit"),onDeleteMaintenance:re=>Te("maintenance",re,"delete"),onRegisterMaintenance:re=>{p(re),e("register-maintenance")}}),!I&&(s==="register-organ"||s==="edit-organ")&&o&&b.jsx(RI,{locationId:o,locations:w.locations,initialData:s==="edit-organ"?w.organs.find(re=>re.id===d):void 0,onSubmit:s==="edit-organ"?k:He,onCancel:()=>e("location-detail")}),!I&&(s==="register-maintenance"||s==="edit-maintenance")&&b.jsx(QC,{organs:w.organs,locations:w.locations,initialOrganId:d,initialData:s==="edit-maintenance"?w.maintenances.find(re=>re.id===g):void 0,onSubmit:s==="edit-maintenance"?ue:se,onCancel:()=>e(s==="edit-maintenance"?"reports":"location-detail")}),!I&&s==="reports"&&b.jsx(KC,{state:w,isMaintenancePending:ae,onEditMaintenance:re=>Te("maintenance",re,"edit"),onDeleteMaintenance:re=>Te("maintenance",re,"delete"),isHistoryAuthorized:z,onRequestHistoryAccess:()=>Te("history",void 0,"view")})]})})]}),E&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-200",children:b.jsx("div",{className:"bg-white w-full max-w-sm rounded-[32px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:b.jsxs("div",{className:"p-8 text-center space-y-6",children:[b.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl flex items-center justify-center border shadow-inner ${(X==null?void 0:X.mode)==="delete"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:(X==null?void 0:X.mode)==="delete"?b.jsx(Ul,{size:28}):b.jsx(YT,{size:28})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(X==null?void 0:X.mode)==="delete"?"Confirmar Excluso":(X==null?void 0:X.mode)==="view"?"Acesso ao Histrico":"Acesso Restrito"}),(X==null?void 0:X.mode)==="delete"&&b.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Informe o motivo para prosseguir."})]}),b.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4 space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[b.jsx(KN,{size:14}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Dica de Acesso"})]}),b.jsx("div",{className:"flex justify-center gap-3",children:K.split("").map((re,be)=>b.jsx("div",{className:"w-10 h-12 bg-white border border-slate-200 rounded-xl flex items-center justify-center text-xl font-black text-blue-600 shadow-sm",children:re},be))})]}),b.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[(X==null?void 0:X.mode)==="delete"&&b.jsxs("div",{className:"space-y-1 text-left",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Motivo da Excluso"}),b.jsx("textarea",{autoFocus:!0,required:!0,value:J,onChange:re=>le(re.target.value),placeholder:"Ex: Erro de cadastro...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-red-500 focus:bg-white transition-all text-sm font-medium min-h-[80px]"})]}),b.jsxs("div",{className:"space-y-1 text-left",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Senha"}),b.jsx("input",{type:"password",inputMode:"numeric",autoFocus:(X==null?void 0:X.mode)!=="delete",value:D,onChange:re=>q(re.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"",className:`w-full p-4 bg-slate-50 border rounded-2xl outline-none transition-all text-center text-lg font-bold tracking-widest focus:bg-white ${te?"border-red-500 bg-red-50 text-red-600 animate-shake":"border-slate-200 focus:border-blue-500"}`})]}),te&&b.jsx("p",{className:"text-red-500 text-xs font-bold uppercase tracking-widest animate-in slide-in-from-top-1",children:"Senha Incorreta"}),b.jsxs("div",{className:"flex gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:()=>{x(!1),q(""),le(""),ne(!1),pe(null)},className:"flex-1 py-4 bg-slate-100 text-slate-500 rounded-2xl font-bold hover:bg-slate-200 transition-colors",children:b.jsx(Zi,{className:"mx-auto",size:20})}),b.jsxs("button",{type:"submit",className:`flex-[2] py-4 text-white rounded-2xl font-bold transition-all shadow-lg flex items-center justify-center gap-2 ${(X==null?void 0:X.mode)==="delete"?"bg-red-600 hover:bg-red-700 shadow-red-200":"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}`,children:["Validar",b.jsx(PN,{size:18})]})]})]})]})})}),b.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.2s ease-in-out 0s 2;
        }
      `})]})},mE=document.getElementById("root");if(!mE)throw new Error("Could not find root element to mount to");const XC=WA.createRoot(mE);XC.render(b.jsx(GA.StrictMode,{children:b.jsx(YC,{})}));
